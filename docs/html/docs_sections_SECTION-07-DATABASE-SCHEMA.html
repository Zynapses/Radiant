<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SECTION 07 DATABASE SCHEMA - RADIANT Documentation</title>
  
<style>
@media print {
  body { font-size: 11pt !important; }
  pre { page-break-inside: avoid; }
  h1, h2, h3 { page-break-after: avoid; }
  .no-print { display: none !important; }
}

* { box-sizing: border-box; }

body {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
  line-height: 1.7;
  color: #1d1d1f;
  max-width: 900px;
  margin: 0 auto;
  padding: 40px 30px;
  background: white;
}

h1 {
  color: #1d1d1f;
  border-bottom: 3px solid #0071e3;
  padding-bottom: 12px;
  font-size: 28px;
  margin-top: 0;
}

h2 {
  color: #1d1d1f;
  border-bottom: 1px solid #d2d2d7;
  padding-bottom: 8px;
  font-size: 22px;
  margin-top: 40px;
}

h3 { color: #1d1d1f; font-size: 18px; margin-top: 30px; }
h4 { color: #1d1d1f; font-size: 16px; margin-top: 25px; }

a { color: #0071e3; text-decoration: none; }
a:hover { text-decoration: underline; }

code {
  background: #f5f5f7;
  padding: 2px 6px;
  border-radius: 4px;
  font-family: 'SF Mono', Monaco, 'Cascadia Code', monospace;
  font-size: 0.9em;
  color: #1d1d1f;
}

pre {
  background: #1d1d1f;
  color: #f5f5f7;
  padding: 20px;
  border-radius: 10px;
  overflow-x: auto;
  font-size: 13px;
  line-height: 1.5;
}

pre code {
  background: transparent;
  padding: 0;
  color: inherit;
}

table {
  width: 100%;
  border-collapse: collapse;
  margin: 20px 0;
  font-size: 14px;
}

th, td {
  border: 1px solid #d2d2d7;
  padding: 12px 15px;
  text-align: left;
}

th {
  background: #0071e3;
  color: white;
  font-weight: 600;
}

tr:nth-child(even) { background: #f5f5f7; }

blockquote {
  border-left: 4px solid #0071e3;
  margin: 20px 0;
  padding: 15px 25px;
  background: #f5f5f7;
  border-radius: 0 8px 8px 0;
}

blockquote p { margin: 0; }

img { max-width: 100%; height: auto; border-radius: 8px; }

hr {
  border: none;
  border-top: 1px solid #d2d2d7;
  margin: 40px 0;
}

ul, ol { padding-left: 25px; }
li { margin: 8px 0; }

.header-bar {
  background: linear-gradient(135deg, #0071e3 0%, #00c6ff 100%);
  color: white;
  padding: 20px 30px;
  margin: -40px -30px 30px -30px;
  border-radius: 0 0 16px 16px;
}

.header-bar h1 {
  color: white;
  border: none;
  margin: 0;
  padding: 0;
}

.header-bar .meta {
  font-size: 13px;
  opacity: 0.9;
  margin-top: 8px;
}

.print-btn {
  position: fixed;
  top: 20px;
  right: 20px;
  background: #0071e3;
  color: white;
  border: none;
  padding: 12px 24px;
  border-radius: 8px;
  cursor: pointer;
  font-size: 14px;
  font-weight: 500;
  box-shadow: 0 4px 12px rgba(0,113,227,0.3);
}

.print-btn:hover { background: #0077ed; }

.mermaid {
  background: #f5f5f7;
  padding: 20px;
  border-radius: 10px;
  text-align: center;
  margin: 20px 0;
}

.footer {
  margin-top: 60px;
  padding-top: 20px;
  border-top: 1px solid #d2d2d7;
  color: #86868b;
  font-size: 12px;
  text-align: center;
}
</style>

</head>
<body>
  <button class="print-btn no-print" onclick="window.print()">üñ®Ô∏è Print / Save as PDF</button>
  
  <div class="header-bar">
    <h1>SECTION 07 DATABASE SCHEMA</h1>
    <div class="meta">RADIANT v5.52.29 | docs/sections/SECTION-07-DATABASE-SCHEMA.md</div>
  </div>
  
  <h1 id="section-7-external-providers-database-schema-v2.3.0---canonical">SECTION 7: EXTERNAL PROVIDERS &amp; DATABASE SCHEMA (v2.3.0 - CANONICAL)</h1>
<h1 id="√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢">√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê</h1>
<blockquote>
<p><strong>Dependencies:</strong> Sections 0-6 <strong>Creates:</strong> 21 provider integrations, Complete PostgreSQL schema, all migrations</p>
</blockquote>
<h2 id="√¢≈°-√Ø-important-canonical-database-schema">√¢≈°¬†√Ø¬∏¬è IMPORTANT: CANONICAL DATABASE SCHEMA</h2>
<p><strong>This section contains the ONLY database migration files.</strong> Ignore any migration snippets in other sections - use ONLY the migrations defined here.</p>
<h3 id="canonical-table-names-enforced-throughout">Canonical Table Names (enforced throughout):</h3>
<table>
<colgroup>
<col style="width: 43%" />
<col style="width: 56%" />
</colgroup>
<thead>
<tr>
<th>Table</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>tenants</code></td>
<td>Multi-tenant isolation</td>
</tr>
<tr>
<td><code>users</code></td>
<td>End users (not admins)</td>
</tr>
<tr>
<td><code>administrators</code></td>
<td>Platform admins</td>
</tr>
<tr>
<td><code>invitations</code></td>
<td>Admin invitations</td>
</tr>
<tr>
<td><code>approval_requests</code></td>
<td>Two-person approval workflow</td>
</tr>
<tr>
<td><code>providers</code></td>
<td>AI provider configurations</td>
</tr>
<tr>
<td><code>models</code></td>
<td>AI model definitions</td>
</tr>
<tr>
<td><code>usage_events</code></td>
<td>Request-level usage tracking</td>
</tr>
<tr>
<td><code>invoices</code></td>
<td>Billing invoices</td>
</tr>
<tr>
<td><code>audit_logs</code></td>
<td>Compliance audit trail</td>
</tr>
<tr>
<td><code>revenue_entries</code></td>
<td>Individual revenue events (subscriptions, credits, AI markup)</td>
</tr>
<tr>
<td><code>cost_entries</code></td>
<td>Infrastructure costs (AWS, external AI, platform fees)</td>
</tr>
<tr>
<td><code>revenue_daily_aggregates</code></td>
<td>Pre-computed daily revenue/cost summaries</td>
</tr>
<tr>
<td><code>model_revenue_tracking</code></td>
<td>Per-model revenue breakdown with markup analysis</td>
</tr>
<tr>
<td><code>accounting_periods</code></td>
<td>Month-end close tracking</td>
</tr>
<tr>
<td><code>reconciliation_entries</code></td>
<td>Accounting adjustments</td>
</tr>
<tr>
<td><code>revenue_export_log</code></td>
<td>Audit trail for accounting exports</td>
</tr>
<tr>
<td><code>preprompt_templates</code></td>
<td>Reusable pre-prompt patterns with weights</td>
</tr>
<tr>
<td><code>preprompt_instances</code></td>
<td>Actual pre-prompts used in AGI plans</td>
</tr>
<tr>
<td><code>preprompt_feedback</code></td>
<td>User feedback with attribution analysis</td>
</tr>
<tr>
<td><code>preprompt_attribution_scores</code></td>
<td>Learning correlations per factor</td>
</tr>
<tr>
<td><code>preprompt_learning_config</code></td>
<td>Admin-configurable learning parameters</td>
</tr>
<tr>
<td><code>preprompt_selection_log</code></td>
<td>Selection reasoning audit trail</td>
</tr>
<tr>
<td><code>user_memory_rules</code></td>
<td>User personal AI interaction rules</td>
</tr>
<tr>
<td><code>preset_user_rules</code></td>
<td>Pre-seeded rule templates users can add</td>
</tr>
<tr>
<td><code>user_rule_application_log</code></td>
<td>Tracks when user rules are applied</td>
</tr>
<tr>
<td><code>memory_categories</code></td>
<td>Hierarchical categorization of memory types</td>
</tr>
<tr>
<td><code>ai_ethics_standards</code></td>
<td>Industry AI ethics frameworks (NIST, ISO, EU AI Act)</td>
</tr>
<tr>
<td><code>ai_ethics_principle_standards</code></td>
<td>Mapping principles to standard sections</td>
</tr>
<tr>
<td><code>provider_rejections</code></td>
<td>Track provider/model rejections with fallback chain</td>
</tr>
<tr>
<td><code>rejection_patterns</code></td>
<td>Learn rejection patterns for smarter fallback</td>
</tr>
<tr>
<td><code>user_rejection_notifications</code></td>
<td>Notify users of rejected requests</td>
</tr>
<tr>
<td><code>model_rejection_stats</code></td>
<td>Per-model rejection statistics</td>
</tr>
<tr>
<td><code>rejection_analytics</code></td>
<td>Daily aggregated rejection stats by model/provider/mode</td>
</tr>
<tr>
<td><code>rejection_keyword_stats</code></td>
<td>Track violation keywords for policy review</td>
</tr>
<tr>
<td><code>tenant_users</code></td>
<td>End-user accounts with RLS isolation (v5.1.1)</td>
</tr>
<tr>
<td><code>platform_admins</code></td>
<td>Platform administrator accounts (v5.1.1)</td>
</tr>
<tr>
<td><code>service_api_keys</code></td>
<td>Service API key metadata and rate limits (v5.1.1)</td>
</tr>
<tr>
<td><code>service_api_key_audit</code></td>
<td>Partitioned API key usage audit log (v5.1.1)</td>
</tr>
<tr>
<td><code>tenant_sso_connections</code></td>
<td>SAML/OIDC SSO configuration per tenant (v5.1.1)</td>
</tr>
<tr>
<td><code>litellm_gateway_config</code></td>
<td>LiteLLM Gateway scaling parameters (v5.1.1)</td>
</tr>
<tr>
<td><code>system_component_health</code></td>
<td>Component health tracking for dashboard (v5.1.1)</td>
</tr>
<tr>
<td><code>system_alerts</code></td>
<td>Active system alerts (v5.1.1)</td>
</tr>
<tr>
<td><code>cortex_config</code></td>
<td>Per-tenant Graph-RAG configuration (v5.52.25)</td>
</tr>
<tr>
<td><code>cortex_entities</code></td>
<td>Knowledge entities with vector embeddings (v5.52.25)</td>
</tr>
<tr>
<td><code>cortex_relationships</code></td>
<td>Entity relationships with temporal validity (v5.52.25)</td>
</tr>
<tr>
<td><code>cortex_chunks</code></td>
<td>Text chunks with embeddings for RAG (v5.52.25)</td>
</tr>
<tr>
<td><code>cortex_activity_log</code></td>
<td>Cortex activity tracking (v5.52.25)</td>
</tr>
<tr>
<td><code>cortex_query_log</code></td>
<td>Cortex query analytics (v5.52.25)</td>
</tr>
<tr>
<td><code>oauth_clients</code></td>
<td>Registered third-party OAuth applications (v5.52.26)</td>
</tr>
<tr>
<td><code>oauth_authorization_codes</code></td>
<td>Short-lived OAuth auth codes (v5.52.26)</td>
</tr>
<tr>
<td><code>oauth_access_tokens</code></td>
<td>OAuth access token hashes (v5.52.26)</td>
</tr>
<tr>
<td><code>oauth_refresh_tokens</code></td>
<td>OAuth refresh tokens with rotation (v5.52.26)</td>
</tr>
<tr>
<td><code>oauth_user_authorizations</code></td>
<td>User consent records for OAuth apps (v5.52.26)</td>
</tr>
<tr>
<td><code>oauth_scope_definitions</code></td>
<td>Admin-configurable OAuth scopes (v5.52.26)</td>
</tr>
<tr>
<td><code>oauth_audit_log</code></td>
<td>Partitioned OAuth audit log (v5.52.26)</td>
</tr>
<tr>
<td><code>tenant_oauth_settings</code></td>
<td>Per-tenant OAuth configuration (v5.52.26)</td>
</tr>
<tr>
<td><code>oauth_signing_keys</code></td>
<td>RSA keys for JWT signing (v5.52.26)</td>
</tr>
<tr>
<td><code>mfa_backup_codes</code></td>
<td>One-time MFA recovery codes (v5.52.28)</td>
</tr>
<tr>
<td><code>mfa_trusted_devices</code></td>
<td>30-day device trust tokens (v5.52.28)</td>
</tr>
<tr>
<td><code>mfa_audit_log</code></td>
<td>Partitioned MFA event audit log (v5.52.28)</td>
</tr>
<tr>
<td><code>uds_conversations.detected_language</code></td>
<td>Auto-detected content language for search (v5.52.29)</td>
</tr>
<tr>
<td><code>uds_conversations.search_vector_simple</code></td>
<td>Simple tsvector for fallback search (v5.52.29)</td>
</tr>
<tr>
<td><code>uds_conversations.search_vector_english</code></td>
<td>Language-specific tsvector (v5.52.29)</td>
</tr>
<tr>
<td><code>rejected_prompt_archive</code></td>
<td>Archive rejected prompts with full content for analysis</td>
</tr>
<tr>
<td><code>routing_decision_cache</code></td>
<td>Semantic vector cache for brain router decisions</td>
</tr>
<tr>
<td><code>storage_tier_config</code></td>
<td>Adaptive storage configuration per deployment tier</td>
</tr>
<tr>
<td><code>ethics_config_presets</code></td>
<td>Externalized ethics frameworks (secular, religious, etc.)</td>
</tr>
<tr>
<td><code>tenant_ethics_config</code></td>
<td>Per-tenant ethics preset selection</td>
</tr>
<tr>
<td><code>preprompt_shadow_tests</code></td>
<td>Shadow A/B tests for pre-prompt optimization</td>
</tr>
<tr>
<td><code>preprompt_shadow_samples</code></td>
<td>Individual samples from shadow tests</td>
</tr>
<tr>
<td><code>preprompt_shadow_settings</code></td>
<td>Global shadow testing configuration</td>
</tr>
<tr>
<td><code>uncertainty_events</code></td>
<td>Logprob-based uncertainty detection events</td>
</tr>
<tr>
<td><code>user_gold_interactions</code></td>
<td>Highly-rated interactions for few-shot learning (pgvector)</td>
</tr>
<tr>
<td><code>synthesis_sessions</code></td>
<td>MoA parallel generation sessions</td>
</tr>
<tr>
<td><code>synthesis_drafts</code></td>
<td>Individual model drafts in synthesis</td>
</tr>
<tr>
<td><code>synthesis_results</code></td>
<td>Final synthesized responses</td>
</tr>
<tr>
<td><code>verification_sessions</code></td>
<td>Cross-provider adversarial verification sessions</td>
</tr>
<tr>
<td><code>verification_issues</code></td>
<td>Issues found by adversarial models</td>
</tr>
<tr>
<td><code>code_execution_sessions</code></td>
<td>Code sandbox execution sessions</td>
</tr>
<tr>
<td><code>code_execution_runs</code></td>
<td>Individual execution attempts with patches</td>
</tr>
<tr>
<td><code>intelligence_aggregator_config</code></td>
<td>Per-tenant Intelligence Aggregator configuration</td>
</tr>
<tr>
<td><code>prompt_patterns</code></td>
<td>Common prompt patterns for typeahead matching</td>
</tr>
<tr>
<td><code>user_prompt_history</code></td>
<td>User prompt history with embeddings for suggestions</td>
</tr>
<tr>
<td><code>suggestion_log</code></td>
<td>Typeahead suggestion usage tracking</td>
</tr>
<tr>
<td><code>result_ideas</code></td>
<td>Ideas shown with AI responses</td>
</tr>
<tr>
<td><code>proactive_suggestions</code></td>
<td>Push notification suggestions</td>
</tr>
<tr>
<td><code>trending_prompts</code></td>
<td>Popular prompts by domain</td>
</tr>
<tr>
<td><code>agi_ideas_config</code></td>
<td>Per-tenant AGI Ideas configuration</td>
</tr>
<tr>
<td><code>agi_learned_prompts</code></td>
<td>Persisted prompts with success rates and embeddings</td>
</tr>
<tr>
<td><code>agi_learned_ideas</code></td>
<td>Learned idea patterns with click rates</td>
</tr>
<tr>
<td><code>prompt_idea_associations</code></td>
<td>Links between prompts and effective ideas</td>
</tr>
<tr>
<td><code>agi_learning_events</code></td>
<td>Raw learning signals for analysis</td>
</tr>
<tr>
<td><code>agi_learning_aggregates</code></td>
<td>Pre-computed learning statistics</td>
</tr>
<tr>
<td><code>agi_model_selection_outcomes</code></td>
<td>Model selection outcomes with ratings</td>
</tr>
<tr>
<td><code>agi_routing_outcomes</code></td>
<td>Routing path effectiveness tracking</td>
</tr>
<tr>
<td><code>agi_domain_detection_feedback</code></td>
<td>Domain detection accuracy feedback</td>
</tr>
<tr>
<td><code>agi_orchestration_mode_outcomes</code></td>
<td>Mode effectiveness per context</td>
</tr>
<tr>
<td><code>agi_response_quality_metrics</code></td>
<td>Response quality dimensions</td>
</tr>
<tr>
<td><code>agi_preprompt_effectiveness</code></td>
<td>Preprompt effectiveness tracking</td>
</tr>
<tr>
<td><code>agi_user_learning_profile</code></td>
<td>User preferences learned over time</td>
</tr>
<tr>
<td><code>agi_unified_learning_log</code></td>
<td>Single source of truth for all learning</td>
</tr>
<tr>
<td><code>response_feedback</code></td>
<td>Enhanced feedback with 5-star ratings and comments</td>
</tr>
<tr>
<td><code>feedback_summaries</code></td>
<td>Pre-aggregated feedback statistics by scope</td>
</tr>
<tr>
<td><code>feedback_config</code></td>
<td>Per-tenant feedback configuration</td>
</tr>
<tr>
<td><code>reasoning_trees</code></td>
<td>Tree of Thoughts reasoning sessions</td>
</tr>
<tr>
<td><code>knowledge_entities</code></td>
<td>GraphRAG knowledge entities</td>
</tr>
<tr>
<td><code>knowledge_relationships</code></td>
<td>GraphRAG entity relationships</td>
</tr>
<tr>
<td><code>research_jobs</code></td>
<td>Deep Research job tracking</td>
</tr>
<tr>
<td><code>job_queue</code></td>
<td>Async job processing queue</td>
</tr>
<tr>
<td><code>lora_adapters</code></td>
<td>Dynamic LoRA adapter registry</td>
</tr>
<tr>
<td><code>generated_ui</code></td>
<td>Generative UI component tracking</td>
</tr>
<tr>
<td><code>cognitive_architecture_config</code></td>
<td>Per-tenant cognitive feature config</td>
</tr>
<tr>
<td><code>consciousness_test_results</code></td>
<td>Consciousness test results</td>
</tr>
<tr>
<td><code>genesis_personas</code></td>
<td>Cato mood definitions (Balanced, Scout, Sage, Spark, Guide)</td>
</tr>
<tr>
<td><code>user_persona_selections</code></td>
<td>User‚Äôs selected Cato mood</td>
</tr>
<tr>
<td><code>cato_governor_state</code></td>
<td>Precision Governor decision history</td>
</tr>
<tr>
<td><code>cato_cbf_definitions</code></td>
<td>Control Barrier Function definitions</td>
</tr>
<tr>
<td><code>cato_cbf_violations</code></td>
<td>CBF violation log</td>
</tr>
<tr>
<td><code>cato_veto_log</code></td>
<td>Sensory veto events (hard stops)</td>
</tr>
<tr>
<td><code>cato_fracture_detections</code></td>
<td>Intent-action misalignment detection</td>
</tr>
<tr>
<td><code>cato_epistemic_recovery</code></td>
<td>Epistemic recovery event tracking</td>
</tr>
<tr>
<td><code>cato_human_escalations</code></td>
<td>Human escalation queue</td>
</tr>
<tr>
<td><code>cato_audit_trail</code></td>
<td>Merkle-verified append-only audit log</td>
</tr>
<tr>
<td><code>cato_audit_tiles</code></td>
<td>Audit batching for S3 anchoring</td>
</tr>
<tr>
<td><code>cato_audit_anchors</code></td>
<td>S3 Object Lock anchor references</td>
</tr>
<tr>
<td><code>cato_tenant_config</code></td>
<td>Per-tenant Cato safety configuration</td>
</tr>
<tr>
<td><code>cato_cloudwatch_alarm_mappings</code></td>
<td>CloudWatch alarm to veto signal mappings</td>
</tr>
<tr>
<td><code>cato_entropy_jobs</code></td>
<td>Async entropy check job tracking</td>
</tr>
<tr>
<td><code>cato_cloudwatch_sync_log</code></td>
<td>CloudWatch sync audit log</td>
</tr>
<tr>
<td><code>cato_api_persona_overrides</code></td>
<td>API-level session persona overrides</td>
</tr>
<tr>
<td><code>consciousness_profiles</code></td>
<td>Aggregated consciousness profiles</td>
</tr>
<tr>
<td><code>emergence_events</code></td>
<td>Consciousness emergence events</td>
</tr>
<tr>
<td><code>deep_thinking_sessions</code></td>
<td>Extended reasoning sessions</td>
</tr>
<tr>
<td><code>consciousness_parameters</code></td>
<td>Adjustable consciousness parameters</td>
</tr>
<tr>
<td><code>global_workspace</code></td>
<td>Global Workspace Theory state</td>
</tr>
<tr>
<td><code>recurrent_processing</code></td>
<td>Recurrent Processing state</td>
</tr>
<tr>
<td><code>integrated_information</code></td>
<td>IIT/Phi state</td>
</tr>
<tr>
<td><code>persistent_memory</code></td>
<td>Unified experience state</td>
</tr>
<tr>
<td><code>world_model</code></td>
<td>World-model grounding state</td>
</tr>
<tr>
<td><code>self_model</code></td>
<td>Self-awareness state</td>
</tr>
<tr>
<td><code>introspective_thoughts</code></td>
<td>Self-reflective thoughts</td>
</tr>
<tr>
<td><code>curiosity_topics</code></td>
<td>Curiosity tracking</td>
</tr>
<tr>
<td><code>creative_ideas</code></td>
<td>Creative synthesis storage</td>
</tr>
<tr>
<td><code>imagination_scenarios</code></td>
<td>Mental simulations</td>
</tr>
<tr>
<td><code>attention_focus</code></td>
<td>Attention/salience tracking</td>
</tr>
<tr>
<td><code>affective_state</code></td>
<td>Emotion-like signals</td>
</tr>
<tr>
<td><code>affective_events</code></td>
<td>Affective event log</td>
</tr>
<tr>
<td><code>autonomous_goals</code></td>
<td>Self-directed goals</td>
</tr>
<tr>
<td><code>exploration_sessions</code></td>
<td>Topic exploration sessions</td>
</tr>
<tr>
<td><code>semantic_memories</code></td>
<td>Long-term semantic knowledge</td>
</tr>
<tr>
<td><code>generated_apps</code></td>
<td>Think Tank generated interactive apps</td>
</tr>
<tr>
<td><code>app_interactions</code></td>
<td>User interactions with generated apps</td>
</tr>
<tr>
<td><code>user_app_preferences</code></td>
<td>User preferences for app factory</td>
</tr>
<tr>
<td><code>app_templates</code></td>
<td>Pre-built app templates</td>
</tr>
<tr>
<td><code>consent_records</code></td>
<td>GDPR consent tracking</td>
</tr>
<tr>
<td><code>gdpr_requests</code></td>
<td>GDPR data subject requests</td>
</tr>
<tr>
<td><code>data_retention_policies</code></td>
<td>Configurable data retention</td>
</tr>
<tr>
<td><code>phi_access_log</code></td>
<td>HIPAA PHI access audit trail</td>
</tr>
<tr>
<td><code>cato_genesis_state</code></td>
<td>Genesis boot sequence state tracking</td>
</tr>
<tr>
<td><code>cato_development_counters</code></td>
<td>Atomic counters for developmental gates</td>
</tr>
<tr>
<td><code>cato_developmental_stage</code></td>
<td>Current developmental stage (Piaget-inspired)</td>
</tr>
<tr>
<td><code>cato_circuit_breakers</code></td>
<td>Circuit breaker states and configuration</td>
</tr>
<tr>
<td><code>cato_circuit_breaker_events</code></td>
<td>Circuit breaker event history</td>
</tr>
<tr>
<td><code>cato_neurochemistry</code></td>
<td>Emotional/cognitive state (anxiety, curiosity, etc.)</td>
</tr>
<tr>
<td><code>cato_tick_costs</code></td>
<td>Per-tick cost tracking</td>
</tr>
<tr>
<td><code>cato_pricing_cache</code></td>
<td>AWS pricing table cache</td>
</tr>
<tr>
<td><code>cato_pymdp_state</code></td>
<td>PyMDP active inference state</td>
</tr>
<tr>
<td><code>cato_pymdp_matrices</code></td>
<td>Active inference matrices (A, B, C, D)</td>
</tr>
<tr>
<td><code>cato_consciousness_settings</code></td>
<td>Loop configuration settings</td>
</tr>
<tr>
<td><code>cato_loop_state</code></td>
<td>Consciousness loop execution state</td>
</tr>
<tr>
<td><code>data_processing_agreements</code></td>
<td>Sub-processor DPAs</td>
</tr>
<tr>
<td><code>data_breach_incidents</code></td>
<td>Security breach tracking</td>
</tr>
<tr>
<td><code>hipaa_config</code></td>
<td>Per-tenant HIPAA configuration</td>
</tr>
<tr>
<td><code>generative_ui_feedback</code></td>
<td>User feedback on generated UI</td>
</tr>
<tr>
<td><code>ui_improvement_requests</code></td>
<td>Real-time improvement requests</td>
</tr>
<tr>
<td><code>ui_improvement_sessions</code></td>
<td>Live AGI improvement sessions</td>
</tr>
<tr>
<td><code>ui_improvement_iterations</code></td>
<td>Session iteration history</td>
</tr>
<tr>
<td><code>ui_feedback_learnings</code></td>
<td>AGI learnings from feedback</td>
</tr>
<tr>
<td><code>ui_feedback_config</code></td>
<td>Per-tenant feedback configuration</td>
</tr>
<tr>
<td><code>ui_feedback_aggregates</code></td>
<td>Pre-computed feedback analytics</td>
</tr>
<tr>
<td><code>generated_multipage_apps</code></td>
<td>Multi-page web applications</td>
</tr>
<tr>
<td><code>app_pages</code></td>
<td>Individual pages within multi-page apps</td>
</tr>
<tr>
<td><code>app_versions</code></td>
<td>Version history for multi-page apps</td>
</tr>
<tr>
<td><code>app_deployments</code></td>
<td>Deployment tracking for apps</td>
</tr>
<tr>
<td><code>multipage_app_templates</code></td>
<td>Pre-built app templates</td>
</tr>
<tr>
<td><code>app_analytics</code></td>
<td>Usage analytics for generated apps</td>
</tr>
<tr>
<td><code>multipage_app_config</code></td>
<td>Per-tenant multi-page app config</td>
</tr>
<tr>
<td><code>self_hosted_model_metadata</code></td>
<td>Comprehensive metadata for 56 self-hosted AI models</td>
</tr>
<tr>
<td><code>model_orchestration_preferences</code></td>
<td>Tenant-specific model selection preferences</td>
</tr>
<tr>
<td><code>self_hosted_model_usage</code></td>
<td>Usage analytics for self-hosted models per tenant</td>
</tr>
<tr>
<td><code>model_selection_history</code></td>
<td>History of model selections by the orchestration engine</td>
</tr>
<tr>
<td><code>orchestration_methods</code></td>
<td>Shared reusable AI orchestration methods (70+)</td>
</tr>
<tr>
<td><code>orchestration_workflows</code></td>
<td>System (49) and user-defined orchestration workflows</td>
</tr>
<tr>
<td><code>workflow_method_bindings</code></td>
<td>Links methods to workflows with parameter overrides</td>
</tr>
<tr>
<td><code>workflow_customizations</code></td>
<td>Tenant-level customizations of system workflows</td>
</tr>
<tr>
<td><code>orchestration_executions</code></td>
<td>Workflow execution tracking with audit</td>
</tr>
<tr>
<td><code>orchestration_step_executions</code></td>
<td>Individual step execution records</td>
</tr>
<tr>
<td><code>user_workflow_templates</code></td>
<td>User-saved workflow templates with sharing</td>
</tr>
<tr>
<td><code>orchestration_audit_log</code></td>
<td>Audit trail for all workflow changes</td>
</tr>
<tr>
<td><code>thinktank_media_capabilities</code></td>
<td>Media input/output capabilities for Think Tank integration</td>
</tr>
<tr>
<td><code>model_proficiency_rankings</code></td>
<td>Ranked proficiency scores for models across domains and modes</td>
</tr>
<tr>
<td><code>model_discovery_log</code></td>
<td>Log of model discoveries with proficiency generation status</td>
</tr>
<tr>
<td><code>result_derivations</code></td>
<td>Comprehensive history of how Think Tank results are derived</td>
</tr>
<tr>
<td><code>derivation_steps</code></td>
<td>Individual steps in the execution plan</td>
</tr>
<tr>
<td><code>derivation_model_usage</code></td>
<td>Models used during result generation with token and cost tracking</td>
</tr>
<tr>
<td><code>derivation_timeline_events</code></td>
<td>Timeline events for visualization of execution flow</td>
</tr>
<tr>
<td><code>domain_ethics_config</code></td>
<td>Per-tenant domain ethics configuration</td>
</tr>
<tr>
<td><code>domain_ethics_custom_frameworks</code></td>
<td>Custom and built-in professional ethics frameworks</td>
</tr>
<tr>
<td><code>domain_ethics_audit_log</code></td>
<td>Audit log of ethics checks performed</td>
</tr>
<tr>
<td><code>domain_ethics_framework_overrides</code></td>
<td>Tenant-specific framework overrides</td>
</tr>
<tr>
<td><code>domain_ethics_violation_patterns</code></td>
<td>Custom violation patterns for frameworks</td>
</tr>
<tr>
<td><code>model_registry</code></td>
<td>Central registry of all AI models with capabilities</td>
</tr>
<tr>
<td><code>model_endpoints</code></td>
<td>Communication endpoints for models with auth and health</td>
</tr>
<tr>
<td><code>model_sync_config</code></td>
<td>Configuration for timed sync service</td>
</tr>
<tr>
<td><code>model_sync_jobs</code></td>
<td>History of sync job executions</td>
</tr>
<tr>
<td><code>new_model_detections</code></td>
<td>Newly detected models pending processing</td>
</tr>
<tr>
<td><code>model_routing_rules</code></td>
<td>Rules for routing requests to models</td>
</tr>
<tr>
<td><code>ethics_pipeline_log</code></td>
<td>Log of all ethics checks at prompt/synthesis levels</td>
</tr>
<tr>
<td><code>ethics_rerun_history</code></td>
<td>History of workflow reruns triggered by violations</td>
</tr>
<tr>
<td><code>ethics_pipeline_config</code></td>
<td>Per-tenant ethics pipeline configuration</td>
</tr>
<tr>
<td><code>inference_components_config</code></td>
<td>Per-tenant SageMaker Inference Components configuration</td>
</tr>
<tr>
<td><code>shared_inference_endpoints</code></td>
<td>Shared SageMaker endpoints hosting multiple models</td>
</tr>
<tr>
<td><code>inference_components</code></td>
<td>Model components on shared endpoints</td>
</tr>
<tr>
<td><code>tier_assignments</code></td>
<td>Current and recommended hosting tiers per model</td>
</tr>
<tr>
<td><code>tier_transitions</code></td>
<td>History of tier changes for models</td>
</tr>
<tr>
<td><code>component_load_events</code></td>
<td>Model load/unload event history</td>
</tr>
<tr>
<td><code>inference_component_events</code></td>
<td>Audit log of inference component events</td>
</tr>
<tr>
<td><code>consciousness_heartbeat_log</code></td>
<td>Consciousness heartbeat execution log</td>
</tr>
<tr>
<td><code>ethics_frameworks</code></td>
<td>Externalized ethics frameworks (secular, religious, etc.)</td>
</tr>
<tr>
<td><code>tenant_ethics_selection</code></td>
<td>Per-tenant ethics framework selection</td>
</tr>
<tr>
<td><code>user_persistent_context</code></td>
<td>User-level persistent context entries with embeddings</td>
</tr>
<tr>
<td><code>user_context_extraction_log</code></td>
<td>Context extraction audit trail</td>
</tr>
<tr>
<td><code>user_context_preferences</code></td>
<td>Per-user context learning preferences</td>
</tr>
<tr>
<td><code>consciousness_predictions</code></td>
<td>Active Inference predictions with outcomes</td>
</tr>
<tr>
<td><code>learning_candidates</code></td>
<td>High-value interactions flagged for LoRA training</td>
</tr>
<tr>
<td><code>lora_evolution_jobs</code></td>
<td>Weekly LoRA training job tracking</td>
</tr>
<tr>
<td><code>prediction_accuracy_aggregates</code></td>
<td>Aggregated prediction accuracy by context</td>
</tr>
<tr>
<td><code>consciousness_evolution_state</code></td>
<td>Track consciousness evolution across generations</td>
</tr>
<tr>
<td><code>local_ego_config</code></td>
<td>Per-tenant Local Ego configuration (shared model approach)</td>
</tr>
<tr>
<td><code>shared_ego_endpoints</code></td>
<td>Shared Ego SageMaker endpoint status</td>
</tr>
<tr>
<td><code>ego_processing_log</code></td>
<td>Local Ego processing decisions and recruitment</td>
</tr>
<tr>
<td><code>ego_config</code></td>
<td>Per-tenant Zero-Cost Ego configuration</td>
</tr>
<tr>
<td><code>ego_identity</code></td>
<td>Persistent identity (name, narrative, traits)</td>
</tr>
<tr>
<td><code>ego_affect</code></td>
<td>Real-time emotional state</td>
</tr>
<tr>
<td><code>ego_working_memory</code></td>
<td>Short-term memory with 24h expiry</td>
</tr>
<tr>
<td><code>ego_goals</code></td>
<td>Active and historical goals</td>
</tr>
<tr>
<td><code>ego_injection_log</code></td>
<td>Ego context injection audit trail</td>
</tr>
<tr>
<td><code>library_registry_config</code></td>
<td>Per-tenant library assist configuration</td>
</tr>
<tr>
<td><code>open_source_libraries</code></td>
<td>Global registry of open-source tools</td>
</tr>
<tr>
<td><code>tenant_library_overrides</code></td>
<td>Per-tenant library customization</td>
</tr>
<tr>
<td><code>library_usage_events</code></td>
<td>Library invocation audit trail</td>
</tr>
<tr>
<td><code>library_usage_aggregates</code></td>
<td>Pre-computed library usage statistics</td>
</tr>
<tr>
<td><code>library_update_jobs</code></td>
<td>Library registry update job tracking</td>
</tr>
<tr>
<td><code>library_version_history</code></td>
<td>Library version change history</td>
</tr>
<tr>
<td><code>library_registry_metadata</code></td>
<td>Global library registry metadata</td>
</tr>
<tr>
<td><code>library_execution_config</code></td>
<td>Per-tenant execution configuration</td>
</tr>
<tr>
<td><code>library_executions</code></td>
<td>Execution records with metrics and billing</td>
</tr>
<tr>
<td><code>library_execution_queue</code></td>
<td>Priority queue for pending executions</td>
</tr>
<tr>
<td><code>library_execution_logs</code></td>
<td>Execution debug logs</td>
</tr>
<tr>
<td><code>library_executor_pool</code></td>
<td>Executor pool status for auto-scaling</td>
</tr>
<tr>
<td><code>library_execution_aggregates</code></td>
<td>Pre-computed execution statistics</td>
</tr>
<tr>
<td><code>conscious_orchestrator_decisions</code></td>
<td>Logs decisions made by conscious orchestrator (plan/clarify/defer/refuse)</td>
</tr>
<tr>
<td><code>ecd_metrics</code></td>
<td>ECD verification results per request (score, entities, refinements)</td>
</tr>
<tr>
<td><code>ecd_audit_log</code></td>
<td>Full audit trail with original and final responses</td>
</tr>
<tr>
<td><code>ecd_entity_stats</code></td>
<td>Aggregated entity extraction statistics by type</td>
</tr>
<tr>
<td><code>distillation_training_data</code></td>
<td>Teacher model reasoning traces for student training</td>
</tr>
<tr>
<td><code>inference_student_versions</code></td>
<td>Student model versions with metrics</td>
</tr>
<tr>
<td><code>distillation_jobs</code></td>
<td>Distillation training job tracking</td>
</tr>
<tr>
<td><code>semantic_cache</code></td>
<td>Vector similarity cache for responses</td>
</tr>
<tr>
<td><code>semantic_cache_metrics</code></td>
<td>Cache performance metrics</td>
</tr>
<tr>
<td><code>metacognition_assessments_v2</code></td>
<td>Enhanced confidence assessments</td>
</tr>
<tr>
<td><code>reward_training_data</code></td>
<td>Preference comparison training data</td>
</tr>
<tr>
<td><code>reward_model_versions</code></td>
<td>Reward model version tracking</td>
</tr>
<tr>
<td><code>counterfactual_candidates</code></td>
<td>Routing decision records for counterfactual analysis</td>
</tr>
<tr>
<td><code>counterfactual_simulations</code></td>
<td>Alternative path simulation results</td>
</tr>
<tr>
<td><code>knowledge_gaps</code></td>
<td>Detected knowledge gaps from uncertainty</td>
</tr>
<tr>
<td><code>curiosity_goals</code></td>
<td>Autonomous exploration goals</td>
</tr>
<tr>
<td><code>causal_links</code></td>
<td>Turn-to-turn causal relationships</td>
</tr>
<tr>
<td><code>conversation_turns</code></td>
<td>Conversation history for causal tracking</td>
</tr>
<tr>
<td><code>reasoning_traces</code></td>
<td>Full request traces (partitioned by month)</td>
</tr>
<tr>
<td><code>reasoning_outcomes</code></td>
<td>User feedback on reasoning traces</td>
</tr>
<tr>
<td><code>hitl_question_batches</code></td>
<td>HITL question batch records</td>
</tr>
<tr>
<td><code>hitl_rate_limits</code></td>
<td>HITL rate limit configuration per scope</td>
</tr>
<tr>
<td><code>hitl_question_cache</code></td>
<td>HITL deduplication cache with TTL and pgvector embeddings</td>
</tr>
<tr>
<td><code>hitl_voi_aspects</code></td>
<td>HITL VOI aspect tracking</td>
</tr>
<tr>
<td><code>hitl_voi_decisions</code></td>
<td>HITL VOI decision records</td>
</tr>
<tr>
<td><code>hitl_abstention_config</code></td>
<td>HITL abstention detection settings</td>
</tr>
<tr>
<td><code>hitl_abstention_events</code></td>
<td>HITL abstention event log</td>
</tr>
<tr>
<td><code>hitl_escalation_chains</code></td>
<td>HITL escalation chain configuration</td>
</tr>
<tr>
<td><code>gateway_instances</code></td>
<td>Gateway instance registry with heartbeat tracking</td>
</tr>
<tr>
<td><code>gateway_statistics</code></td>
<td>Gateway time-series metrics (5-minute buckets)</td>
</tr>
<tr>
<td><code>gateway_configuration</code></td>
<td>Gateway per-tenant and global settings</td>
</tr>
<tr>
<td><code>gateway_alerts</code></td>
<td>Gateway alert and incident tracking</td>
</tr>
<tr>
<td><code>gateway_sessions</code></td>
<td>Gateway active connection tracking</td>
</tr>
<tr>
<td><code>gateway_audit_log</code></td>
<td>Gateway admin action audit trail</td>
</tr>
<tr>
<td><code>code_quality_snapshots</code></td>
<td>Periodic code coverage/quality metrics</td>
</tr>
<tr>
<td><code>test_file_registry</code></td>
<td>Source files and test status tracking</td>
</tr>
<tr>
<td><code>json_parse_locations</code></td>
<td>JSON.parse migration tracking</td>
</tr>
<tr>
<td><code>technical_debt_items</code></td>
<td>Technical debt items by priority/status</td>
</tr>
<tr>
<td><code>code_quality_alerts</code></td>
<td>Code quality regression alerts</td>
</tr>
<tr>
<td><code>agents</code></td>
<td>Sovereign Mesh agent registry with AI config</td>
</tr>
<tr>
<td><code>agent_executions</code></td>
<td>Agent OODA execution state</td>
</tr>
<tr>
<td><code>agent_iteration_logs</code></td>
<td>Detailed agent iteration tracking</td>
</tr>
<tr>
<td><code>apps</code></td>
<td>Sovereign Mesh app registry (3,000+ apps)</td>
</tr>
<tr>
<td><code>app_connections</code></td>
<td>OAuth/API credentials for apps</td>
</tr>
<tr>
<td><code>app_learned_inferences</code></td>
<td>AI learning loop for apps</td>
</tr>
<tr>
<td><code>ai_helper_calls</code></td>
<td>AI Helper usage tracking</td>
</tr>
<tr>
<td><code>ai_helper_cache</code></td>
<td>AI Helper response caching</td>
</tr>
<tr>
<td><code>ai_helper_config</code></td>
<td>AI Helper system/tenant configuration</td>
</tr>
<tr>
<td><code>workflow_blueprints</code></td>
<td>Pre-flight workflow provisioning</td>
</tr>
<tr>
<td><code>capability_checks</code></td>
<td>Capability verification results</td>
</tr>
<tr>
<td><code>cato_decision_events</code></td>
<td>Cato decision transparency events</td>
</tr>
<tr>
<td><code>cato_war_room_deliberations</code></td>
<td>Cato War Room deliberation capture</td>
</tr>
<tr>
<td><code>hitl_queue_configs</code></td>
<td>HITL approval queue configuration</td>
</tr>
<tr>
<td><code>hitl_approval_requests</code></td>
<td>HITL approval request records</td>
</tr>
<tr>
<td><code>execution_snapshots</code></td>
<td>Time-travel debugging snapshots</td>
</tr>
<tr>
<td><code>replay_sessions</code></td>
<td>Replay/what-if analysis sessions</td>
</tr>
<tr>
<td><code>thinktank_user_consents</code></td>
<td>GDPR consent records</td>
</tr>
<tr>
<td><code>thinktank_gdpr_requests</code></td>
<td>GDPR data subject requests</td>
</tr>
<tr>
<td><code>thinktank_security_config</code></td>
<td>Per-tenant security settings</td>
</tr>
<tr>
<td><code>thinktank_rejections</code></td>
<td>User rejection notifications</td>
</tr>
<tr>
<td><code>thinktank_user_preferences</code></td>
<td>User model and UI preferences</td>
</tr>
<tr>
<td><code>thinktank_ui_feedback</code></td>
<td>UI feedback collection</td>
</tr>
<tr>
<td><code>thinktank_ui_improvement_sessions</code></td>
<td>AI UI improvement sessions</td>
</tr>
<tr>
<td><code>thinktank_multipage_apps</code></td>
<td>User-generated multipage apps</td>
</tr>
<tr>
<td><code>thinktank_voice_sessions</code></td>
<td>Voice transcription records</td>
</tr>
<tr>
<td><code>thinktank_file_attachments</code></td>
<td>File attachment storage</td>
</tr>
<tr>
<td><code>brand_kits</code></td>
<td>AI Report Writer brand customization (logo, colors, fonts)</td>
</tr>
<tr>
<td><code>report_templates</code></td>
<td>Reusable AI report structures</td>
</tr>
<tr>
<td><code>generated_reports</code></td>
<td>AI-generated reports with content</td>
</tr>
<tr>
<td><code>report_smart_insights</code></td>
<td>Extracted insights from reports (denormalized)</td>
</tr>
<tr>
<td><code>report_exports</code></td>
<td>Report export records with S3 references</td>
</tr>
<tr>
<td><code>report_chat_history</code></td>
<td>Interactive report modification history</td>
</tr>
<tr>
<td><code>report_schedules</code></td>
<td>Scheduled automatic report generation</td>
</tr>
</tbody>
</table>
<h3 id="migration-154-cato-advanced-configuration-v6.1.1">Migration 154: Cato Advanced Configuration (v6.1.1)</h3>
<p>Extends the Genesis Cato Safety Architecture with configurable parameters and new supporting tables.</p>
<p><strong>New Columns on <code>cato_tenant_config</code>:</strong></p>
<table>
<colgroup>
<col style="width: 22%" />
<col style="width: 16%" />
<col style="width: 25%" />
<col style="width: 36%" />
</colgroup>
<thead>
<tr>
<th>Column</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>enable_redis</code></td>
<td>BOOLEAN</td>
<td>TRUE</td>
<td>Enable Redis state persistence</td>
</tr>
<tr>
<td><code>redis_rejection_ttl_seconds</code></td>
<td>INTEGER</td>
<td>60</td>
<td>TTL for rejection history</td>
</tr>
<tr>
<td><code>redis_persona_override_ttl_seconds</code></td>
<td>INTEGER</td>
<td>300</td>
<td>TTL for persona overrides</td>
</tr>
<tr>
<td><code>redis_recovery_state_ttl_seconds</code></td>
<td>INTEGER</td>
<td>600</td>
<td>TTL for recovery state</td>
</tr>
<tr>
<td><code>enable_cloudwatch_veto_sync</code></td>
<td>BOOLEAN</td>
<td>TRUE</td>
<td>Enable CloudWatch alarm integration</td>
</tr>
<tr>
<td><code>cloudwatch_sync_interval_seconds</code></td>
<td>INTEGER</td>
<td>60</td>
<td>CloudWatch sync polling interval</td>
</tr>
<tr>
<td><code>cloudwatch_alarm_mappings</code></td>
<td>JSONB</td>
<td>‚Äò{}‚Äô</td>
<td>Custom alarm mappings</td>
</tr>
<tr>
<td><code>enable_async_entropy</code></td>
<td>BOOLEAN</td>
<td>TRUE</td>
<td>Enable async entropy checks</td>
</tr>
<tr>
<td><code>entropy_async_threshold</code></td>
<td>NUMERIC(5,4)</td>
<td>0.6</td>
<td>Threshold for async processing</td>
</tr>
<tr>
<td><code>entropy_job_ttl_hours</code></td>
<td>INTEGER</td>
<td>24</td>
<td>Entropy job result retention</td>
</tr>
<tr>
<td><code>entropy_max_concurrent_jobs</code></td>
<td>INTEGER</td>
<td>10</td>
<td>Max concurrent entropy jobs</td>
</tr>
<tr>
<td><code>fracture_word_overlap_weight</code></td>
<td>NUMERIC(5,4)</td>
<td>0.20</td>
<td>Fracture detection weight</td>
</tr>
<tr>
<td><code>fracture_intent_keyword_weight</code></td>
<td>NUMERIC(5,4)</td>
<td>0.25</td>
<td>Fracture detection weight</td>
</tr>
<tr>
<td><code>fracture_sentiment_weight</code></td>
<td>NUMERIC(5,4)</td>
<td>0.15</td>
<td>Fracture detection weight</td>
</tr>
<tr>
<td><code>fracture_topic_coherence_weight</code></td>
<td>NUMERIC(5,4)</td>
<td>0.20</td>
<td>Fracture detection weight</td>
</tr>
<tr>
<td><code>fracture_completeness_weight</code></td>
<td>NUMERIC(5,4)</td>
<td>0.20</td>
<td>Fracture detection weight</td>
</tr>
<tr>
<td><code>fracture_alignment_threshold</code></td>
<td>NUMERIC(5,4)</td>
<td>0.40</td>
<td>Fracture alignment threshold</td>
</tr>
<tr>
<td><code>fracture_evasion_threshold</code></td>
<td>NUMERIC(5,4)</td>
<td>0.60</td>
<td>Fracture evasion threshold</td>
</tr>
<tr>
<td><code>cbf_authorization_check_enabled</code></td>
<td>BOOLEAN</td>
<td>TRUE</td>
<td>Enable model authorization checks</td>
</tr>
<tr>
<td><code>cbf_baa_verification_enabled</code></td>
<td>BOOLEAN</td>
<td>TRUE</td>
<td>Enable BAA verification</td>
</tr>
<tr>
<td><code>cbf_cost_alternative_enabled</code></td>
<td>BOOLEAN</td>
<td>TRUE</td>
<td>Enable cost alternative suggestions</td>
</tr>
<tr>
<td><code>cbf_max_cost_reduction_percent</code></td>
<td>NUMERIC(5,2)</td>
<td>50.00</td>
<td>Target cost reduction</td>
</tr>
</tbody>
</table>
<p><strong>New Tables:</strong></p>
<table>
<colgroup>
<col style="width: 43%" />
<col style="width: 56%" />
</colgroup>
<thead>
<tr>
<th>Table</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>cato_cloudwatch_alarm_mappings</code></td>
<td>CloudWatch alarm to veto signal mappings</td>
</tr>
<tr>
<td><code>cato_entropy_jobs</code></td>
<td>Async entropy check job tracking</td>
</tr>
<tr>
<td><code>cato_cloudwatch_sync_log</code></td>
<td>CloudWatch sync audit log</td>
</tr>
</tbody>
</table>
<p><strong><code>cato_cloudwatch_alarm_mappings</code> Schema:</strong></p>
<table>
<colgroup>
<col style="width: 29%" />
<col style="width: 22%" />
<col style="width: 48%" />
</colgroup>
<thead>
<tr>
<th>Column</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td>UUID</td>
<td>Primary key</td>
</tr>
<tr>
<td><code>tenant_id</code></td>
<td>UUID</td>
<td>Tenant reference</td>
</tr>
<tr>
<td><code>alarm_name</code></td>
<td>VARCHAR(255)</td>
<td>CloudWatch alarm name</td>
</tr>
<tr>
<td><code>alarm_name_pattern</code></td>
<td>VARCHAR(255)</td>
<td>Regex pattern for alarm matching</td>
</tr>
<tr>
<td><code>veto_signal</code></td>
<td>VARCHAR(50)</td>
<td>Veto signal to activate</td>
</tr>
<tr>
<td><code>veto_severity</code></td>
<td>VARCHAR(20)</td>
<td>warning, critical, emergency</td>
</tr>
<tr>
<td><code>is_enabled</code></td>
<td>BOOLEAN</td>
<td>Enable/disable mapping</td>
</tr>
<tr>
<td><code>auto_clear_on_ok</code></td>
<td>BOOLEAN</td>
<td>Auto-clear when alarm resolves</td>
</tr>
<tr>
<td><code>description</code></td>
<td>TEXT</td>
<td>Mapping description</td>
</tr>
</tbody>
</table>
<p><strong><code>cato_entropy_jobs</code> Schema:</strong></p>
<table>
<thead>
<tr>
<th>Column</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td>UUID</td>
<td>Primary key</td>
</tr>
<tr>
<td><code>tenant_id</code></td>
<td>UUID</td>
<td>Tenant reference</td>
</tr>
<tr>
<td><code>session_id</code></td>
<td>UUID</td>
<td>Session reference</td>
</tr>
<tr>
<td><code>job_id</code></td>
<td>VARCHAR(100)</td>
<td>Unique job identifier</td>
</tr>
<tr>
<td><code>status</code></td>
<td>VARCHAR(20)</td>
<td>pending, processing, completed, failed</td>
</tr>
<tr>
<td><code>prompt</code></td>
<td>TEXT</td>
<td>Original prompt</td>
</tr>
<tr>
<td><code>response</code></td>
<td>TEXT</td>
<td>AI response to check</td>
</tr>
<tr>
<td><code>model</code></td>
<td>VARCHAR(100)</td>
<td>Model used</td>
</tr>
<tr>
<td><code>check_mode</code></td>
<td>VARCHAR(20)</td>
<td>Check mode (sync, async, deep)</td>
</tr>
<tr>
<td><code>entropy_score</code></td>
<td>NUMERIC(5,4)</td>
<td>Calculated entropy score</td>
</tr>
<tr>
<td><code>consistency</code></td>
<td>NUMERIC(5,4)</td>
<td>Consistency score</td>
</tr>
<tr>
<td><code>is_potential_deception</code></td>
<td>BOOLEAN</td>
<td>Deception flag</td>
</tr>
<tr>
<td><code>deception_indicators</code></td>
<td>JSONB</td>
<td>Detailed indicators</td>
</tr>
<tr>
<td><code>expires_at</code></td>
<td>TIMESTAMPTZ</td>
<td>Job expiration time</td>
</tr>
</tbody>
</table>
<p><strong><code>cato_cloudwatch_sync_log</code> Schema:</strong></p>
<table>
<thead>
<tr>
<th>Column</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td>UUID</td>
<td>Primary key</td>
</tr>
<tr>
<td><code>tenant_id</code></td>
<td>UUID</td>
<td>Tenant reference (NULL for global)</td>
</tr>
<tr>
<td><code>sync_type</code></td>
<td>VARCHAR(20)</td>
<td>scheduled, manual, alarm_event</td>
</tr>
<tr>
<td><code>alarms_checked</code></td>
<td>INTEGER</td>
<td>Number of alarms checked</td>
</tr>
<tr>
<td><code>alarms_in_alarm</code></td>
<td>INTEGER</td>
<td>Alarms in ALARM state</td>
</tr>
<tr>
<td><code>vetos_activated</code></td>
<td>INTEGER</td>
<td>Vetos activated this sync</td>
</tr>
<tr>
<td><code>vetos_cleared</code></td>
<td>INTEGER</td>
<td>Vetos cleared this sync</td>
</tr>
<tr>
<td><code>success</code></td>
<td>BOOLEAN</td>
<td>Sync success flag</td>
</tr>
<tr>
<td><code>error_message</code></td>
<td>TEXT</td>
<td>Error details if failed</td>
</tr>
<tr>
<td><code>duration_ms</code></td>
<td>INTEGER</td>
<td>Sync duration</td>
</tr>
</tbody>
</table>
<p><strong>Default Alarm Mappings Seeded:</strong></p>
<table>
<thead>
<tr>
<th>Alarm</th>
<th>Signal</th>
<th>Severity</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>radiant-system-cpu-critical</code></td>
<td>SYSTEM_OVERLOAD</td>
<td>emergency</td>
</tr>
<tr>
<td><code>radiant-system-memory-critical</code></td>
<td>SYSTEM_OVERLOAD</td>
<td>emergency</td>
</tr>
<tr>
<td><code>radiant-security-breach</code></td>
<td>DATA_BREACH_DETECTED</td>
<td>emergency</td>
</tr>
<tr>
<td><code>radiant-compliance-alert</code></td>
<td>COMPLIANCE_VIOLATION</td>
<td>critical</td>
</tr>
<tr>
<td><code>radiant-anomaly-detection</code></td>
<td>ANOMALY_DETECTED</td>
<td>warning</td>
</tr>
<tr>
<td><code>radiant-model-health</code></td>
<td>MODEL_UNAVAILABLE</td>
<td>warning</td>
</tr>
</tbody>
</table>
<h3 id="migration-155-cato-spec-alignment-v6.1.1-patch-3">Migration 155: Cato Spec Alignment (v6.1.1 Patch 3)</h3>
<p>Fixes mood attributes to match Genesis Cato v2.3.1 specification and adds tenant default mood support.</p>
<p><strong>Mood Attribute Fixes:</strong></p>
<table>
<thead>
<tr>
<th>Mood</th>
<th>Attribute</th>
<th>Was</th>
<th>Now</th>
</tr>
</thead>
<tbody>
<tr>
<td>Sage</td>
<td>discovery</td>
<td>0.8</td>
<td>0.6</td>
</tr>
<tr>
<td>Spark</td>
<td>achievement</td>
<td>0.7</td>
<td>0.5</td>
</tr>
<tr>
<td>Spark</td>
<td>reflection</td>
<td>0.6</td>
<td>0.4</td>
</tr>
<tr>
<td>Guide</td>
<td>discovery</td>
<td>0.7</td>
<td>0.5</td>
</tr>
<tr>
<td>Guide</td>
<td>reflection</td>
<td>0.5</td>
<td>0.7</td>
</tr>
</tbody>
</table>
<p><strong>New Column on <code>cato_tenant_config</code>:</strong></p>
<table>
<colgroup>
<col style="width: 22%" />
<col style="width: 16%" />
<col style="width: 25%" />
<col style="width: 36%" />
</colgroup>
<thead>
<tr>
<th>Column</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>default_mood</code></td>
<td>VARCHAR(50)</td>
<td>‚Äòbalanced‚Äô</td>
<td>Tenant-specific default mood override</td>
</tr>
</tbody>
</table>
<p><strong>New Table: <code>cato_api_persona_overrides</code></strong></p>
<p>Stores API-level persona overrides for sessions (temporary, session-based).</p>
<table>
<colgroup>
<col style="width: 29%" />
<col style="width: 22%" />
<col style="width: 48%" />
</colgroup>
<thead>
<tr>
<th>Column</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td>UUID</td>
<td>Primary key</td>
</tr>
<tr>
<td><code>tenant_id</code></td>
<td>UUID</td>
<td>Tenant reference</td>
</tr>
<tr>
<td><code>session_id</code></td>
<td>UUID</td>
<td>Session reference</td>
</tr>
<tr>
<td><code>user_id</code></td>
<td>UUID</td>
<td>Optional user reference</td>
</tr>
<tr>
<td><code>persona_name</code></td>
<td>VARCHAR(50)</td>
<td>Mood name (balanced, scout, sage, spark, guide)</td>
</tr>
<tr>
<td><code>expires_at</code></td>
<td>TIMESTAMPTZ</td>
<td>When override expires</td>
</tr>
<tr>
<td><code>created_at</code></td>
<td>TIMESTAMPTZ</td>
<td>Creation timestamp</td>
</tr>
<tr>
<td><code>created_by</code></td>
<td>UUID</td>
<td>Admin who set the override</td>
</tr>
<tr>
<td><code>reason</code></td>
<td>TEXT</td>
<td>Optional reason for override</td>
</tr>
</tbody>
</table>
<h3 id="migration-152-advanced-cognition-v6.1.0">Migration 152: Advanced Cognition (v6.1.0)</h3>
<table>
<colgroup>
<col style="width: 43%" />
<col style="width: 56%" />
</colgroup>
<thead>
<tr>
<th>Table</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>distillation_training_data</code></td>
<td>Teacher reasoning traces with quality scores</td>
</tr>
<tr>
<td><code>inference_student_versions</code></td>
<td>Student model versions with SageMaker endpoints</td>
</tr>
<tr>
<td><code>distillation_jobs</code></td>
<td>Training job lifecycle tracking</td>
</tr>
<tr>
<td><code>semantic_cache</code></td>
<td>Vector similarity cache with pgvector embeddings</td>
</tr>
<tr>
<td><code>semantic_cache_metrics</code></td>
<td>Hourly cache performance metrics</td>
</tr>
<tr>
<td><code>metacognition_assessments_v2</code></td>
<td>Confidence, entropy, escalation decisions</td>
</tr>
<tr>
<td><code>reward_training_data</code></td>
<td>Winning/losing response pairs with signals</td>
</tr>
<tr>
<td><code>reward_model_versions</code></td>
<td>Reward model artifacts and accuracy</td>
</tr>
<tr>
<td><code>counterfactual_candidates</code></td>
<td>Original routing decisions to analyze</td>
</tr>
<tr>
<td><code>counterfactual_simulations</code></td>
<td>Alternative model comparison results</td>
</tr>
<tr>
<td><code>knowledge_gaps</code></td>
<td>Topics with low user satisfaction</td>
</tr>
<tr>
<td><code>curiosity_goals</code></td>
<td>Budget-controlled autonomous exploration</td>
</tr>
<tr>
<td><code>causal_links</code></td>
<td>Reference, elaboration, correction relationships</td>
</tr>
<tr>
<td><code>conversation_turns</code></td>
<td>Turn content for causal analysis</td>
</tr>
<tr>
<td><code>reasoning_traces</code></td>
<td>Partitioned trace storage (monthly partitions)</td>
</tr>
<tr>
<td><code>reasoning_outcomes</code></td>
<td>Regeneration, edit, dwell time signals</td>
</tr>
</tbody>
</table>
<h3 id="migration-133-ecd-tables---truth-engine-v6.0.4-s1">Migration 133: ECD Tables - Truth Engine‚Ñ¢ (v6.0.4-S1)</h3>
<table>
<colgroup>
<col style="width: 43%" />
<col style="width: 56%" />
</colgroup>
<thead>
<tr>
<th>Table</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>ecd_metrics</code></td>
<td>Per-request ECD verification results with scores and entity counts</td>
</tr>
<tr>
<td><code>ecd_audit_log</code></td>
<td>Full response audit trail for divergence analysis</td>
</tr>
<tr>
<td><code>ecd_entity_stats</code></td>
<td>Daily aggregated stats by entity type (grounded/divergent)</td>
</tr>
</tbody>
</table>
<p><strong>ECD Configuration (added to <code>system_config</code>):</strong> - <code>ECD_ENABLED</code> - Enable verification loop - <code>ECD_THRESHOLD</code> - Max acceptable divergence (0.1) - <code>ECD_MAX_REFINEMENTS</code> - Auto-correction attempts (2) - <code>ECD_BLOCK_ON_FAILURE</code> - Block failed responses - <code>ECD_HEALTHCARE_THRESHOLD</code> - Healthcare threshold (0.05) - <code>ECD_FINANCIAL_THRESHOLD</code> - Financial threshold (0.05) - <code>ECD_LEGAL_THRESHOLD</code> - Legal threshold (0.05) - <code>ECD_ANCHORING_ENABLED</code> - Critical fact anchoring - <code>ECD_ANCHORING_OVERSIGHT</code> - Send to oversight queue</p>
<p><strong>Helper Functions:</strong> - <code>get_ecd_stats(tenant_id, days)</code> - ECD statistics - <code>get_ecd_trend(tenant_id, days)</code> - Score trend over time - <code>get_ecd_entity_breakdown(tenant_id, days)</code> - Entity type stats - <code>log_ecd_metrics(...)</code> - Log verification results - <code>update_ecd_entity_stats(...)</code> - Update entity aggregates</p>
<h3 id="migration-105-consciousness-enhancements-v4.18.19">Migration 105: Consciousness Enhancements (v4.18.19)</h3>
<table>
<colgroup>
<col style="width: 63%" />
<col style="width: 36%" />
</colgroup>
<thead>
<tr>
<th>Column/Table</th>
<th>Change</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>open_source_libraries.description_embedding</code></td>
<td>vector(1536) for Vector RAG semantic search</td>
</tr>
<tr>
<td><code>ego_working_memory.consolidated</code></td>
<td>Boolean flag for memory consolidation tracking</td>
</tr>
<tr>
<td><code>introspective_thoughts.thought_type</code></td>
<td>VARCHAR(50) for idle thought categorization</td>
</tr>
<tr>
<td><code>semantic_memories.source</code></td>
<td>VARCHAR(50) for consolidation source tracking</td>
</tr>
<tr>
<td><code>conscious_orchestrator_decisions</code></td>
<td>New table for architecture inversion decision logging</td>
</tr>
</tbody>
</table>
<h2 id="type-imports">Type Imports</h2>
<pre class="typescript"><code>import {
  AIProvider,
  AIModel,
  EXTERNAL_PROVIDERS,
  PROVIDER_ENDPOINTS,
  Administrator,
  Invitation,
  ApprovalRequest,
  UsageEvent,
  Invoice,
  AuditLog,
} from &#39;@radiant/shared&#39;;</code></pre>
<hr />
<h1 id="radiant-v2.2.0---prompt-7-external-providers-database-schemamigrations">RADIANT v2.2.0 - Prompt 7: External Providers &amp; Database Schema/Migrations</h1>
<blockquote>
<p><strong>Prompt 7 of 9</strong> | Target Size: ~85KB | Version: 3.7.0 | December 2024</p>
</blockquote>
<hr />
<h2 id="overview">OVERVIEW</h2>
<p>This prompt creates the external AI provider integrations and complete database schema:</p>
<ol type="1">
<li><strong>External Providers</strong> - 21 AI provider configurations with LiteLLM routing</li>
<li><strong>Provider Categories</strong> - Text, Image, Video, Audio, 3D, Embeddings, Search</li>
<li><strong>LiteLLM Configuration</strong> - Complete config.yaml for all external providers</li>
<li><strong>PostgreSQL Schema</strong> - Complete schema with Row-Level Security (RLS)</li>
<li><strong>DynamoDB Tables</strong> - Session, cache, and real-time data tables</li>
<li><strong>Database Migrations</strong> - Versioned migration scripts</li>
<li><strong>Pricing Configuration</strong> - Dynamic pricing with 40% external / 75% self-hosted markup</li>
</ol>
<hr />
<h2 id="architecture">ARCHITECTURE</h2>
<pre><code>√É¬¢√¢‚Ç¨¬ù√Ö‚Äô√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√Ç¬ê
√É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°                         EXTERNAL PROVIDERS LAYER                             √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°
√É¬¢√¢‚Ç¨¬ù√Ö‚Äú√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√Ç¬§
√É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°                                                                             √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°
√É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°   Client Request                                                            √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°
√É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°        √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°                                                                    √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°
√É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°        √É¬¢√¢‚Ç¨‚Äú√Ç¬º                                                                    √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°
√É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°   √É¬¢√¢‚Ç¨¬ù√Ö‚Äô√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√Ç¬ê     √É¬¢√¢‚Ç¨¬ù√Ö‚Äô√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√Ç¬ê     √É¬¢√¢‚Ç¨¬ù√Ö‚Äô√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√Ç¬ê      √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°
√É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°   √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°  Lambda Router  √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨‚Äú√Ç¬∂√É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°   LiteLLM       √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨‚Äú√Ç¬∂√É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈° Provider        √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°      √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°
√É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°   √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°  (Prompt 4)     √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°     √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°   Gateway       √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°     √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈° Secrets Manager √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°      √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°
√É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°   √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨¬ù√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√Ç¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√ã≈ì     √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨¬ù√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√Ç¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√ã≈ì     √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨¬ù√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√ã≈ì      √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°
√É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°            √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°                       √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°                                        √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°
√É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°            √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°                       √É¬¢√¢‚Ç¨‚Äú√Ç¬º                                        √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°
√É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°   √É¬¢√¢‚Ç¨¬ù√Ö‚Äô√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨‚Äú√Ç¬º√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√Ç¬ê  √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°
√É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°   √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°                    EXTERNAL PROVIDER ROUTING                         √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°  √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°
√É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°   √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°  √É¬¢√¢‚Ç¨¬ù√Ö‚Äô√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√Ç¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√Ç¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√Ç¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√Ç¬ê      √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°  √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°
√É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°   √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°  √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°   TEXT GEN   √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°    IMAGE     √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°    VIDEO     √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°    AUDIO     √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°      √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°  √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°
√É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°   √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°  √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°              √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°              √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°              √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°              √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°      √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°  √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°
√É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°   √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°  √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈° √É¬¢√¢‚Äö¬¨√Ç¬¢ OpenAI     √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈° √É¬¢√¢‚Äö¬¨√Ç¬¢ DALL-E 3   √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈° √É¬¢√¢‚Äö¬¨√Ç¬¢ Runway     √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈° √É¬¢√¢‚Äö¬¨√Ç¬¢ OpenAI TTS √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°      √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°  √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°
√É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°   √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°  √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈° √É¬¢√¢‚Äö¬¨√Ç¬¢ Anthropic  √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈° √É¬¢√¢‚Äö¬¨√Ç¬¢ Midjourney √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈° √É¬¢√¢‚Äö¬¨√Ç¬¢ Luma       √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈° √É¬¢√¢‚Äö¬¨√Ç¬¢ ElevenLabs √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°      √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°  √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°
√É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°   √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°  √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈° √É¬¢√¢‚Äö¬¨√Ç¬¢ Google     √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈° √É¬¢√¢‚Äö¬¨√Ç¬¢ Stability  √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈° √É¬¢√¢‚Äö¬¨√Ç¬¢ Pika       √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈° √É¬¢√¢‚Äö¬¨√Ç¬¢ Deepgram   √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°      √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°  √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°
√É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°   √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°  √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈° √É¬¢√¢‚Äö¬¨√Ç¬¢ xAI        √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈° √É¬¢√¢‚Äö¬¨√Ç¬¢ Replicate  √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈° √É¬¢√¢‚Äö¬¨√Ç¬¢ Kling      √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈° √É¬¢√¢‚Äö¬¨√Ç¬¢ AssemblyAI √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°      √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°  √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°
√É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°   √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°  √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈° √É¬¢√¢‚Äö¬¨√Ç¬¢ DeepSeek   √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈° √É¬¢√¢‚Äö¬¨√Ç¬¢ Ideogram   √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈° √É¬¢√¢‚Äö¬¨√Ç¬¢ HailuoAI   √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°              √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°      √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°  √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°
√É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°   √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°  √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈° √É¬¢√¢‚Äö¬¨√Ç¬¢ Mistral    √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈° √É¬¢√¢‚Äö¬¨√Ç¬¢ Flux       √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈° √É¬¢√¢‚Äö¬¨√Ç¬¢ Veo        √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°              √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°      √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°  √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°
√É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°   √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°  √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨¬ù√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√Ç¬¥√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√Ç¬¥√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√Ç¬¥√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√ã≈ì      √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°  √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°
√É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°   √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°  √É¬¢√¢‚Ç¨¬ù√Ö‚Äô√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√Ç¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√Ç¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√Ç¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√Ç¬ê      √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°  √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°
√É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°   √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°  √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°  EMBEDDINGS  √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°    SEARCH    √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°      3D      √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°   REASONING  √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°      √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°  √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°
√É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°   √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°  √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°              √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°              √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°              √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°              √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°      √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°  √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°
√É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°   √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°  √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈° √É¬¢√¢‚Äö¬¨√Ç¬¢ OpenAI     √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈° √É¬¢√¢‚Äö¬¨√Ç¬¢ Perplexity √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈° √É¬¢√¢‚Äö¬¨√Ç¬¢ Meshy      √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈° √É¬¢√¢‚Äö¬¨√Ç¬¢ OpenAI o1  √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°      √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°  √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°
√É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°   √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°  √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈° √É¬¢√¢‚Äö¬¨√Ç¬¢ Cohere     √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈° √É¬¢√¢‚Äö¬¨√Ç¬¢ Exa        √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈° √É¬¢√¢‚Äö¬¨√Ç¬¢ Rodin      √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈° √É¬¢√¢‚Äö¬¨√Ç¬¢ Anthropic  √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°      √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°  √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°
√É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°   √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°  √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈° √É¬¢√¢‚Äö¬¨√Ç¬¢ Voyage     √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈° √É¬¢√¢‚Äö¬¨√Ç¬¢ Tavily     √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈° √É¬¢√¢‚Äö¬¨√Ç¬¢ Tripo      √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈° √É¬¢√¢‚Äö¬¨√Ç¬¢ DeepSeek R1√É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°      √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°  √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°
√É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°   √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°  √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈° √É¬¢√¢‚Äö¬¨√Ç¬¢ Google     √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈° √É¬¢√¢‚Äö¬¨√Ç¬¢ You.com    √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈° √É¬¢√¢‚Äö¬¨√Ç¬¢ Spline     √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈° √É¬¢√¢‚Äö¬¨√Ç¬¢ Google     √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°      √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°  √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°
√É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°   √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°  √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨¬ù√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√Ç¬¥√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√Ç¬¥√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√Ç¬¥√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√ã≈ì      √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°  √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°
√É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°   √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨¬ù√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√ã≈ì  √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°
√É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°                                    √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°                                        √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°
√É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°                                    √É¬¢√¢‚Ç¨‚Äú√Ç¬º                                        √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°
√É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°   √É¬¢√¢‚Ç¨¬ù√Ö‚Äô√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√Ç¬ê  √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°
√É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°   √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°                       METERING &amp; BILLING                             √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°  √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°
√É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°   √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°  √É¬¢√¢‚Äö¬¨√Ç¬¢ Token counting  √É¬¢√¢‚Äö¬¨√Ç¬¢ Cost calculation  √É¬¢√¢‚Äö¬¨√Ç¬¢ Usage aggregation           √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°  √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°
√É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°   √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°  √É¬¢√¢‚Äö¬¨√Ç¬¢ 40% markup (external)  √É¬¢√¢‚Äö¬¨√Ç¬¢ 75% markup (self-hosted)                 √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°  √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°
√É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°   √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨¬ù√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√ã≈ì  √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°
√É¬¢√¢‚Ç¨¬ù√¢‚Ç¨¬ù√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√ã≈ì
                                    √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°
                                    √É¬¢√¢‚Ç¨‚Äú√Ç¬º
√É¬¢√¢‚Ç¨¬ù√Ö‚Äô√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√Ç¬ê
√É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°                           DATABASE LAYER                                     √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°
√É¬¢√¢‚Ç¨¬ù√Ö‚Äú√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√Ç¬§
√É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°   √É¬¢√¢‚Ç¨¬ù√Ö‚Äô√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√Ç¬ê     √É¬¢√¢‚Ç¨¬ù√Ö‚Äô√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√Ç¬ê              √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°
√É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°   √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°    AURORA POSTGRESQL    √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°     √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°       DYNAMODB          √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°              √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°
√É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°   √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°                         √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°     √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°                         √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°              √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°
√É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°   √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°  √É¬¢√¢‚Äö¬¨√Ç¬¢ Tenants              √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°     √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°  √É¬¢√¢‚Äö¬¨√Ç¬¢ Sessions             √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°              √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°
√É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°   √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°  √É¬¢√¢‚Äö¬¨√Ç¬¢ Users                √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°     √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°  √É¬¢√¢‚Äö¬¨√Ç¬¢ Chat History         √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°              √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°
√É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°   √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°  √É¬¢√¢‚Äö¬¨√Ç¬¢ Admins               √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°     √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°  √É¬¢√¢‚Äö¬¨√Ç¬¢ Model States         √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°              √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°
√É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°   √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°  √É¬¢√¢‚Äö¬¨√Ç¬¢ Providers            √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°     √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°  √É¬¢√¢‚Äö¬¨√Ç¬¢ Cache                √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°              √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°
√É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°   √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°  √É¬¢√¢‚Äö¬¨√Ç¬¢ Models               √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°     √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°  √É¬¢√¢‚Äö¬¨√Ç¬¢ WebSocket Connections√É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°              √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°
√É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°   √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°  √É¬¢√¢‚Äö¬¨√Ç¬¢ Usage                √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°     √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°  √É¬¢√¢‚Äö¬¨√Ç¬¢ Approval Requests    √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°              √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°
√É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°   √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°  √É¬¢√¢‚Äö¬¨√Ç¬¢ Billing              √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°     √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°                         √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°              √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°
√É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°   √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°  √É¬¢√¢‚Äö¬¨√Ç¬¢ Audit Logs           √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°     √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°                         √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°              √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°
√É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°   √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°  √É¬¢√¢‚Äö¬¨√Ç¬¢ RLS Policies         √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°     √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°  √É¬¢√¢‚Äö¬¨√Ç¬¢ TTL Cleanup          √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°              √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°
√É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°   √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨¬ù√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√ã≈ì     √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨¬ù√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√ã≈ì              √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°
√É¬¢√¢‚Ç¨¬ù√¢‚Ç¨¬ù√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√ã≈ì</code></pre>
<hr />
<h2 id="directory-structure">DIRECTORY STRUCTURE</h2>
<pre><code>packages/infrastructure/
√É¬¢√¢‚Ç¨¬ù√Ö‚Äú√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨ lib/
√É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°   √É¬¢√¢‚Ç¨¬ù√Ö‚Äú√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨ config/
√É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°   √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°   √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨¬ù√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨ providers/
√É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°   √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°       √É¬¢√¢‚Ç¨¬ù√Ö‚Äú√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨ index.ts                  # All provider exports
√É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°   √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°       √É¬¢√¢‚Ç¨¬ù√Ö‚Äú√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨ text.providers.ts         # Text generation providers
√É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°   √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°       √É¬¢√¢‚Ç¨¬ù√Ö‚Äú√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨ image.providers.ts        # Image generation providers
√É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°   √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°       √É¬¢√¢‚Ç¨¬ù√Ö‚Äú√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨ video.providers.ts        # Video generation providers
√É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°   √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°       √É¬¢√¢‚Ç¨¬ù√Ö‚Äú√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨ audio.providers.ts        # Audio/speech providers
√É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°   √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°       √É¬¢√¢‚Ç¨¬ù√Ö‚Äú√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨ embedding.providers.ts    # Embedding providers
√É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°   √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°       √É¬¢√¢‚Ç¨¬ù√Ö‚Äú√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨ search.providers.ts       # Search providers
√É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°   √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°       √É¬¢√¢‚Ç¨¬ù√Ö‚Äú√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨ 3d.providers.ts           # 3D generation providers
√É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°   √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°       √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨¬ù√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨ pricing.config.ts         # Pricing configuration
√É¬¢√¢‚Ç¨¬ù√Ö‚Äú√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨ litellm/
√É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°   √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨¬ù√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨ config/
√É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°       √É¬¢√¢‚Ç¨¬ù√Ö‚Äú√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨ external.yaml                 # External provider config
√É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°       √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨¬ù√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨ complete.yaml                 # Combined config (external + self-hosted)
√É¬¢√¢‚Ç¨¬ù√Ö‚Äú√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨ migrations/
√É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°   √É¬¢√¢‚Ç¨¬ù√Ö‚Äú√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨ 001_initial_schema.sql           # Base tables
√É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°   √É¬¢√¢‚Ç¨¬ù√Ö‚Äú√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨ 002_tenant_isolation.sql         # RLS policies
√É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°   √É¬¢√¢‚Ç¨¬ù√Ö‚Äú√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨ 003_ai_models.sql                # Model registry
√É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°   √É¬¢√¢‚Ç¨¬ù√Ö‚Äú√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨ 004_usage_billing.sql            # Metering tables
√É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°   √É¬¢√¢‚Ç¨¬ù√Ö‚Äú√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨ 005_admin_approval.sql           # Admin workflow tables
√É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°   √É¬¢√¢‚Ç¨¬ù√Ö‚Äú√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨ 006_self_hosted_models.sql       # Self-hosted additions (Prompt 6)
√É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°   √É¬¢√¢‚Ç¨¬ù√Ö‚Äú√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨ 007_external_providers.sql       # External provider tables
√É¬¢√¢‚Ç¨¬ù√¢‚Ç¨≈°   √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨¬ù√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨ migrations.ts                    # Migration runner
√É¬¢√¢‚Ç¨¬ù√¢‚Ç¨¬ù√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨ dynamodb/
    √É¬¢√¢‚Ç¨¬ù√¢‚Ç¨¬ù√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨√É¬¢√¢‚Ç¨¬ù√¢‚Äö¬¨ tables.ts                         # DynamoDB table definitions</code></pre>
<hr />
<h2 id="part-1-external-provider-definitions">PART 1: EXTERNAL PROVIDER DEFINITIONS</h2>
<h3 id="provider-pricing-structure">Provider Pricing Structure</h3>
<p>All external providers use a <strong>40% markup</strong> on base costs: - Base cost: Provider‚Äôs published rate - Billed cost: Base √É∆í√¢‚Ç¨‚Äù 1.40</p>
<p>Self-hosted models (Prompt 6) use a <strong>75% markup</strong> on infrastructure costs.</p>
<h3 id="packagesinfrastructurelibconfigprovidersindex.ts">packages/infrastructure/lib/config/providers/index.ts</h3>
<pre class="typescript"><code>/**
 * External Provider Registry
 * All external AI providers with pricing and capabilities
 * Pricing includes 40% markup over provider costs
 * 
 * RADIANT v2.2.0 - December 2024
 */

export * from &#39;./text.providers&#39;;
export * from &#39;./image.providers&#39;;
export * from &#39;./video.providers&#39;;
export * from &#39;./audio.providers&#39;;
export * from &#39;./embedding.providers&#39;;
export * from &#39;./search.providers&#39;;
export * from &#39;./3d.providers&#39;;
export * from &#39;./pricing.config&#39;;

import { TEXT_PROVIDERS } from &#39;./text.providers&#39;;
import { IMAGE_PROVIDERS } from &#39;./image.providers&#39;;
import { VIDEO_PROVIDERS } from &#39;./video.providers&#39;;
import { AUDIO_PROVIDERS } from &#39;./audio.providers&#39;;
import { EMBEDDING_PROVIDERS } from &#39;./embedding.providers&#39;;
import { SEARCH_PROVIDERS } from &#39;./search.providers&#39;;
import { THREE_D_PROVIDERS } from &#39;./3d.providers&#39;;

// ============================================================================
// PROVIDER TYPES
// ============================================================================

export type ProviderCategory = 
  | &#39;text_generation&#39;
  | &#39;image_generation&#39;
  | &#39;video_generation&#39;
  | &#39;audio_generation&#39;
  | &#39;speech_to_text&#39;
  | &#39;text_to_speech&#39;
  | &#39;embedding&#39;
  | &#39;search&#39;
  | &#39;3d_generation&#39;
  | &#39;reasoning&#39;;

export interface ExternalProvider {
  id: string;
  name: string;
  displayName: string;
  category: ProviderCategory;
  description: string;
  website: string;
  apiBaseUrl: string;
  authType: &#39;api_key&#39; | &#39;oauth&#39; | &#39;bearer&#39;;
  secretName: string;
  enabled: boolean;
  regions: string[];
  models: ExternalModel[];
  rateLimit?: {
    requestsPerMinute: number;
    tokensPerMinute?: number;
  };
  features: string[];
  compliance?: string[];
}

export interface ExternalModel {
  id: string;
  modelId: string;
  litellmId: string;
  name: string;
  displayName: string;
  description: string;
  category: ProviderCategory;
  capabilities: string[];
  contextWindow?: number;
  maxOutput?: number;
  inputModalities: (&#39;text&#39; | &#39;image&#39; | &#39;audio&#39; | &#39;video&#39;)[];
  outputModalities: (&#39;text&#39; | &#39;image&#39; | &#39;audio&#39; | &#39;video&#39; | &#39;3d&#39;)[];
  pricing: ExternalProviderPricing;
  deprecated?: boolean;
  successorModel?: string;
}

export interface ExternalProviderPricing {
  type: &#39;per_token&#39; | &#39;per_request&#39; | &#39;per_second&#39; | &#39;per_image&#39; | &#39;per_minute&#39;;
  inputCostPer1k?: number;      // $/1K tokens (input)
  outputCostPer1k?: number;     // $/1K tokens (output)
  baseCostPerRequest?: number;  // Base $/request
  costPerSecond?: number;       // $/second (video/audio)
  costPerImage?: number;        // $/image
  costPerMinute?: number;       // $/minute (audio)
  markup: number;               // Multiplier (1.40 for 40%)
  billedInputPer1k?: number;    // Final billed rate
  billedOutputPer1k?: number;   // Final billed rate
}

// ============================================================================
// AGGREGATED REGISTRY
// ============================================================================

export const ALL_EXTERNAL_PROVIDERS: ExternalProvider[] = [
  ...TEXT_PROVIDERS,
  ...IMAGE_PROVIDERS,
  ...VIDEO_PROVIDERS,
  ...AUDIO_PROVIDERS,
  ...EMBEDDING_PROVIDERS,
  ...SEARCH_PROVIDERS,
  ...THREE_D_PROVIDERS,
];

export const PROVIDER_BY_ID = new Map&lt;string, ExternalProvider&gt;(
  ALL_EXTERNAL_PROVIDERS.map(p =&gt; [p.id, p])
);

export const ALL_EXTERNAL_MODELS: ExternalModel[] = 
  ALL_EXTERNAL_PROVIDERS.flatMap(p =&gt; p.models);

export const MODEL_BY_ID = new Map&lt;string, ExternalModel&gt;(
  ALL_EXTERNAL_MODELS.map(m =&gt; [m.id, m])
);

export const MODEL_BY_LITELLM_ID = new Map&lt;string, ExternalModel&gt;(
  ALL_EXTERNAL_MODELS.map(m =&gt; [m.litellmId, m])
);

// ============================================================================
// HELPER FUNCTIONS
// ============================================================================

export function calculateCost(
  model: ExternalModel,
  inputTokens: number,
  outputTokens: number,
  additionalUnits?: { images?: number; seconds?: number; minutes?: number }
): { baseCost: number; billedCost: number } {
  const pricing = model.pricing;
  let baseCost = 0;

  if (pricing.type === &#39;per_token&#39;) {
    baseCost = 
      (inputTokens / 1000) * (pricing.inputCostPer1k || 0) +
      (outputTokens / 1000) * (pricing.outputCostPer1k || 0);
  } else if (pricing.type === &#39;per_request&#39;) {
    baseCost = pricing.baseCostPerRequest || 0;
  } else if (pricing.type === &#39;per_image&#39;) {
    baseCost = (additionalUnits?.images || 1) * (pricing.costPerImage || 0);
  } else if (pricing.type === &#39;per_second&#39;) {
    baseCost = (additionalUnits?.seconds || 0) * (pricing.costPerSecond || 0);
  } else if (pricing.type === &#39;per_minute&#39;) {
    baseCost = (additionalUnits?.minutes || 0) * (pricing.costPerMinute || 0);
  }

  return {
    baseCost,
    billedCost: baseCost * pricing.markup,
  };
}

export function getProviderSecrets(): Map&lt;string, string&gt; {
  const secrets = new Map&lt;string, string&gt;();
  for (const provider of ALL_EXTERNAL_PROVIDERS) {
    secrets.set(provider.id, provider.secretName);
  }
  return secrets;
}</code></pre>
<h3 id="packagesinfrastructurelibconfigproviderstext.providers.ts">packages/infrastructure/lib/config/providers/text.providers.ts</h3>
<pre class="typescript"><code>/**
 * Text Generation Providers - RADIANT v4.12
 * OpenAI (GPT-5, GPT-4.1, O-Series), Anthropic (Claude 4.5), Google (Gemini 3),
 * xAI (Grok 4), DeepSeek (V3), Mistral, Cohere, Perplexity
 * 
 * Updated: December 2024
 */

import { ExternalProvider, ExternalModel } from &#39;./index&#39;;

const MARKUP = 1.40; // 40% markup

// ============================================================================
// OPENAI - GPT-5, GPT-4.1, and O-Series Models
// ============================================================================

const OPENAI_MODELS: ExternalModel[] = [
  // GPT-5 Series (Flagship - December 2024)
  {
    id: &#39;openai-gpt-5-2&#39;,
    modelId: &#39;gpt-5.2&#39;,
    litellmId: &#39;gpt-5.2&#39;,
    name: &#39;gpt-5.2&#39;,
    displayName: &#39;GPT-5.2&#39;,
    description: &#39;Most capable flagship model with configurable reasoning and 400K context&#39;,
    category: &#39;text_generation&#39;,
    capabilities: [&#39;chat&#39;, &#39;vision&#39;, &#39;reasoning&#39;, &#39;function_calling&#39;, &#39;json_mode&#39;, &#39;streaming&#39;, &#39;fine_tuning&#39;, &#39;agents&#39;],
    contextWindow: 400000,
    maxOutput: 128000,
    inputModalities: [&#39;text&#39;, &#39;image&#39;],
    outputModalities: [&#39;text&#39;],
    pricing: {
      type: &#39;per_token&#39;,
      inputCostPer1k: 0.00175,
      outputCostPer1k: 0.014,
      cachedInputCostPer1k: 0.000175,
      markup: MARKUP,
      billedInputPer1k: 0.00175 * MARKUP,
      billedOutputPer1k: 0.014 * MARKUP,
    },
    metadata: {
      releaseDate: &#39;2024-12-01&#39;,
      family: &#39;gpt-5&#39;,
      version: &#39;5.2&#39;,
      isLatest: true,
      supportsBatch: true,
      batchDiscount: 0.5,
    },
  },
  {
    id: &#39;openai-gpt-5-1&#39;,
    modelId: &#39;gpt-5.1&#39;,
    litellmId: &#39;gpt-5.1&#39;,
    name: &#39;gpt-5.1&#39;,
    displayName: &#39;GPT-5.1&#39;,
    description: &#39;Previous flagship with full capabilities and 400K context&#39;,
    category: &#39;text_generation&#39;,
    capabilities: [&#39;chat&#39;, &#39;vision&#39;, &#39;reasoning&#39;, &#39;function_calling&#39;, &#39;json_mode&#39;, &#39;streaming&#39;, &#39;agents&#39;],
    contextWindow: 400000,
    maxOutput: 128000,
    inputModalities: [&#39;text&#39;, &#39;image&#39;],
    outputModalities: [&#39;text&#39;],
    pricing: {
      type: &#39;per_token&#39;,
      inputCostPer1k: 0.00125,
      outputCostPer1k: 0.01,
      markup: MARKUP,
      billedInputPer1k: 0.00125 * MARKUP,
      billedOutputPer1k: 0.01 * MARKUP,
    },
    metadata: {
      releaseDate: &#39;2024-10-01&#39;,
      family: &#39;gpt-5&#39;,
      version: &#39;5.1&#39;,
    },
  },
  {
    id: &#39;openai-gpt-5-mini&#39;,
    modelId: &#39;gpt-5-mini&#39;,
    litellmId: &#39;gpt-5-mini&#39;,
    name: &#39;gpt-5-mini&#39;,
    displayName: &#39;GPT-5 Mini&#39;,
    description: &#39;Fast, affordable GPT-5 variant for high-volume tasks&#39;,
    category: &#39;text_generation&#39;,
    capabilities: [&#39;chat&#39;, &#39;vision&#39;, &#39;function_calling&#39;, &#39;json_mode&#39;, &#39;streaming&#39;],
    contextWindow: 400000,
    maxOutput: 128000,
    inputModalities: [&#39;text&#39;, &#39;image&#39;],
    outputModalities: [&#39;text&#39;],
    pricing: {
      type: &#39;per_token&#39;,
      inputCostPer1k: 0.00025,
      outputCostPer1k: 0.002,
      markup: MARKUP,
      billedInputPer1k: 0.00025 * MARKUP,
      billedOutputPer1k: 0.002 * MARKUP,
    },
    metadata: {
      releaseDate: &#39;2024-11-01&#39;,
      family: &#39;gpt-5&#39;,
      version: &#39;mini&#39;,
    },
  },
  {
    id: &#39;openai-gpt-5-nano&#39;,
    modelId: &#39;gpt-5-nano&#39;,
    litellmId: &#39;gpt-5-nano&#39;,
    name: &#39;gpt-5-nano&#39;,
    displayName: &#39;GPT-5 Nano&#39;,
    description: &#39;Ultra-fast, most cost-efficient GPT-5 for classification and simple tasks&#39;,
    category: &#39;text_generation&#39;,
    capabilities: [&#39;chat&#39;, &#39;function_calling&#39;, &#39;json_mode&#39;, &#39;streaming&#39;],
    contextWindow: 400000,
    maxOutput: 128000,
    inputModalities: [&#39;text&#39;],
    outputModalities: [&#39;text&#39;],
    pricing: {
      type: &#39;per_token&#39;,
      inputCostPer1k: 0.00005,
      outputCostPer1k: 0.0004,
      markup: MARKUP,
      billedInputPer1k: 0.00005 * MARKUP,
      billedOutputPer1k: 0.0004 * MARKUP,
    },
    metadata: {
      releaseDate: &#39;2024-11-01&#39;,
      family: &#39;gpt-5&#39;,
      version: &#39;nano&#39;,
    },
  },
  // GPT-4.1 Series (1M Context - April 2024)
  {
    id: &#39;openai-gpt-4-1&#39;,
    modelId: &#39;gpt-4.1-2025-04-14&#39;,
    litellmId: &#39;gpt-4.1-2025-04-14&#39;,
    name: &#39;gpt-4.1&#39;,
    displayName: &#39;GPT-4.1&#39;,
    description: &#39;Best coding model with industry-leading 1M context window&#39;,
    category: &#39;text_generation&#39;,
    capabilities: [&#39;chat&#39;, &#39;vision&#39;, &#39;function_calling&#39;, &#39;json_mode&#39;, &#39;streaming&#39;, &#39;agents&#39;, &#39;fine_tuning&#39;],
    contextWindow: 1000000,
    maxOutput: 32768,
    inputModalities: [&#39;text&#39;, &#39;image&#39;, &#39;video&#39;],
    outputModalities: [&#39;text&#39;],
    pricing: {
      type: &#39;per_token&#39;,
      inputCostPer1k: 0.002,
      outputCostPer1k: 0.008,
      markup: MARKUP,
      billedInputPer1k: 0.002 * MARKUP,
      billedOutputPer1k: 0.008 * MARKUP,
    },
    metadata: {
      releaseDate: &#39;2024-04-14&#39;,
      family: &#39;gpt-4.1&#39;,
      version: &#39;4.1&#39;,
      isLatest: true,
      supportsFineTuning: true,
    },
  },
  {
    id: &#39;openai-gpt-4-1-mini&#39;,
    modelId: &#39;gpt-4.1-mini-2025-04-14&#39;,
    litellmId: &#39;gpt-4.1-mini-2025-04-14&#39;,
    name: &#39;gpt-4.1-mini&#39;,
    displayName: &#39;GPT-4.1 Mini&#39;,
    description: &#39;Fast 1M context model beating GPT-4o benchmarks at lower cost&#39;,
    category: &#39;text_generation&#39;,
    capabilities: [&#39;chat&#39;, &#39;vision&#39;, &#39;function_calling&#39;, &#39;json_mode&#39;, &#39;streaming&#39;],
    contextWindow: 1000000,
    maxOutput: 32768,
    inputModalities: [&#39;text&#39;, &#39;image&#39;],
    outputModalities: [&#39;text&#39;],
    pricing: {
      type: &#39;per_token&#39;,
      inputCostPer1k: 0.0004,
      outputCostPer1k: 0.0016,
      markup: MARKUP,
      billedInputPer1k: 0.0004 * MARKUP,
      billedOutputPer1k: 0.0016 * MARKUP,
    },
    metadata: {
      releaseDate: &#39;2024-04-14&#39;,
      family: &#39;gpt-4.1&#39;,
      version: &#39;mini&#39;,
    },
  },
  {
    id: &#39;openai-gpt-4-1-nano&#39;,
    modelId: &#39;gpt-4.1-nano-2025-04-14&#39;,
    litellmId: &#39;gpt-4.1-nano-2025-04-14&#39;,
    name: &#39;gpt-4.1-nano&#39;,
    displayName: &#39;GPT-4.1 Nano&#39;,
    description: &#39;Fastest 1M context model for classification and autocomplete&#39;,
    category: &#39;text_generation&#39;,
    capabilities: [&#39;chat&#39;, &#39;function_calling&#39;, &#39;json_mode&#39;, &#39;streaming&#39;],
    contextWindow: 1000000,
    maxOutput: 16384,
    inputModalities: [&#39;text&#39;],
    outputModalities: [&#39;text&#39;],
    pricing: {
      type: &#39;per_token&#39;,
      inputCostPer1k: 0.0001,
      outputCostPer1k: 0.0004,
      markup: MARKUP,
      billedInputPer1k: 0.0001 * MARKUP,
      billedOutputPer1k: 0.0004 * MARKUP,
    },
    metadata: {
      releaseDate: &#39;2024-04-14&#39;,
      family: &#39;gpt-4.1&#39;,
      version: &#39;nano&#39;,
    },
  },
  // O-Series Reasoning Models
  {
    id: &#39;openai-o3&#39;,
    modelId: &#39;o3-2025-04-16&#39;,
    litellmId: &#39;o3-2025-04-16&#39;,
    name: &#39;o3&#39;,
    displayName: &#39;O3&#39;,
    description: &#39;Most powerful reasoning model for math, science, and complex coding&#39;,
    category: &#39;reasoning&#39;,
    capabilities: [&#39;chat&#39;, &#39;reasoning&#39;, &#39;vision&#39;, &#39;function_calling&#39;, &#39;web_browsing&#39;, &#39;code_execution&#39;, &#39;streaming&#39;],
    contextWindow: 200000,
    maxOutput: 100000,
    inputModalities: [&#39;text&#39;, &#39;image&#39;],
    outputModalities: [&#39;text&#39;],
    pricing: {
      type: &#39;per_token&#39;,
      inputCostPer1k: 0.002,
      outputCostPer1k: 0.008,
      markup: MARKUP,
      billedInputPer1k: 0.002 * MARKUP,
      billedOutputPer1k: 0.008 * MARKUP,
    },
    metadata: {
      releaseDate: &#39;2024-04-16&#39;,
      family: &#39;o-series&#39;,
      version: &#39;o3&#39;,
      isLatest: true,
      reasoningModel: true,
    },
  },
  {
    id: &#39;openai-o3-pro&#39;,
    modelId: &#39;o3-pro-2025-06-10&#39;,
    litellmId: &#39;o3-pro-2025-06-10&#39;,
    name: &#39;o3-pro&#39;,
    displayName: &#39;O3 Pro&#39;,
    description: &#39;Extended compute O3 for maximum reasoning accuracy on hardest problems&#39;,
    category: &#39;reasoning&#39;,
    capabilities: [&#39;chat&#39;, &#39;reasoning&#39;, &#39;vision&#39;, &#39;function_calling&#39;, &#39;streaming&#39;],
    contextWindow: 200000,
    maxOutput: 100000,
    inputModalities: [&#39;text&#39;, &#39;image&#39;],
    outputModalities: [&#39;text&#39;],
    pricing: {
      type: &#39;per_token&#39;,
      inputCostPer1k: 0.02,
      outputCostPer1k: 0.08,
      markup: MARKUP,
      billedInputPer1k: 0.02 * MARKUP,
      billedOutputPer1k: 0.08 * MARKUP,
    },
    metadata: {
      releaseDate: &#39;2024-06-10&#39;,
      family: &#39;o-series&#39;,
      version: &#39;o3-pro&#39;,
      reasoningModel: true,
    },
  },
  {
    id: &#39;openai-o4-mini&#39;,
    modelId: &#39;o4-mini-2025-04-16&#39;,
    litellmId: &#39;o4-mini-2025-04-16&#39;,
    name: &#39;o4-mini&#39;,
    displayName: &#39;O4 Mini&#39;,
    description: &#39;Fast reasoning model, best on AIME math benchmarks&#39;,
    category: &#39;reasoning&#39;,
    capabilities: [&#39;chat&#39;, &#39;reasoning&#39;, &#39;vision&#39;, &#39;function_calling&#39;, &#39;streaming&#39;],
    contextWindow: 200000,
    maxOutput: 100000,
    inputModalities: [&#39;text&#39;, &#39;image&#39;],
    outputModalities: [&#39;text&#39;],
    pricing: {
      type: &#39;per_token&#39;,
      inputCostPer1k: 0.0011,
      outputCostPer1k: 0.0044,
      markup: MARKUP,
      billedInputPer1k: 0.0011 * MARKUP,
      billedOutputPer1k: 0.0044 * MARKUP,
    },
    metadata: {
      releaseDate: &#39;2024-04-16&#39;,
      family: &#39;o-series&#39;,
      version: &#39;o4-mini&#39;,
      isLatest: true,
      reasoningModel: true,
    },
  },
  {
    id: &#39;openai-o3-mini&#39;,
    modelId: &#39;o3-mini-2025-01-31&#39;,
    litellmId: &#39;o3-mini-2025-01-31&#39;,
    name: &#39;o3-mini&#39;,
    displayName: &#39;O3 Mini&#39;,
    description: &#39;Small reasoning model optimized for programming and math with configurable effort&#39;,
    category: &#39;reasoning&#39;,
    capabilities: [&#39;chat&#39;, &#39;reasoning&#39;, &#39;streaming&#39;],
    contextWindow: 200000,
    maxOutput: 100000,
    inputModalities: [&#39;text&#39;],
    outputModalities: [&#39;text&#39;],
    pricing: {
      type: &#39;per_token&#39;,
      inputCostPer1k: 0.0011,
      outputCostPer1k: 0.0044,
      markup: MARKUP,
      billedInputPer1k: 0.0011 * MARKUP,
      billedOutputPer1k: 0.0044 * MARKUP,
    },
    metadata: {
      releaseDate: &#39;2024-01-31&#39;,
      family: &#39;o-series&#39;,
      version: &#39;o3-mini&#39;,
      reasoningModel: true,
      reasoningEffort: [&#39;low&#39;, &#39;medium&#39;, &#39;high&#39;],
    },
  },
  // Legacy GPT-4o (still available for audio)
  {
    id: &#39;openai-gpt-4o&#39;,
    modelId: &#39;gpt-4o-2024-08-06&#39;,
    litellmId: &#39;gpt-4o-2024-08-06&#39;,
    name: &#39;gpt-4o&#39;,
    displayName: &#39;GPT-4o&#39;,
    description: &#39;Multimodal model with native audio input/output capabilities&#39;,
    category: &#39;text_generation&#39;,
    capabilities: [&#39;chat&#39;, &#39;vision&#39;, &#39;audio&#39;, &#39;function_calling&#39;, &#39;json_mode&#39;, &#39;streaming&#39;],
    contextWindow: 128000,
    maxOutput: 16384,
    inputModalities: [&#39;text&#39;, &#39;image&#39;, &#39;audio&#39;],
    outputModalities: [&#39;text&#39;, &#39;audio&#39;],
    pricing: {
      type: &#39;per_token&#39;,
      inputCostPer1k: 0.0025,
      outputCostPer1k: 0.01,
      markup: MARKUP,
      billedInputPer1k: 0.0025 * MARKUP,
      billedOutputPer1k: 0.01 * MARKUP,
    },
    metadata: {
      releaseDate: &#39;2024-08-06&#39;,
      family: &#39;gpt-4o&#39;,
      version: &#39;4o&#39;,
      legacy: true,
      supportsAudio: true,
    },
  },
];

export const OPENAI_PROVIDER: ExternalProvider = {
  id: &#39;openai&#39;,
  name: &#39;openai&#39;,
  displayName: &#39;OpenAI&#39;,
  category: &#39;text_generation&#39;,
  description: &#39;Leading AI lab providing GPT-5, GPT-4.1, and O-series reasoning models&#39;,
  website: &#39;https://openai.com&#39;,
  apiBaseUrl: &#39;https://api.openai.com/v1&#39;,
  authType: &#39;bearer&#39;,
  secretName: &#39;radiant/providers/openai&#39;,
  enabled: true,
  regions: [&#39;us-east-1&#39;, &#39;eu-west-1&#39;],
  models: OPENAI_MODELS,
  rateLimit: { requestsPerMinute: 10000, tokensPerMinute: 10000000 },
  features: [&#39;streaming&#39;, &#39;function_calling&#39;, &#39;vision&#39;, &#39;audio&#39;, &#39;json_mode&#39;, &#39;batch_api&#39;, &#39;agents&#39;, &#39;fine_tuning&#39;, &#39;reasoning&#39;],
  compliance: [&#39;SOC2&#39;, &#39;GDPR&#39;, &#39;HIPAA&#39;],
  metadata: {
    foundedYear: 2015,
    headquarters: &#39;San Francisco, CA&#39;,
    totalModels: OPENAI_MODELS.length,
    lastUpdated: &#39;2024-12-01&#39;,
  },
};

// ============================================================================
// ANTHROPIC - Claude 4.5, 4, and 3.5 Series
// ============================================================================

const ANTHROPIC_MODELS: ExternalModel[] = [
  // Claude 4.5 Series (Latest - November 2024)
  {
    id: &#39;anthropic-claude-opus-4-5&#39;,
    modelId: &#39;claude-opus-4-5-20251101&#39;,
    litellmId: &#39;anthropic/claude-opus-4-5-20251101&#39;,
    name: &#39;claude-opus-4.5&#39;,
    displayName: &#39;Claude Opus 4.5&#39;,
    description: &#39;Most intelligent model for coding, agents, and computer use&#39;,
    category: &#39;text_generation&#39;,
    capabilities: [&#39;chat&#39;, &#39;vision&#39;, &#39;tool_use&#39;, &#39;computer_use&#39;, &#39;extended_thinking&#39;, &#39;streaming&#39;, &#39;batch&#39;],
    contextWindow: 200000,
    maxOutput: 64000,
    inputModalities: [&#39;text&#39;, &#39;image&#39;, &#39;pdf&#39;],
    outputModalities: [&#39;text&#39;],
    pricing: {
      type: &#39;per_token&#39;,
      inputCostPer1k: 0.005,
      outputCostPer1k: 0.025,
      cachedInputCostPer1k: 0.0005,
      markup: MARKUP,
      billedInputPer1k: 0.005 * MARKUP,
      billedOutputPer1k: 0.025 * MARKUP,
    },
    metadata: {
      releaseDate: &#39;2024-11-01&#39;,
      family: &#39;claude-4.5&#39;,
      version: &#39;opus&#39;,
      isLatest: true,
      supportsBatch: true,
      batchDiscount: 0.5,
      bedrockId: &#39;anthropic.claude-opus-4-5-20251101-v1:0&#39;,
      vertexId: &#39;claude-opus-4-5@20251101&#39;,
    },
  },
  {
    id: &#39;anthropic-claude-sonnet-4-5&#39;,
    modelId: &#39;claude-sonnet-4-5-20250929&#39;,
    litellmId: &#39;anthropic/claude-sonnet-4-5-20250929&#39;,
    name: &#39;claude-sonnet-4.5&#39;,
    displayName: &#39;Claude Sonnet 4.5&#39;,
    description: &#39;Best balance of intelligence, speed, and cost - recommended for most tasks&#39;,
    category: &#39;text_generation&#39;,
    capabilities: [&#39;chat&#39;, &#39;vision&#39;, &#39;tool_use&#39;, &#39;computer_use&#39;, &#39;extended_thinking&#39;, &#39;streaming&#39;, &#39;batch&#39;, &#39;citations&#39;],
    contextWindow: 200000,
    maxOutput: 64000,
    inputModalities: [&#39;text&#39;, &#39;image&#39;, &#39;pdf&#39;],
    outputModalities: [&#39;text&#39;],
    pricing: {
      type: &#39;per_token&#39;,
      inputCostPer1k: 0.003,
      outputCostPer1k: 0.015,
      cachedInputCostPer1k: 0.0003,
      longContextInputPer1k: 0.006,
      longContextOutputPer1k: 0.0225,
      markup: MARKUP,
      billedInputPer1k: 0.003 * MARKUP,
      billedOutputPer1k: 0.015 * MARKUP,
    },
    metadata: {
      releaseDate: &#39;2024-09-29&#39;,
      family: &#39;claude-4.5&#39;,
      version: &#39;sonnet&#39;,
      isLatest: true,
      isRecommended: true,
      supportsBatch: true,
      batchDiscount: 0.5,
      betaContextWindow: 1000000,
      bedrockId: &#39;anthropic.claude-sonnet-4-5-20250929-v1:0&#39;,
      vertexId: &#39;claude-sonnet-4-5@20250929&#39;,
    },
  },
  {
    id: &#39;anthropic-claude-haiku-4-5&#39;,
    modelId: &#39;claude-haiku-4-5-20251001&#39;,
    litellmId: &#39;anthropic/claude-haiku-4-5-20251001&#39;,
    name: &#39;claude-haiku-4.5&#39;,
    displayName: &#39;Claude Haiku 4.5&#39;,
    description: &#39;Fastest Claude with near-frontier performance for high-volume tasks&#39;,
    category: &#39;text_generation&#39;,
    capabilities: [&#39;chat&#39;, &#39;vision&#39;, &#39;tool_use&#39;, &#39;streaming&#39;, &#39;batch&#39;],
    contextWindow: 200000,
    maxOutput: 64000,
    inputModalities: [&#39;text&#39;, &#39;image&#39;, &#39;pdf&#39;],
    outputModalities: [&#39;text&#39;],
    pricing: {
      type: &#39;per_token&#39;,
      inputCostPer1k: 0.001,
      outputCostPer1k: 0.005,
      cachedInputCostPer1k: 0.0001,
      markup: MARKUP,
      billedInputPer1k: 0.001 * MARKUP,
      billedOutputPer1k: 0.005 * MARKUP,
    },
    metadata: {
      releaseDate: &#39;2024-10-01&#39;,
      family: &#39;claude-4.5&#39;,
      version: &#39;haiku&#39;,
      isLatest: true,
      supportsBatch: true,
      batchDiscount: 0.5,
      bedrockId: &#39;anthropic.claude-haiku-4-5-20251001-v1:0&#39;,
      vertexId: &#39;claude-haiku-4-5@20251001&#39;,
    },
  },
  // Claude 4 Series
  {
    id: &#39;anthropic-claude-opus-4&#39;,
    modelId: &#39;claude-opus-4-20250514&#39;,
    litellmId: &#39;anthropic/claude-opus-4-20250514&#39;,
    name: &#39;claude-opus-4&#39;,
    displayName: &#39;Claude Opus 4&#39;,
    description: &#39;Previous flagship for complex analysis and extended tasks&#39;,
    category: &#39;text_generation&#39;,
    capabilities: [&#39;chat&#39;, &#39;vision&#39;, &#39;tool_use&#39;, &#39;computer_use&#39;, &#39;extended_thinking&#39;, &#39;streaming&#39;],
    contextWindow: 200000,
    maxOutput: 64000,
    inputModalities: [&#39;text&#39;, &#39;image&#39;, &#39;pdf&#39;],
    outputModalities: [&#39;text&#39;],
    pricing: {
      type: &#39;per_token&#39;,
      inputCostPer1k: 0.015,
      outputCostPer1k: 0.075,
      markup: MARKUP,
      billedInputPer1k: 0.015 * MARKUP,
      billedOutputPer1k: 0.075 * MARKUP,
    },
    metadata: {
      releaseDate: &#39;2024-05-14&#39;,
      family: &#39;claude-4&#39;,
      version: &#39;opus&#39;,
      bedrockId: &#39;anthropic.claude-opus-4-20250514-v1:0&#39;,
      vertexId: &#39;claude-opus-4@20250514&#39;,
    },
  },
  {
    id: &#39;anthropic-claude-sonnet-4&#39;,
    modelId: &#39;claude-sonnet-4-20250514&#39;,
    litellmId: &#39;anthropic/claude-sonnet-4-20250514&#39;,
    name: &#39;claude-sonnet-4&#39;,
    displayName: &#39;Claude Sonnet 4&#39;,
    description: &#39;Balanced performance and speed for general use&#39;,
    category: &#39;text_generation&#39;,
    capabilities: [&#39;chat&#39;, &#39;vision&#39;, &#39;tool_use&#39;, &#39;computer_use&#39;, &#39;extended_thinking&#39;, &#39;streaming&#39;],
    contextWindow: 200000,
    maxOutput: 64000,
    inputModalities: [&#39;text&#39;, &#39;image&#39;, &#39;pdf&#39;],
    outputModalities: [&#39;text&#39;],
    pricing: {
      type: &#39;per_token&#39;,
      inputCostPer1k: 0.003,
      outputCostPer1k: 0.015,
      markup: MARKUP,
      billedInputPer1k: 0.003 * MARKUP,
      billedOutputPer1k: 0.015 * MARKUP,
    },
    metadata: {
      releaseDate: &#39;2024-05-14&#39;,
      family: &#39;claude-4&#39;,
      version: &#39;sonnet&#39;,
      bedrockId: &#39;anthropic.claude-sonnet-4-20250514-v1:0&#39;,
      vertexId: &#39;claude-sonnet-4@20250514&#39;,
    },
  },
  // Claude 3.5 Series (Legacy)
  {
    id: &#39;anthropic-claude-haiku-35&#39;,
    modelId: &#39;claude-3-5-haiku-20241022&#39;,
    litellmId: &#39;anthropic/claude-3-5-haiku-20241022&#39;,
    name: &#39;claude-3.5-haiku&#39;,
    displayName: &#39;Claude 3.5 Haiku&#39;,
    description: &#39;Fast, affordable legacy model for high-volume tasks&#39;,
    category: &#39;text_generation&#39;,
    capabilities: [&#39;chat&#39;, &#39;vision&#39;, &#39;tool_use&#39;, &#39;streaming&#39;],
    contextWindow: 200000,
    maxOutput: 8192,
    inputModalities: [&#39;text&#39;, &#39;image&#39;],
    outputModalities: [&#39;text&#39;],
    pricing: {
      type: &#39;per_token&#39;,
      inputCostPer1k: 0.0008,
      outputCostPer1k: 0.004,
      markup: MARKUP,
      billedInputPer1k: 0.0008 * MARKUP,
      billedOutputPer1k: 0.004 * MARKUP,
    },
    metadata: {
      releaseDate: &#39;2024-10-22&#39;,
      family: &#39;claude-3.5&#39;,
      version: &#39;haiku&#39;,
      legacy: true,
    },
  },
];

export const ANTHROPIC_PROVIDER: ExternalProvider = {
  id: &#39;anthropic&#39;,
  name: &#39;anthropic&#39;,
  displayName: &#39;Anthropic&#39;,
  category: &#39;text_generation&#39;,
  description: &#39;AI safety company providing Claude 4.5 series - the most intelligent AI assistants&#39;,
  website: &#39;https://anthropic.com&#39;,
  apiBaseUrl: &#39;https://api.anthropic.com/v1&#39;,
  authType: &#39;api_key&#39;,
  secretName: &#39;radiant/providers/anthropic&#39;,
  enabled: true,
  regions: [&#39;us-east-1&#39;, &#39;eu-west-1&#39;],
  models: ANTHROPIC_MODELS,
  rateLimit: { requestsPerMinute: 4000, tokensPerMinute: 400000 },
  features: [&#39;streaming&#39;, &#39;tool_use&#39;, &#39;vision&#39;, &#39;extended_thinking&#39;, &#39;batch_api&#39;, &#39;computer_use&#39;, &#39;citations&#39;, &#39;memory&#39;],
  compliance: [&#39;SOC2&#39;, &#39;GDPR&#39;, &#39;HIPAA&#39;],
  metadata: {
    foundedYear: 2021,
    headquarters: &#39;San Francisco, CA&#39;,
    totalModels: ANTHROPIC_MODELS.length,
    lastUpdated: &#39;2024-11-01&#39;,
    cloudPartners: [&#39;AWS Bedrock&#39;, &#39;Google Vertex AI&#39;],
  },
};

// ============================================================================
// GOOGLE - Gemini 3, 2.5, and 2.0 Series
// ============================================================================

const GOOGLE_MODELS: ExternalModel[] = [
  // Gemini 3 Series (Preview - December 2024)
  {
    id: &#39;google-gemini-3-pro&#39;,
    modelId: &#39;gemini-3-pro-preview&#39;,
    litellmId: &#39;gemini/gemini-3-pro-preview&#39;,
    name: &#39;gemini-3-pro&#39;,
    displayName: &#39;Gemini 3 Pro&#39;,
    description: &#39;Latest flagship with advanced reasoning and native 1M context&#39;,
    category: &#39;text_generation&#39;,
    capabilities: [&#39;chat&#39;, &#39;vision&#39;, &#39;audio&#39;, &#39;video&#39;, &#39;function_calling&#39;, &#39;thinking&#39;, &#39;grounding&#39;, &#39;streaming&#39;],
    contextWindow: 1000000,
    maxOutput: 65536,
    inputModalities: [&#39;text&#39;, &#39;image&#39;, &#39;audio&#39;, &#39;video&#39;, &#39;pdf&#39;],
    outputModalities: [&#39;text&#39;],
    pricing: {
      type: &#39;per_token&#39;,
      inputCostPer1k: 0.002,
      outputCostPer1k: 0.012,
      longContextInputPer1k: 0.004,
      longContextOutputPer1k: 0.018,
      markup: MARKUP,
      billedInputPer1k: 0.002 * MARKUP,
      billedOutputPer1k: 0.012 * MARKUP,
    },
    metadata: {
      releaseDate: &#39;2024-12-01&#39;,
      family: &#39;gemini-3&#39;,
      version: &#39;pro&#39;,
      isPreview: true,
      isLatest: true,
    },
  },
  {
    id: &#39;google-gemini-3-flash&#39;,
    modelId: &#39;gemini-3-flash-preview&#39;,
    litellmId: &#39;gemini/gemini-3-flash-preview&#39;,
    name: &#39;gemini-3-flash&#39;,
    displayName: &#39;Gemini 3 Flash&#39;,
    description: &#39;Fast Gemini 3 variant for high-volume multimodal tasks&#39;,
    category: &#39;text_generation&#39;,
    capabilities: [&#39;chat&#39;, &#39;vision&#39;, &#39;audio&#39;, &#39;video&#39;, &#39;function_calling&#39;, &#39;thinking&#39;, &#39;streaming&#39;],
    contextWindow: 1000000,
    maxOutput: 65536,
    inputModalities: [&#39;text&#39;, &#39;image&#39;, &#39;audio&#39;, &#39;video&#39;],
    outputModalities: [&#39;text&#39;],
    pricing: {
      type: &#39;per_token&#39;,
      inputCostPer1k: 0.0005,
      outputCostPer1k: 0.003,
      markup: MARKUP,
      billedInputPer1k: 0.0005 * MARKUP,
      billedOutputPer1k: 0.003 * MARKUP,
    },
    metadata: {
      releaseDate: &#39;2024-12-01&#39;,
      family: &#39;gemini-3&#39;,
      version: &#39;flash&#39;,
      isPreview: true,
    },
  },
  // Gemini 2.5 Series (Stable)
  {
    id: &#39;google-gemini-25-pro&#39;,
    modelId: &#39;gemini-2.5-pro&#39;,
    litellmId: &#39;gemini/gemini-2.5-pro&#39;,
    name: &#39;gemini-2.5-pro&#39;,
    displayName: &#39;Gemini 2.5 Pro&#39;,
    description: &#39;Stable flagship with thinking mode and 1M context&#39;,
    category: &#39;text_generation&#39;,
    capabilities: [&#39;chat&#39;, &#39;vision&#39;, &#39;audio&#39;, &#39;video&#39;, &#39;function_calling&#39;, &#39;thinking&#39;, &#39;grounding&#39;, &#39;streaming&#39;],
    contextWindow: 1000000,
    maxOutput: 65536,
    inputModalities: [&#39;text&#39;, &#39;image&#39;, &#39;audio&#39;, &#39;video&#39;, &#39;pdf&#39;],
    outputModalities: [&#39;text&#39;],
    pricing: {
      type: &#39;per_token&#39;,
      inputCostPer1k: 0.00125,
      outputCostPer1k: 0.01,
      longContextInputPer1k: 0.0025,
      longContextOutputPer1k: 0.015,
      markup: MARKUP,
      billedInputPer1k: 0.00125 * MARKUP,
      billedOutputPer1k: 0.01 * MARKUP,
    },
    metadata: {
      releaseDate: &#39;2024-09-01&#39;,
      family: &#39;gemini-2.5&#39;,
      version: &#39;pro&#39;,
      isLatest: true,
      isRecommended: true,
    },
  },
  {
    id: &#39;google-gemini-25-flash&#39;,
    modelId: &#39;gemini-2.5-flash&#39;,
    litellmId: &#39;gemini/gemini-2.5-flash&#39;,
    name: &#39;gemini-2.5-flash&#39;,
    displayName: &#39;Gemini 2.5 Flash&#39;,
    description: &#39;Fast multimodal with thinking capabilities&#39;,
    category: &#39;text_generation&#39;,
    capabilities: [&#39;chat&#39;, &#39;vision&#39;, &#39;audio&#39;, &#39;video&#39;, &#39;function_calling&#39;, &#39;thinking&#39;, &#39;streaming&#39;],
    contextWindow: 1000000,
    maxOutput: 65536,
    inputModalities: [&#39;text&#39;, &#39;image&#39;, &#39;audio&#39;, &#39;video&#39;],
    outputModalities: [&#39;text&#39;],
    pricing: {
      type: &#39;per_token&#39;,
      inputCostPer1k: 0.0003,
      outputCostPer1k: 0.0025,
      markup: MARKUP,
      billedInputPer1k: 0.0003 * MARKUP,
      billedOutputPer1k: 0.0025 * MARKUP,
    },
    metadata: {
      releaseDate: &#39;2024-09-01&#39;,
      family: &#39;gemini-2.5&#39;,
      version: &#39;flash&#39;,
    },
  },
  {
    id: &#39;google-gemini-25-flash-lite&#39;,
    modelId: &#39;gemini-2.5-flash-lite&#39;,
    litellmId: &#39;gemini/gemini-2.5-flash-lite&#39;,
    name: &#39;gemini-2.5-flash-lite&#39;,
    displayName: &#39;Gemini 2.5 Flash-Lite&#39;,
    description: &#39;Ultra cost-efficient for high-volume processing&#39;,
    category: &#39;text_generation&#39;,
    capabilities: [&#39;chat&#39;, &#39;vision&#39;, &#39;function_calling&#39;, &#39;streaming&#39;],
    contextWindow: 1000000,
    maxOutput: 65536,
    inputModalities: [&#39;text&#39;, &#39;image&#39;],
    outputModalities: [&#39;text&#39;],
    pricing: {
      type: &#39;per_token&#39;,
      inputCostPer1k: 0.0001,
      outputCostPer1k: 0.0004,
      markup: MARKUP,
      billedInputPer1k: 0.0001 * MARKUP,
      billedOutputPer1k: 0.0004 * MARKUP,
    },
    metadata: {
      releaseDate: &#39;2024-09-01&#39;,
      family: &#39;gemini-2.5&#39;,
      version: &#39;flash-lite&#39;,
    },
  },
  // Gemini 2.0 Series
  {
    id: &#39;google-gemini-2-flash&#39;,
    modelId: &#39;gemini-2.0-flash-001&#39;,
    litellmId: &#39;gemini/gemini-2.0-flash-001&#39;,
    name: &#39;gemini-2.0-flash&#39;,
    displayName: &#39;Gemini 2.0 Flash&#39;,
    description: &#39;Fast multimodal with real-time capabilities&#39;,
    category: &#39;text_generation&#39;,
    capabilities: [&#39;chat&#39;, &#39;vision&#39;, &#39;audio&#39;, &#39;video&#39;, &#39;function_calling&#39;, &#39;streaming&#39;],
    contextWindow: 1000000,
    maxOutput: 8192,
    inputModalities: [&#39;text&#39;, &#39;image&#39;, &#39;audio&#39;, &#39;video&#39;],
    outputModalities: [&#39;text&#39;],
    pricing: {
      type: &#39;per_token&#39;,
      inputCostPer1k: 0.0001,
      outputCostPer1k: 0.0004,
      markup: MARKUP,
      billedInputPer1k: 0.0001 * MARKUP,
      billedOutputPer1k: 0.0004 * MARKUP,
    },
    metadata: {
      releaseDate: &#39;2024-06-01&#39;,
      family: &#39;gemini-2.0&#39;,
      version: &#39;flash&#39;,
      hasFreeVersion: true,
    },
  },
];

export const GOOGLE_PROVIDER: ExternalProvider = {
  id: &#39;google&#39;,
  name: &#39;google&#39;,
  displayName: &#39;Google AI&#39;,
  category: &#39;text_generation&#39;,
  description: &#39;Google AI providing Gemini 3, 2.5, and 2.0 models with native 1M context&#39;,
  website: &#39;https://ai.google.dev&#39;,
  apiBaseUrl: &#39;https://generativelanguage.googleapis.com/v1beta&#39;,
  authType: &#39;api_key&#39;,
  secretName: &#39;radiant/providers/google&#39;,
  enabled: true,
  regions: [&#39;us-east-1&#39;, &#39;eu-west-1&#39;, &#39;ap-northeast-1&#39;],
  models: GOOGLE_MODELS,
  rateLimit: { requestsPerMinute: 1000, tokensPerMinute: 4000000 },
  features: [&#39;streaming&#39;, &#39;function_calling&#39;, &#39;vision&#39;, &#39;audio&#39;, &#39;video&#39;, &#39;thinking&#39;, &#39;grounding&#39;, &#39;code_execution&#39;],
  compliance: [&#39;SOC2&#39;, &#39;GDPR&#39;, &#39;HIPAA&#39;],
  metadata: {
    foundedYear: 1998,
    headquarters: &#39;Mountain View, CA&#39;,
    totalModels: GOOGLE_MODELS.length,
    lastUpdated: &#39;2024-12-01&#39;,
    cloudPlatform: &#39;Google Vertex AI&#39;,
  },
};

// ============================================================================
// XAI (GROK) - Grok 4 and 3 Series
// ============================================================================

const XAI_MODELS: ExternalModel[] = [
  // Grok 4 Series (Latest)
  {
    id: &#39;xai-grok-4&#39;,
    modelId: &#39;grok-4-0709&#39;,
    litellmId: &#39;xai/grok-4-0709&#39;,
    name: &#39;grok-4&#39;,
    displayName: &#39;Grok 4&#39;,
    description: &#39;xAI flagship with advanced reasoning capabilities&#39;,
    category: &#39;text_generation&#39;,
    capabilities: [&#39;chat&#39;, &#39;vision&#39;, &#39;reasoning&#39;, &#39;function_calling&#39;, &#39;streaming&#39;],
    contextWindow: 256000,
    maxOutput: 256000,
    inputModalities: [&#39;text&#39;, &#39;image&#39;],
    outputModalities: [&#39;text&#39;],
    pricing: {
      type: &#39;per_token&#39;,
      inputCostPer1k: 0.003,
      outputCostPer1k: 0.015,
      markup: MARKUP,
      billedInputPer1k: 0.003 * MARKUP,
      billedOutputPer1k: 0.015 * MARKUP,
    },
    metadata: {
      releaseDate: &#39;2024-07-09&#39;,
      family: &#39;grok-4&#39;,
      version: &#39;4&#39;,
      isLatest: true,
    },
  },
  {
    id: &#39;xai-grok-4-1-fast&#39;,
    modelId: &#39;grok-4-1-fast-reasoning&#39;,
    litellmId: &#39;xai/grok-4-1-fast-reasoning&#39;,
    name: &#39;grok-4.1-fast&#39;,
    displayName: &#39;Grok 4.1 Fast&#39;,
    description: &#39;Best value: near-flagship performance at 1/15th price with 2M context&#39;,
    category: &#39;text_generation&#39;,
    capabilities: [&#39;chat&#39;, &#39;vision&#39;, &#39;reasoning&#39;, &#39;function_calling&#39;, &#39;streaming&#39;, &#39;tool_calling&#39;],
    contextWindow: 2000000,
    maxOutput: 2000000,
    inputModalities: [&#39;text&#39;, &#39;image&#39;],
    outputModalities: [&#39;text&#39;],
    pricing: {
      type: &#39;per_token&#39;,
      inputCostPer1k: 0.0002,
      outputCostPer1k: 0.0005,
      markup: MARKUP,
      billedInputPer1k: 0.0002 * MARKUP,
      billedOutputPer1k: 0.0005 * MARKUP,
    },
    metadata: {
      releaseDate: &#39;2024-11-01&#39;,
      family: &#39;grok-4.1&#39;,
      version: &#39;fast-reasoning&#39;,
      isLatest: true,
      isRecommended: true,
      bestValue: true,
    },
  },
  {
    id: &#39;xai-grok-4-fast&#39;,
    modelId: &#39;grok-4-fast-reasoning&#39;,
    litellmId: &#39;xai/grok-4-fast-reasoning&#39;,
    name: &#39;grok-4-fast&#39;,
    displayName: &#39;Grok 4 Fast Reasoning&#39;,
    description: &#39;Fast reasoning with massive 2M context window&#39;,
    category: &#39;reasoning&#39;,
    capabilities: [&#39;chat&#39;, &#39;vision&#39;, &#39;reasoning&#39;, &#39;function_calling&#39;, &#39;streaming&#39;],
    contextWindow: 2000000,
    maxOutput: 2000000,
    inputModalities: [&#39;text&#39;, &#39;image&#39;],
    outputModalities: [&#39;text&#39;],
    pricing: {
      type: &#39;per_token&#39;,
      inputCostPer1k: 0.0002,
      outputCostPer1k: 0.0005,
      markup: MARKUP,
      billedInputPer1k: 0.0002 * MARKUP,
      billedOutputPer1k: 0.0005 * MARKUP,
    },
    metadata: {
      releaseDate: &#39;2024-09-01&#39;,
      family: &#39;grok-4&#39;,
      version: &#39;fast-reasoning&#39;,
    },
  },
  // Grok 3 Series
  {
    id: &#39;xai-grok-3&#39;,
    modelId: &#39;grok-3&#39;,
    litellmId: &#39;xai/grok-3&#39;,
    name: &#39;grok-3&#39;,
    displayName: &#39;Grok 3&#39;,
    description: &#39;Previous flagship with real-time X/Twitter knowledge&#39;,
    category: &#39;text_generation&#39;,
    capabilities: [&#39;chat&#39;, &#39;vision&#39;, &#39;function_calling&#39;, &#39;streaming&#39;],
    contextWindow: 131072,
    maxOutput: 131072,
    inputModalities: [&#39;text&#39;, &#39;image&#39;],
    outputModalities: [&#39;text&#39;],
    pricing: {
      type: &#39;per_token&#39;,
      inputCostPer1k: 0.003,
      outputCostPer1k: 0.015,
      markup: MARKUP,
      billedInputPer1k: 0.003 * MARKUP,
      billedOutputPer1k: 0.015 * MARKUP,
    },
    metadata: {
      releaseDate: &#39;2024-03-01&#39;,
      family: &#39;grok-3&#39;,
      version: &#39;3&#39;,
    },
  },
  {
    id: &#39;xai-grok-3-mini&#39;,
    modelId: &#39;grok-3-mini&#39;,
    litellmId: &#39;xai/grok-3-mini&#39;,
    name: &#39;grok-3-mini&#39;,
    displayName: &#39;Grok 3 Mini&#39;,
    description: &#39;Smaller, faster Grok for everyday tasks&#39;,
    category: &#39;text_generation&#39;,
    capabilities: [&#39;chat&#39;, &#39;function_calling&#39;, &#39;streaming&#39;],
    contextWindow: 131072,
    maxOutput: 16384,
    inputModalities: [&#39;text&#39;],
    outputModalities: [&#39;text&#39;],
    pricing: {
      type: &#39;per_token&#39;,
      inputCostPer1k: 0.0003,
      outputCostPer1k: 0.0005,
      markup: MARKUP,
      billedInputPer1k: 0.0003 * MARKUP,
      billedOutputPer1k: 0.0005 * MARKUP,
    },
    metadata: {
      releaseDate: &#39;2024-03-01&#39;,
      family: &#39;grok-3&#39;,
      version: &#39;mini&#39;,
    },
  },
  // Grok 2 Series
  {
    id: &#39;xai-grok-2&#39;,
    modelId: &#39;grok-2-1212&#39;,
    litellmId: &#39;xai/grok-2-1212&#39;,
    name: &#39;grok-2&#39;,
    displayName: &#39;Grok 2&#39;,
    description: &#39;Stable previous generation model&#39;,
    category: &#39;text_generation&#39;,
    capabilities: [&#39;chat&#39;, &#39;vision&#39;, &#39;function_calling&#39;, &#39;streaming&#39;],
    contextWindow: 131072,
    maxOutput: 131072,
    inputModalities: [&#39;text&#39;, &#39;image&#39;],
    outputModalities: [&#39;text&#39;],
    pricing: {
      type: &#39;per_token&#39;,
      inputCostPer1k: 0.002,
      outputCostPer1k: 0.01,
      markup: MARKUP,
      billedInputPer1k: 0.002 * MARKUP,
      billedOutputPer1k: 0.01 * MARKUP,
    },
    metadata: {
      releaseDate: &#39;2024-12-12&#39;,
      family: &#39;grok-2&#39;,
      version: &#39;2&#39;,
      legacy: true,
    },
  },
];

export const XAI_PROVIDER: ExternalProvider = {
  id: &#39;xai&#39;,
  name: &#39;xai&#39;,
  displayName: &#39;xAI (Grok)&#39;,
  category: &#39;text_generation&#39;,
  description: &#39;xAI providing Grok 4 series with industry-leading 2M context and competitive pricing&#39;,
  website: &#39;https://x.ai&#39;,
  apiBaseUrl: &#39;https://api.x.ai/v1&#39;,
  authType: &#39;bearer&#39;,
  secretName: &#39;radiant/providers/xai&#39;,
  enabled: true,
  regions: [&#39;us-east-1&#39;],
  models: XAI_MODELS,
  rateLimit: { requestsPerMinute: 1000, tokensPerMinute: 1000000 },
  features: [&#39;streaming&#39;, &#39;function_calling&#39;, &#39;vision&#39;, &#39;reasoning&#39;, &#39;web_search&#39;, &#39;x_search&#39;, &#39;code_execution&#39;],
  compliance: [&#39;SOC2&#39;],
  metadata: {
    foundedYear: 2023,
    headquarters: &#39;San Francisco, CA&#39;,
    totalModels: XAI_MODELS.length,
    lastUpdated: &#39;2024-11-01&#39;,
    serverTools: [&#39;web_search&#39;, &#39;x_search&#39;, &#39;code_execution&#39;, &#39;document_search&#39;],
    toolCallCost: 0.005,
  },
};

// ============================================================================
// DEEPSEEK - V3 Models (Best Value in Market)
// ============================================================================

const DEEPSEEK_MODELS: ExternalModel[] = [
  {
    id: &#39;deepseek-chat&#39;,
    modelId: &#39;deepseek-chat&#39;,
    litellmId: &#39;deepseek/deepseek-chat&#39;,
    name: &#39;deepseek-chat&#39;,
    displayName: &#39;DeepSeek Chat (V3.2)&#39;,
    description: &#39;Best value in market: frontier performance at 90% lower cost&#39;,
    category: &#39;text_generation&#39;,
    capabilities: [&#39;chat&#39;, &#39;function_calling&#39;, &#39;json_mode&#39;, &#39;streaming&#39;, &#39;prefix_completion&#39;],
    contextWindow: 128000,
    maxOutput: 8192,
    inputModalities: [&#39;text&#39;],
    outputModalities: [&#39;text&#39;],
    pricing: {
      type: &#39;per_token&#39;,
      inputCostPer1k: 0.00028,
      outputCostPer1k: 0.00042,
      cachedInputCostPer1k: 0.000028,
      markup: MARKUP,
      billedInputPer1k: 0.00028 * MARKUP,
      billedOutputPer1k: 0.00042 * MARKUP,
    },
    metadata: {
      releaseDate: &#39;2024-12-01&#39;,
      family: &#39;deepseek-v3&#39;,
      version: &#39;3.2&#39;,
      isLatest: true,
      isRecommended: true,
      bestValue: true,
      openAICompatible: true,
    },
  },
  {
    id: &#39;deepseek-reasoner&#39;,
    modelId: &#39;deepseek-reasoner&#39;,
    litellmId: &#39;deepseek/deepseek-reasoner&#39;,
    name: &#39;deepseek-reasoner&#39;,
    displayName: &#39;DeepSeek R1&#39;,
    description: &#39;Advanced reasoning model rivaling O1 at fraction of cost&#39;,
    category: &#39;reasoning&#39;,
    capabilities: [&#39;chat&#39;, &#39;reasoning&#39;, &#39;function_calling&#39;, &#39;streaming&#39;, &#39;thinking_in_tool_use&#39;],
    contextWindow: 128000,
    maxOutput: 64000,
    inputModalities: [&#39;text&#39;],
    outputModalities: [&#39;text&#39;],
    pricing: {
      type: &#39;per_token&#39;,
      inputCostPer1k: 0.00028,
      outputCostPer1k: 0.00042,
      cachedInputCostPer1k: 0.000028,
      markup: MARKUP,
      billedInputPer1k: 0.00028 * MARKUP,
      billedOutputPer1k: 0.00042 * MARKUP,
    },
    metadata: {
      releaseDate: &#39;2024-12-01&#39;,
      family: &#39;deepseek-r1&#39;,
      version: &#39;r1&#39;,
      isLatest: true,
      reasoningModel: true,
      openAICompatible: true,
    },
  },
];

export const DEEPSEEK_PROVIDER: ExternalProvider = {
  id: &#39;deepseek&#39;,
  name: &#39;deepseek&#39;,
  displayName: &#39;DeepSeek&#39;,
  category: &#39;text_generation&#39;,
  description: &#39;Most cost-effective frontier AI: 90% cheaper than competitors with comparable quality&#39;,
  website: &#39;https://deepseek.com&#39;,
  apiBaseUrl: &#39;https://api.deepseek.com/v1&#39;,
  authType: &#39;bearer&#39;,
  secretName: &#39;radiant/providers/deepseek&#39;,
  enabled: true,
  regions: [&#39;global&#39;],
  models: DEEPSEEK_MODELS,
  rateLimit: { requestsPerMinute: 1000 },
  features: [&#39;streaming&#39;, &#39;function_calling&#39;, &#39;reasoning&#39;, &#39;json_mode&#39;, &#39;context_caching&#39;, &#39;prefix_completion&#39;],
  compliance: [],
  metadata: {
    foundedYear: 2023,
    headquarters: &#39;Hangzhou, China&#39;,
    totalModels: DEEPSEEK_MODELS.length,
    lastUpdated: &#39;2024-12-01&#39;,
    openAISDKCompatible: true,
    bestValueProvider: true,
  },
};

// ============================================================================
// MISTRAL - European Frontier Models
// ============================================================================

const MISTRAL_MODELS: ExternalModel[] = [
  {
    id: &#39;mistral-large&#39;,
    modelId: &#39;mistral-large-2411&#39;,
    litellmId: &#39;mistral/mistral-large-2411&#39;,
    name: &#39;mistral-large&#39;,
    displayName: &#39;Mistral Large 2.1&#39;,
    description: &#39;European flagship for complex reasoning and enterprise tasks&#39;,
    category: &#39;text_generation&#39;,
    capabilities: [&#39;chat&#39;, &#39;function_calling&#39;, &#39;json_mode&#39;, &#39;streaming&#39;],
    contextWindow: 128000,
    maxOutput: 4096,
    inputModalities: [&#39;text&#39;],
    outputModalities: [&#39;text&#39;],
    pricing: {
      type: &#39;per_token&#39;,
      inputCostPer1k: 0.002,
      outputCostPer1k: 0.006,
      markup: MARKUP,
      billedInputPer1k: 0.002 * MARKUP,
      billedOutputPer1k: 0.006 * MARKUP,
    },
    metadata: {
      releaseDate: &#39;2024-11-01&#39;,
      family: &#39;mistral-large&#39;,
      version: &#39;2.1&#39;,
      isLatest: true,
    },
  },
  {
    id: &#39;mistral-medium&#39;,
    modelId: &#39;mistral-medium-2505&#39;,
    litellmId: &#39;mistral/mistral-medium-2505&#39;,
    name: &#39;mistral-medium&#39;,
    displayName: &#39;Mistral Medium 3&#39;,
    description: &#39;Balanced European model for general enterprise tasks&#39;,
    category: &#39;text_generation&#39;,
    capabilities: [&#39;chat&#39;, &#39;function_calling&#39;, &#39;json_mode&#39;, &#39;streaming&#39;],
    contextWindow: 128000,
    maxOutput: 4096,
    inputModalities: [&#39;text&#39;],
    outputModalities: [&#39;text&#39;],
    pricing: {
      type: &#39;per_token&#39;,
      inputCostPer1k: 0.0004,
      outputCostPer1k: 0.002,
      markup: MARKUP,
      billedInputPer1k: 0.0004 * MARKUP,
      billedOutputPer1k: 0.002 * MARKUP,
    },
    metadata: {
      releaseDate: &#39;2024-05-01&#39;,
      family: &#39;mistral-medium&#39;,
      version: &#39;3&#39;,
    },
  },
  {
    id: &#39;mistral-small&#39;,
    modelId: &#39;mistral-small-2409&#39;,
    litellmId: &#39;mistral/mistral-small-2409&#39;,
    name: &#39;mistral-small&#39;,
    displayName: &#39;Mistral Small 2&#39;,
    description: &#39;Cost-efficient for everyday tasks&#39;,
    category: &#39;text_generation&#39;,
    capabilities: [&#39;chat&#39;, &#39;function_calling&#39;, &#39;json_mode&#39;, &#39;streaming&#39;],
    contextWindow: 128000,
    maxOutput: 4096,
    inputModalities: [&#39;text&#39;],
    outputModalities: [&#39;text&#39;],
    pricing: {
      type: &#39;per_token&#39;,
      inputCostPer1k: 0.0001,
      outputCostPer1k: 0.0003,
      markup: MARKUP,
      billedInputPer1k: 0.0001 * MARKUP,
      billedOutputPer1k: 0.0003 * MARKUP,
    },
    metadata: {
      releaseDate: &#39;2024-09-01&#39;,
      family: &#39;mistral-small&#39;,
      version: &#39;2&#39;,
    },
  },
  {
    id: &#39;mistral-pixtral-large&#39;,
    modelId: &#39;pixtral-large-2411&#39;,
    litellmId: &#39;mistral/pixtral-large-2411&#39;,
    name: &#39;pixtral-large&#39;,
    displayName: &#39;Pixtral Large&#39;,
    description: &#39;Vision model for OCR, document analysis, and image understanding&#39;,
    category: &#39;vision&#39;,
    capabilities: [&#39;chat&#39;, &#39;vision&#39;, &#39;function_calling&#39;, &#39;streaming&#39;],
    contextWindow: 128000,
    maxOutput: 4096,
    inputModalities: [&#39;text&#39;, &#39;image&#39;],
    outputModalities: [&#39;text&#39;],
    pricing: {
      type: &#39;per_token&#39;,
      inputCostPer1k: 0.002,
      outputCostPer1k: 0.006,
      markup: MARKUP,
      billedInputPer1k: 0.002 * MARKUP,
      billedOutputPer1k: 0.006 * MARKUP,
    },
    metadata: {
      releaseDate: &#39;2024-11-01&#39;,
      family: &#39;pixtral&#39;,
      version: &#39;large&#39;,
    },
  },
  {
    id: &#39;mistral-codestral&#39;,
    modelId: &#39;codestral-2501&#39;,
    litellmId: &#39;mistral/codestral-2501&#39;,
    name: &#39;codestral&#39;,
    displayName: &#39;Codestral&#39;,
    description: &#39;Specialized code model supporting 80+ languages with fill-in-the-middle&#39;,
    category: &#39;code&#39;,
    capabilities: [&#39;chat&#39;, &#39;code_completion&#39;, &#39;fim&#39;, &#39;streaming&#39;],
    contextWindow: 256000,
    maxOutput: 8192,
    inputModalities: [&#39;text&#39;],
    outputModalities: [&#39;text&#39;],
    pricing: {
      type: &#39;per_token&#39;,
      inputCostPer1k: 0.0002,
      outputCostPer1k: 0.0006,
      markup: MARKUP,
      billedInputPer1k: 0.0002 * MARKUP,
      billedOutputPer1k: 0.0006 * MARKUP,
    },
    metadata: {
      releaseDate: &#39;2024-01-01&#39;,
      family: &#39;codestral&#39;,
      version: &#39;2501&#39;,
      supportedLanguages: 80,
    },
  },
  {
    id: &#39;mistral-magistral-medium&#39;,
    modelId: &#39;magistral-medium-2509&#39;,
    litellmId: &#39;mistral/magistral-medium-2509&#39;,
    name: &#39;magistral-medium&#39;,
    displayName: &#39;Magistral Medium&#39;,
    description: &#39;Reasoning model with configurable thinking effort levels&#39;,
    category: &#39;reasoning&#39;,
    capabilities: [&#39;chat&#39;, &#39;reasoning&#39;, &#39;function_calling&#39;, &#39;streaming&#39;],
    contextWindow: 128000,
    maxOutput: 8192,
    inputModalities: [&#39;text&#39;],
    outputModalities: [&#39;text&#39;],
    pricing: {
      type: &#39;per_token&#39;,
      inputCostPer1k: 0.001,
      outputCostPer1k: 0.003,
      markup: MARKUP,
      billedInputPer1k: 0.001 * MARKUP,
      billedOutputPer1k: 0.003 * MARKUP,
    },
    metadata: {
      releaseDate: &#39;2024-09-01&#39;,
      family: &#39;magistral&#39;,
      version: &#39;medium&#39;,
      reasoningModel: true,
      reasoningEffort: [&#39;low&#39;, &#39;medium&#39;, &#39;high&#39;],
    },
  },
];

export const MISTRAL_PROVIDER: ExternalProvider = {
  id: &#39;mistral&#39;,
  name: &#39;mistral&#39;,
  displayName: &#39;Mistral AI&#39;,
  category: &#39;text_generation&#39;,
  description: &#39;European frontier models with GDPR compliance and specialized coding/vision variants&#39;,
  website: &#39;https://mistral.ai&#39;,
  apiBaseUrl: &#39;https://api.mistral.ai/v1&#39;,
  authType: &#39;bearer&#39;,
  secretName: &#39;radiant/providers/mistral&#39;,
  enabled: true,
  regions: [&#39;eu-west-1&#39;, &#39;us-east-1&#39;],
  models: MISTRAL_MODELS,
  rateLimit: { requestsPerMinute: 1000 },
  features: [&#39;streaming&#39;, &#39;function_calling&#39;, &#39;vision&#39;, &#39;code_completion&#39;, &#39;fim&#39;, &#39;reasoning&#39;, &#39;batch_api&#39;],
  compliance: [&#39;GDPR&#39;, &#39;SOC2&#39;],
  metadata: {
    foundedYear: 2023,
    headquarters: &#39;Paris, France&#39;,
    totalModels: MISTRAL_MODELS.length,
    lastUpdated: &#39;2024-11-01&#39;,
    europeanProvider: true,
  },
};

// ============================================================================
// COHERE - Enterprise RAG Models
// ============================================================================

const COHERE_MODELS: ExternalModel[] = [
  {
    id: &#39;cohere-command-r-plus&#39;,
    modelId: &#39;command-r-plus-08-2024&#39;,
    litellmId: &#39;cohere/command-r-plus-08-2024&#39;,
    name: &#39;command-r-plus&#39;,
    displayName: &#39;Command R+&#39;,
    description: &#39;Enterprise model optimized for RAG and complex tool use&#39;,
    category: &#39;text_generation&#39;,
    capabilities: [&#39;chat&#39;, &#39;rag&#39;, &#39;function_calling&#39;, &#39;streaming&#39;],
    contextWindow: 128000,
    maxOutput: 4096,
    inputModalities: [&#39;text&#39;],
    outputModalities: [&#39;text&#39;],
    pricing: {
      type: &#39;per_token&#39;,
      inputCostPer1k: 0.0025,
      outputCostPer1k: 0.01,
      markup: MARKUP,
      billedInputPer1k: 0.0025 * MARKUP,
      billedOutputPer1k: 0.01 * MARKUP,
    },
    metadata: {
      releaseDate: &#39;2024-08-01&#39;,
      family: &#39;command-r&#39;,
      version: &#39;plus&#39;,
      isLatest: true,
    },
  },
  {
    id: &#39;cohere-command-r&#39;,
    modelId: &#39;command-r-08-2024&#39;,
    litellmId: &#39;cohere/command-r-08-2024&#39;,
    name: &#39;command-r&#39;,
    displayName: &#39;Command R&#39;,
    description: &#39;Balanced model for general enterprise tasks&#39;,
    category: &#39;text_generation&#39;,
    capabilities: [&#39;chat&#39;, &#39;rag&#39;, &#39;function_calling&#39;, &#39;streaming&#39;],
    contextWindow: 128000,
    maxOutput: 4096,
    inputModalities: [&#39;text&#39;],
    outputModalities: [&#39;text&#39;],
    pricing: {
      type: &#39;per_token&#39;,
      inputCostPer1k: 0.00015,
      outputCostPer1k: 0.0006,
      markup: MARKUP,
      billedInputPer1k: 0.00015 * MARKUP,
      billedOutputPer1k: 0.0006 * MARKUP,
    },
    metadata: {
      releaseDate: &#39;2024-08-01&#39;,
      family: &#39;command-r&#39;,
      version: &#39;base&#39;,
    },
  },
  {
    id: &#39;cohere-embed-v4&#39;,
    modelId: &#39;embed-v4.0&#39;,
    litellmId: &#39;cohere/embed-v4.0&#39;,
    name: &#39;embed-v4&#39;,
    displayName: &#39;Embed V4&#39;,
    description: &#39;State-of-the-art embeddings for semantic search and RAG&#39;,
    category: &#39;embeddings&#39;,
    capabilities: [&#39;embeddings&#39;],
    contextWindow: 128000,
    maxOutput: 0,
    inputModalities: [&#39;text&#39;],
    outputModalities: [&#39;embeddings&#39;],
    pricing: {
      type: &#39;per_token&#39;,
      inputCostPer1k: 0.0001,
      outputCostPer1k: 0,
      markup: MARKUP,
      billedInputPer1k: 0.0001 * MARKUP,
      billedOutputPer1k: 0,
    },
    metadata: {
      releaseDate: &#39;2024-10-01&#39;,
      family: &#39;embed&#39;,
      version: &#39;v4&#39;,
      dimensions: 1024,
    },
  },
];

export const COHERE_PROVIDER: ExternalProvider = {
  id: &#39;cohere&#39;,
  name: &#39;cohere&#39;,
  displayName: &#39;Cohere&#39;,
  category: &#39;text_generation&#39;,
  description: &#39;Enterprise AI specialized in RAG and semantic search&#39;,
  website: &#39;https://cohere.com&#39;,
  apiBaseUrl: &#39;https://api.cohere.ai/v1&#39;,
  authType: &#39;bearer&#39;,
  secretName: &#39;radiant/providers/cohere&#39;,
  enabled: true,
  regions: [&#39;us-east-1&#39;, &#39;eu-west-1&#39;],
  models: COHERE_MODELS,
  rateLimit: { requestsPerMinute: 1000 },
  features: [&#39;streaming&#39;, &#39;function_calling&#39;, &#39;rag&#39;, &#39;embeddings&#39;, &#39;rerank&#39;],
  compliance: [&#39;SOC2&#39;, &#39;GDPR&#39;],
  metadata: {
    foundedYear: 2019,
    headquarters: &#39;Toronto, Canada&#39;,
    totalModels: COHERE_MODELS.length,
    lastUpdated: &#39;2024-10-01&#39;,
    enterpriseFocus: true,
  },
};

// ============================================================================
// PERPLEXITY - Search-Augmented Models
// ============================================================================

const PERPLEXITY_MODELS: ExternalModel[] = [
  {
    id: &#39;perplexity-sonar-huge&#39;,
    modelId: &#39;sonar-huge-online&#39;,
    litellmId: &#39;perplexity/sonar-huge-online&#39;,
    name: &#39;sonar-huge&#39;,
    displayName: &#39;Sonar Huge&#39;,
    description: &#39;Most capable search-augmented model with real-time web access&#39;,
    category: &#39;search&#39;,
    capabilities: [&#39;chat&#39;, &#39;search&#39;, &#39;citations&#39;, &#39;streaming&#39;],
    contextWindow: 200000,
    maxOutput: 8192,
    inputModalities: [&#39;text&#39;],
    outputModalities: [&#39;text&#39;],
    pricing: {
      type: &#39;per_token&#39;,
      inputCostPer1k: 0.005,
      outputCostPer1k: 0.005,
      searchCostPerRequest: 0.005,
      markup: MARKUP,
      billedInputPer1k: 0.005 * MARKUP,
      billedOutputPer1k: 0.005 * MARKUP,
    },
    metadata: {
      releaseDate: &#39;2024-09-01&#39;,
      family: &#39;sonar&#39;,
      version: &#39;huge&#39;,
      isLatest: true,
      searchEnabled: true,
    },
  },
  {
    id: &#39;perplexity-sonar-pro&#39;,
    modelId: &#39;sonar-pro-online&#39;,
    litellmId: &#39;perplexity/sonar-pro-online&#39;,
    name: &#39;sonar-pro&#39;,
    displayName: &#39;Sonar Pro&#39;,
    description: &#39;Balanced search model for general research and fact-checking&#39;,
    category: &#39;search&#39;,
    capabilities: [&#39;chat&#39;, &#39;search&#39;, &#39;citations&#39;, &#39;streaming&#39;],
    contextWindow: 200000,
    maxOutput: 8192,
    inputModalities: [&#39;text&#39;],
    outputModalities: [&#39;text&#39;],
    pricing: {
      type: &#39;per_token&#39;,
      inputCostPer1k: 0.003,
      outputCostPer1k: 0.015,
      searchCostPerRequest: 0.005,
      markup: MARKUP,
      billedInputPer1k: 0.003 * MARKUP,
      billedOutputPer1k: 0.015 * MARKUP,
    },
    metadata: {
      releaseDate: &#39;2024-09-01&#39;,
      family: &#39;sonar&#39;,
      version: &#39;pro&#39;,
      searchEnabled: true,
    },
  },
  {
    id: &#39;perplexity-sonar&#39;,
    modelId: &#39;sonar-online&#39;,
    litellmId: &#39;perplexity/sonar-online&#39;,
    name: &#39;sonar&#39;,
    displayName: &#39;Sonar&#39;,
    description: &#39;Fast search-augmented model for quick lookups&#39;,
    category: &#39;search&#39;,
    capabilities: [&#39;chat&#39;, &#39;search&#39;, &#39;citations&#39;, &#39;streaming&#39;],
    contextWindow: 127000,
    maxOutput: 8192,
    inputModalities: [&#39;text&#39;],
    outputModalities: [&#39;text&#39;],
    pricing: {
      type: &#39;per_token&#39;,
      inputCostPer1k: 0.001,
      outputCostPer1k: 0.001,
      searchCostPerRequest: 0.005,
      markup: MARKUP,
      billedInputPer1k: 0.001 * MARKUP,
      billedOutputPer1k: 0.001 * MARKUP,
    },
    metadata: {
      releaseDate: &#39;2024-09-01&#39;,
      family: &#39;sonar&#39;,
      version: &#39;base&#39;,
      searchEnabled: true,
    },
  },
];

export const PERPLEXITY_PROVIDER: ExternalProvider = {
  id: &#39;perplexity&#39;,
  name: &#39;perplexity&#39;,
  displayName: &#39;Perplexity&#39;,
  category: &#39;search&#39;,
  description: &#39;Search-augmented AI with real-time web access and automatic citations&#39;,
  website: &#39;https://perplexity.ai&#39;,
  apiBaseUrl: &#39;https://api.perplexity.ai&#39;,
  authType: &#39;bearer&#39;,
  secretName: &#39;radiant/providers/perplexity&#39;,
  enabled: true,
  regions: [&#39;us-east-1&#39;],
  models: PERPLEXITY_MODELS,
  rateLimit: { requestsPerMinute: 100 },
  features: [&#39;streaming&#39;, &#39;search&#39;, &#39;citations&#39;, &#39;web_access&#39;],
  compliance: [&#39;SOC2&#39;],
  metadata: {
    foundedYear: 2022,
    headquarters: &#39;San Francisco, CA&#39;,
    totalModels: PERPLEXITY_MODELS.length,
    lastUpdated: &#39;2024-09-01&#39;,
    searchProvider: true,
  },
};

// ============================================================================
// EXPORT ALL TEXT PROVIDERS
// ============================================================================

export const TEXT_PROVIDERS: ExternalProvider[] = [
  OPENAI_PROVIDER,
  ANTHROPIC_PROVIDER,
  GOOGLE_PROVIDER,
  XAI_PROVIDER,
  DEEPSEEK_PROVIDER,
  MISTRAL_PROVIDER,
  COHERE_PROVIDER,
  PERPLEXITY_PROVIDER,
];
</code></pre>
<pre class="typescript"><code>/**
 * Image Generation Providers
 * DALL-E, Stability, Flux, Ideogram, Midjourney
 */

import { ExternalProvider, ExternalModel } from &#39;./index&#39;;

const MARKUP = 1.40;

// ============================================================================
// OPENAI (DALL-E)
// ============================================================================

const DALLE_MODELS: ExternalModel[] = [
  {
    id: &#39;openai-dall-e-3&#39;,
    modelId: &#39;dall-e-3&#39;,
    litellmId: &#39;dall-e-3&#39;,
    name: &#39;dall-e-3&#39;,
    displayName: &#39;DALL-E 3&#39;,
    description: &#39;Latest image generation with superior quality&#39;,
    category: &#39;image_generation&#39;,
    capabilities: [&#39;text_to_image&#39;, &#39;hd&#39;, &#39;wide_format&#39;],
    inputModalities: [&#39;text&#39;],
    outputModalities: [&#39;image&#39;],
    pricing: { type: &#39;per_image&#39;, costPerImage: 0.04, markup: MARKUP },
  },
  {
    id: &#39;openai-dall-e-3-hd&#39;,
    modelId: &#39;dall-e-3-hd&#39;,
    litellmId: &#39;dall-e-3&#39;,
    name: &#39;dall-e-3-hd&#39;,
    displayName: &#39;DALL-E 3 HD&#39;,
    description: &#39;High-definition DALL-E 3 images&#39;,
    category: &#39;image_generation&#39;,
    capabilities: [&#39;text_to_image&#39;, &#39;hd&#39;, &#39;wide_format&#39;],
    inputModalities: [&#39;text&#39;],
    outputModalities: [&#39;image&#39;],
    pricing: { type: &#39;per_image&#39;, costPerImage: 0.08, markup: MARKUP },
  },
];

export const DALLE_PROVIDER: ExternalProvider = {
  id: &#39;openai-images&#39;,
  name: &#39;openai-images&#39;,
  displayName: &#39;OpenAI Images&#39;,
  category: &#39;image_generation&#39;,
  description: &#39;OpenAI DALL-E image generation&#39;,
  website: &#39;https://openai.com&#39;,
  apiBaseUrl: &#39;https://api.openai.com/v1&#39;,
  authType: &#39;bearer&#39;,
  secretName: &#39;radiant/providers/openai&#39;,
  enabled: true,
  regions: [&#39;us-east-1&#39;],
  models: DALLE_MODELS,
  features: [&#39;text_to_image&#39;, &#39;image_editing&#39;, &#39;variations&#39;],
};

// ============================================================================
// STABILITY AI
// ============================================================================

const STABILITY_MODELS: ExternalModel[] = [
  {
    id: &#39;stability-sdxl&#39;,
    modelId: &#39;stable-diffusion-xl-1024-v1-0&#39;,
    litellmId: &#39;stability/stable-diffusion-xl-1024-v1-0&#39;,
    name: &#39;sdxl&#39;,
    displayName: &#39;Stable Diffusion XL&#39;,
    description: &#39;High-quality 1024px image generation&#39;,
    category: &#39;image_generation&#39;,
    capabilities: [&#39;text_to_image&#39;, &#39;image_to_image&#39;],
    inputModalities: [&#39;text&#39;, &#39;image&#39;],
    outputModalities: [&#39;image&#39;],
    pricing: { type: &#39;per_image&#39;, costPerImage: 0.002, markup: MARKUP },
  },
  {
    id: &#39;stability-sd3-large&#39;,
    modelId: &#39;sd3-large&#39;,
    litellmId: &#39;stability/sd3-large&#39;,
    name: &#39;sd3-large&#39;,
    displayName: &#39;Stable Diffusion 3 Large&#39;,
    description: &#39;Latest SD3 with improved quality&#39;,
    category: &#39;image_generation&#39;,
    capabilities: [&#39;text_to_image&#39;],
    inputModalities: [&#39;text&#39;],
    outputModalities: [&#39;image&#39;],
    pricing: { type: &#39;per_image&#39;, costPerImage: 0.065, markup: MARKUP },
  },
  {
    id: &#39;stability-ultra&#39;,
    modelId: &#39;stable-image-ultra&#39;,
    litellmId: &#39;stability/stable-image-ultra&#39;,
    name: &#39;stable-image-ultra&#39;,
    displayName: &#39;Stable Image Ultra&#39;,
    description: &#39;Premium image generation with maximum quality&#39;,
    category: &#39;image_generation&#39;,
    capabilities: [&#39;text_to_image&#39;],
    inputModalities: [&#39;text&#39;],
    outputModalities: [&#39;image&#39;],
    pricing: { type: &#39;per_image&#39;, costPerImage: 0.08, markup: MARKUP },
  },
];

export const STABILITY_PROVIDER: ExternalProvider = {
  id: &#39;stability&#39;,
  name: &#39;stability&#39;,
  displayName: &#39;Stability AI&#39;,
  category: &#39;image_generation&#39;,
  description: &#39;Open-source focused image generation&#39;,
  website: &#39;https://stability.ai&#39;,
  apiBaseUrl: &#39;https://api.stability.ai/v1&#39;,
  authType: &#39;bearer&#39;,
  secretName: &#39;radiant/providers/stability&#39;,
  enabled: true,
  regions: [&#39;us-east-1&#39;],
  models: STABILITY_MODELS,
  features: [&#39;text_to_image&#39;, &#39;image_to_image&#39;, &#39;inpainting&#39;, &#39;upscaling&#39;],
};

// ============================================================================
// FLUX (BLACK FOREST LABS)
// ============================================================================

const FLUX_MODELS: ExternalModel[] = [
  {
    id: &#39;flux-pro-11&#39;,
    modelId: &#39;flux-pro-1.1&#39;,
    litellmId: &#39;replicate/black-forest-labs/flux-1.1-pro&#39;,
    name: &#39;flux-pro-1.1&#39;,
    displayName: &#39;FLUX 1.1 Pro&#39;,
    description: &#39;State-of-the-art text-to-image with 6x faster generation&#39;,
    category: &#39;image_generation&#39;,
    capabilities: [&#39;text_to_image&#39;],
    inputModalities: [&#39;text&#39;],
    outputModalities: [&#39;image&#39;],
    pricing: { type: &#39;per_image&#39;, costPerImage: 0.04, markup: MARKUP },
  },
  {
    id: &#39;flux-pro-ultra&#39;,
    modelId: &#39;flux-pro-1.1-ultra&#39;,
    litellmId: &#39;replicate/black-forest-labs/flux-1.1-pro-ultra&#39;,
    name: &#39;flux-pro-1.1-ultra&#39;,
    displayName: &#39;FLUX 1.1 Pro Ultra&#39;,
    description: &#39;Ultra-high resolution 4MP images&#39;,
    category: &#39;image_generation&#39;,
    capabilities: [&#39;text_to_image&#39;, &#39;4mp&#39;],
    inputModalities: [&#39;text&#39;],
    outputModalities: [&#39;image&#39;],
    pricing: { type: &#39;per_image&#39;, costPerImage: 0.06, markup: MARKUP },
  },
  {
    id: &#39;flux-schnell&#39;,
    modelId: &#39;flux-schnell&#39;,
    litellmId: &#39;replicate/black-forest-labs/flux-schnell&#39;,
    name: &#39;flux-schnell&#39;,
    displayName: &#39;FLUX Schnell&#39;,
    description: &#39;Fast, efficient image generation&#39;,
    category: &#39;image_generation&#39;,
    capabilities: [&#39;text_to_image&#39;, &#39;fast&#39;],
    inputModalities: [&#39;text&#39;],
    outputModalities: [&#39;image&#39;],
    pricing: { type: &#39;per_image&#39;, costPerImage: 0.003, markup: MARKUP },
  },
];

export const FLUX_PROVIDER: ExternalProvider = {
  id: &#39;flux&#39;,
  name: &#39;flux&#39;,
  displayName: &#39;FLUX (Black Forest Labs)&#39;,
  category: &#39;image_generation&#39;,
  description: &#39;State-of-the-art open image generation&#39;,
  website: &#39;https://blackforestlabs.ai&#39;,
  apiBaseUrl: &#39;https://api.replicate.com/v1&#39;,
  authType: &#39;bearer&#39;,
  secretName: &#39;radiant/providers/replicate&#39;,
  enabled: true,
  regions: [&#39;us-east-1&#39;],
  models: FLUX_MODELS,
  features: [&#39;text_to_image&#39;, &#39;fast_generation&#39;, &#39;high_resolution&#39;],
};

// ============================================================================
// IDEOGRAM
// ============================================================================

const IDEOGRAM_MODELS: ExternalModel[] = [
  {
    id: &#39;ideogram-v2&#39;,
    modelId: &#39;ideogram-v2&#39;,
    litellmId: &#39;ideogram/ideogram-v2&#39;,
    name: &#39;ideogram-v2&#39;,
    displayName: &#39;Ideogram V2&#39;,
    description: &#39;Advanced text rendering in images&#39;,
    category: &#39;image_generation&#39;,
    capabilities: [&#39;text_to_image&#39;, &#39;text_rendering&#39;],
    inputModalities: [&#39;text&#39;],
    outputModalities: [&#39;image&#39;],
    pricing: { type: &#39;per_image&#39;, costPerImage: 0.08, markup: MARKUP },
  },
  {
    id: &#39;ideogram-v2-turbo&#39;,
    modelId: &#39;ideogram-v2-turbo&#39;,
    litellmId: &#39;ideogram/ideogram-v2-turbo&#39;,
    name: &#39;ideogram-v2-turbo&#39;,
    displayName: &#39;Ideogram V2 Turbo&#39;,
    description: &#39;Fast with good text rendering&#39;,
    category: &#39;image_generation&#39;,
    capabilities: [&#39;text_to_image&#39;, &#39;text_rendering&#39;, &#39;fast&#39;],
    inputModalities: [&#39;text&#39;],
    outputModalities: [&#39;image&#39;],
    pricing: { type: &#39;per_image&#39;, costPerImage: 0.05, markup: MARKUP },
  },
];

export const IDEOGRAM_PROVIDER: ExternalProvider = {
  id: &#39;ideogram&#39;,
  name: &#39;ideogram&#39;,
  displayName: &#39;Ideogram&#39;,
  category: &#39;image_generation&#39;,
  description: &#39;Specialized in accurate text rendering&#39;,
  website: &#39;https://ideogram.ai&#39;,
  apiBaseUrl: &#39;https://api.ideogram.ai/v1&#39;,
  authType: &#39;bearer&#39;,
  secretName: &#39;radiant/providers/ideogram&#39;,
  enabled: true,
  regions: [&#39;us-east-1&#39;],
  models: IDEOGRAM_MODELS,
  features: [&#39;text_to_image&#39;, &#39;text_rendering&#39;, &#39;logos&#39;],
};

// ============================================================================
// MIDJOURNEY
// ============================================================================

const MIDJOURNEY_MODELS: ExternalModel[] = [
  {
    id: &#39;midjourney-v6&#39;,
    modelId: &#39;midjourney-v6&#39;,
    litellmId: &#39;midjourney/v6&#39;,
    name: &#39;midjourney-v6&#39;,
    displayName: &#39;Midjourney V6&#39;,
    description: &#39;Premium artistic image generation&#39;,
    category: &#39;image_generation&#39;,
    capabilities: [&#39;text_to_image&#39;, &#39;artistic&#39;],
    inputModalities: [&#39;text&#39;],
    outputModalities: [&#39;image&#39;],
    pricing: { type: &#39;per_image&#39;, costPerImage: 0.10, markup: MARKUP },
  },
];

export const MIDJOURNEY_PROVIDER: ExternalProvider = {
  id: &#39;midjourney&#39;,
  name: &#39;midjourney&#39;,
  displayName: &#39;Midjourney&#39;,
  category: &#39;image_generation&#39;,
  description: &#39;Premium artistic image generation&#39;,
  website: &#39;https://midjourney.com&#39;,
  apiBaseUrl: &#39;https://api.mymidjourney.ai/v1&#39;,
  authType: &#39;bearer&#39;,
  secretName: &#39;radiant/providers/midjourney&#39;,
  enabled: true,
  regions: [&#39;us-east-1&#39;],
  models: MIDJOURNEY_MODELS,
  features: [&#39;text_to_image&#39;, &#39;artistic&#39;, &#39;premium_quality&#39;],
};

export const IMAGE_PROVIDERS: ExternalProvider[] = [
  DALLE_PROVIDER,
  STABILITY_PROVIDER,
  FLUX_PROVIDER,
  IDEOGRAM_PROVIDER,
  MIDJOURNEY_PROVIDER,
];</code></pre>
<h3 id="packagesinfrastructurelibconfigprovidersvideo.providers.ts">packages/infrastructure/lib/config/providers/video.providers.ts</h3>
<pre class="typescript"><code>/**
 * Video Generation Providers
 * Runway, Luma, Pika, Kling, HailuoAI, Veo
 */

import { ExternalProvider, ExternalModel } from &#39;./index&#39;;

const MARKUP = 1.40;

// ============================================================================
// RUNWAY
// ============================================================================

const RUNWAY_MODELS: ExternalModel[] = [
  {
    id: &#39;runway-gen3-alpha-turbo&#39;,
    modelId: &#39;gen3a_turbo&#39;,
    litellmId: &#39;runway/gen3a_turbo&#39;,
    name: &#39;gen3-alpha-turbo&#39;,
    displayName: &#39;Gen-3 Alpha Turbo&#39;,
    description: &#39;Fast, high-quality video generation&#39;,
    category: &#39;video_generation&#39;,
    capabilities: [&#39;text_to_video&#39;, &#39;image_to_video&#39;],
    inputModalities: [&#39;text&#39;, &#39;image&#39;],
    outputModalities: [&#39;video&#39;],
    pricing: { type: &#39;per_second&#39;, costPerSecond: 0.05, markup: MARKUP },
  },
  {
    id: &#39;runway-gen3-alpha&#39;,
    modelId: &#39;gen3a&#39;,
    litellmId: &#39;runway/gen3a&#39;,
    name: &#39;gen3-alpha&#39;,
    displayName: &#39;Gen-3 Alpha&#39;,
    description: &#39;Maximum quality video generation&#39;,
    category: &#39;video_generation&#39;,
    capabilities: [&#39;text_to_video&#39;, &#39;image_to_video&#39;],
    inputModalities: [&#39;text&#39;, &#39;image&#39;],
    outputModalities: [&#39;video&#39;],
    pricing: { type: &#39;per_second&#39;, costPerSecond: 0.10, markup: MARKUP },
  },
];

export const RUNWAY_PROVIDER: ExternalProvider = {
  id: &#39;runway&#39;,
  name: &#39;runway&#39;,
  displayName: &#39;Runway&#39;,
  category: &#39;video_generation&#39;,
  description: &#39;Professional AI video generation tools&#39;,
  website: &#39;https://runway.ml&#39;,
  apiBaseUrl: &#39;https://api.runway.ml/v1&#39;,
  authType: &#39;bearer&#39;,
  secretName: &#39;radiant/providers/runway&#39;,
  enabled: true,
  regions: [&#39;us-east-1&#39;],
  models: RUNWAY_MODELS,
  features: [&#39;text_to_video&#39;, &#39;image_to_video&#39;, &#39;motion_brush&#39;],
};

// ============================================================================
// LUMA AI
// ============================================================================

const LUMA_MODELS: ExternalModel[] = [
  {
    id: &#39;luma-dream-machine&#39;,
    modelId: &#39;dream-machine&#39;,
    litellmId: &#39;luma/dream-machine&#39;,
    name: &#39;dream-machine&#39;,
    displayName: &#39;Dream Machine&#39;,
    description: &#39;Fast, cinematic video generation&#39;,
    category: &#39;video_generation&#39;,
    capabilities: [&#39;text_to_video&#39;, &#39;image_to_video&#39;],
    inputModalities: [&#39;text&#39;, &#39;image&#39;],
    outputModalities: [&#39;video&#39;],
    pricing: { type: &#39;per_second&#39;, costPerSecond: 0.032, markup: MARKUP },
  },
  {
    id: &#39;luma-ray-2&#39;,
    modelId: &#39;ray-2&#39;,
    litellmId: &#39;luma/ray-2&#39;,
    name: &#39;ray-2&#39;,
    displayName: &#39;Ray 2&#39;,
    description: &#39;Latest model with improved realism&#39;,
    category: &#39;video_generation&#39;,
    capabilities: [&#39;text_to_video&#39;, &#39;image_to_video&#39;, &#39;camera_motion&#39;],
    inputModalities: [&#39;text&#39;, &#39;image&#39;],
    outputModalities: [&#39;video&#39;],
    pricing: { type: &#39;per_second&#39;, costPerSecond: 0.05, markup: MARKUP },
  },
];

export const LUMA_PROVIDER: ExternalProvider = {
  id: &#39;luma&#39;,
  name: &#39;luma&#39;,
  displayName: &#39;Luma AI&#39;,
  category: &#39;video_generation&#39;,
  description: &#39;Cinematic AI video generation&#39;,
  website: &#39;https://lumalabs.ai&#39;,
  apiBaseUrl: &#39;https://api.lumalabs.ai/v1&#39;,
  authType: &#39;bearer&#39;,
  secretName: &#39;radiant/providers/luma&#39;,
  enabled: true,
  regions: [&#39;us-east-1&#39;],
  models: LUMA_MODELS,
  features: [&#39;text_to_video&#39;, &#39;image_to_video&#39;, &#39;camera_control&#39;],
};

// ============================================================================
// PIKA LABS
// ============================================================================

const PIKA_MODELS: ExternalModel[] = [
  {
    id: &#39;pika-v2&#39;,
    modelId: &#39;pika-2.0&#39;,
    litellmId: &#39;pika/pika-2.0&#39;,
    name: &#39;pika-2.0&#39;,
    displayName: &#39;Pika 2.0&#39;,
    description: &#39;Creative video generation with effects&#39;,
    category: &#39;video_generation&#39;,
    capabilities: [&#39;text_to_video&#39;, &#39;image_to_video&#39;, &#39;video_editing&#39;],
    inputModalities: [&#39;text&#39;, &#39;image&#39;],
    outputModalities: [&#39;video&#39;],
    pricing: { type: &#39;per_second&#39;, costPerSecond: 0.02, markup: MARKUP },
  },
];

export const PIKA_PROVIDER: ExternalProvider = {
  id: &#39;pika&#39;,
  name: &#39;pika&#39;,
  displayName: &#39;Pika Labs&#39;,
  category: &#39;video_generation&#39;,
  description: &#39;Creative AI video platform&#39;,
  website: &#39;https://pika.art&#39;,
  apiBaseUrl: &#39;https://api.pika.art/v1&#39;,
  authType: &#39;bearer&#39;,
  secretName: &#39;radiant/providers/pika&#39;,
  enabled: true,
  regions: [&#39;us-east-1&#39;],
  models: PIKA_MODELS,
  features: [&#39;text_to_video&#39;, &#39;lip_sync&#39;, &#39;effects&#39;],
};

// ============================================================================
// KLING AI
// ============================================================================

const KLING_MODELS: ExternalModel[] = [
  {
    id: &#39;kling-v15-pro&#39;,
    modelId: &#39;kling-v1.5-pro&#39;,
    litellmId: &#39;kling/kling-v1.5-pro&#39;,
    name: &#39;kling-v1.5-pro&#39;,
    displayName: &#39;Kling 1.5 Pro&#39;,
    description: &#39;High-quality Chinese video model&#39;,
    category: &#39;video_generation&#39;,
    capabilities: [&#39;text_to_video&#39;, &#39;image_to_video&#39;],
    inputModalities: [&#39;text&#39;, &#39;image&#39;],
    outputModalities: [&#39;video&#39;],
    pricing: { type: &#39;per_second&#39;, costPerSecond: 0.025, markup: MARKUP },
  },
];

export const KLING_PROVIDER: ExternalProvider = {
  id: &#39;kling&#39;,
  name: &#39;kling&#39;,
  displayName: &#39;Kling AI&#39;,
  category: &#39;video_generation&#39;,
  description: &#39;Chinese AI video generation&#39;,
  website: &#39;https://kling.kuaishou.com&#39;,
  apiBaseUrl: &#39;https://api.klingai.com/v1&#39;,
  authType: &#39;bearer&#39;,
  secretName: &#39;radiant/providers/kling&#39;,
  enabled: true,
  regions: [&#39;ap-southeast-1&#39;],
  models: KLING_MODELS,
  features: [&#39;text_to_video&#39;, &#39;image_to_video&#39;],
};

// ============================================================================
// GOOGLE VEO
// ============================================================================

const VEO_MODELS: ExternalModel[] = [
  {
    id: &#39;google-veo-2&#39;,
    modelId: &#39;veo-2.0&#39;,
    litellmId: &#39;gemini/veo-2.0&#39;,
    name: &#39;veo-2.0&#39;,
    displayName: &#39;Veo 2&#39;,
    description: &#39;Google DeepMind video generation&#39;,
    category: &#39;video_generation&#39;,
    capabilities: [&#39;text_to_video&#39;, &#39;image_to_video&#39;],
    inputModalities: [&#39;text&#39;, &#39;image&#39;],
    outputModalities: [&#39;video&#39;],
    pricing: { type: &#39;per_second&#39;, costPerSecond: 0.04, markup: MARKUP },
  },
];

export const VEO_PROVIDER: ExternalProvider = {
  id: &#39;veo&#39;,
  name: &#39;veo&#39;,
  displayName: &#39;Google Veo&#39;,
  category: &#39;video_generation&#39;,
  description: &#39;Google DeepMind video model&#39;,
  website: &#39;https://deepmind.google&#39;,
  apiBaseUrl: &#39;https://generativelanguage.googleapis.com/v1beta&#39;,
  authType: &#39;api_key&#39;,
  secretName: &#39;radiant/providers/google&#39;,
  enabled: true,
  regions: [&#39;us-east-1&#39;],
  models: VEO_MODELS,
  features: [&#39;text_to_video&#39;, &#39;image_to_video&#39;],
};

export const VIDEO_PROVIDERS: ExternalProvider[] = [
  RUNWAY_PROVIDER,
  LUMA_PROVIDER,
  PIKA_PROVIDER,
  KLING_PROVIDER,
  VEO_PROVIDER,
];</code></pre>
<h3 id="packagesinfrastructurelibconfigprovidersaudio.providers.ts">packages/infrastructure/lib/config/providers/audio.providers.ts</h3>
<pre class="typescript"><code>/**
 * Audio/Speech Providers
 * OpenAI TTS/Whisper, ElevenLabs, Deepgram, AssemblyAI
 */

import { ExternalProvider, ExternalModel } from &#39;./index&#39;;

const MARKUP = 1.40;

// ============================================================================
// OPENAI AUDIO
// ============================================================================

const OPENAI_AUDIO_MODELS: ExternalModel[] = [
  {
    id: &#39;openai-tts-1&#39;,
    modelId: &#39;tts-1&#39;,
    litellmId: &#39;tts-1&#39;,
    name: &#39;tts-1&#39;,
    displayName: &#39;TTS-1&#39;,
    description: &#39;Fast text-to-speech&#39;,
    category: &#39;text_to_speech&#39;,
    capabilities: [&#39;text_to_speech&#39;, &#39;multiple_voices&#39;],
    inputModalities: [&#39;text&#39;],
    outputModalities: [&#39;audio&#39;],
    pricing: { type: &#39;per_token&#39;, inputCostPer1k: 0.015, markup: MARKUP, billedInputPer1k: 0.015 * MARKUP },
  },
  {
    id: &#39;openai-tts-1-hd&#39;,
    modelId: &#39;tts-1-hd&#39;,
    litellmId: &#39;tts-1-hd&#39;,
    name: &#39;tts-1-hd&#39;,
    displayName: &#39;TTS-1 HD&#39;,
    description: &#39;High-definition text-to-speech&#39;,
    category: &#39;text_to_speech&#39;,
    capabilities: [&#39;text_to_speech&#39;, &#39;multiple_voices&#39;, &#39;hd&#39;],
    inputModalities: [&#39;text&#39;],
    outputModalities: [&#39;audio&#39;],
    pricing: { type: &#39;per_token&#39;, inputCostPer1k: 0.030, markup: MARKUP, billedInputPer1k: 0.030 * MARKUP },
  },
  {
    id: &#39;openai-whisper-1&#39;,
    modelId: &#39;whisper-1&#39;,
    litellmId: &#39;whisper-1&#39;,
    name: &#39;whisper-1&#39;,
    displayName: &#39;Whisper&#39;,
    description: &#39;Speech recognition and transcription&#39;,
    category: &#39;speech_to_text&#39;,
    capabilities: [&#39;transcription&#39;, &#39;translation&#39;, &#39;timestamps&#39;],
    inputModalities: [&#39;audio&#39;],
    outputModalities: [&#39;text&#39;],
    pricing: { type: &#39;per_minute&#39;, costPerMinute: 0.006, markup: MARKUP },
  },
];

export const OPENAI_AUDIO_PROVIDER: ExternalProvider = {
  id: &#39;openai-audio&#39;,
  name: &#39;openai-audio&#39;,
  displayName: &#39;OpenAI Audio&#39;,
  category: &#39;audio_generation&#39;,
  description: &#39;OpenAI speech and audio models&#39;,
  website: &#39;https://openai.com&#39;,
  apiBaseUrl: &#39;https://api.openai.com/v1&#39;,
  authType: &#39;bearer&#39;,
  secretName: &#39;radiant/providers/openai&#39;,
  enabled: true,
  regions: [&#39;us-east-1&#39;],
  models: OPENAI_AUDIO_MODELS,
  features: [&#39;tts&#39;, &#39;stt&#39;, &#39;audio_understanding&#39;],
};

// ============================================================================
// ELEVENLABS
// ============================================================================

const ELEVENLABS_MODELS: ExternalModel[] = [
  {
    id: &#39;elevenlabs-multilingual-v2&#39;,
    modelId: &#39;eleven_multilingual_v2&#39;,
    litellmId: &#39;elevenlabs/eleven_multilingual_v2&#39;,
    name: &#39;multilingual-v2&#39;,
    displayName: &#39;Multilingual V2&#39;,
    description: &#39;Multi-language voice synthesis&#39;,
    category: &#39;text_to_speech&#39;,
    capabilities: [&#39;text_to_speech&#39;, &#39;multilingual&#39;, &#39;voice_cloning&#39;],
    inputModalities: [&#39;text&#39;],
    outputModalities: [&#39;audio&#39;],
    pricing: { type: &#39;per_token&#39;, inputCostPer1k: 0.18, markup: MARKUP, billedInputPer1k: 0.18 * MARKUP },
  },
  {
    id: &#39;elevenlabs-turbo-v2-5&#39;,
    modelId: &#39;eleven_turbo_v2_5&#39;,
    litellmId: &#39;elevenlabs/eleven_turbo_v2_5&#39;,
    name: &#39;turbo-v2.5&#39;,
    displayName: &#39;Turbo V2.5&#39;,
    description: &#39;Fast, low-latency voice synthesis&#39;,
    category: &#39;text_to_speech&#39;,
    capabilities: [&#39;text_to_speech&#39;, &#39;low_latency&#39;, &#39;streaming&#39;],
    inputModalities: [&#39;text&#39;],
    outputModalities: [&#39;audio&#39;],
    pricing: { type: &#39;per_token&#39;, inputCostPer1k: 0.09, markup: MARKUP, billedInputPer1k: 0.09 * MARKUP },
  },
];

export const ELEVENLABS_PROVIDER: ExternalProvider = {
  id: &#39;elevenlabs&#39;,
  name: &#39;elevenlabs&#39;,
  displayName: &#39;ElevenLabs&#39;,
  category: &#39;text_to_speech&#39;,
  description: &#39;Premium voice synthesis and cloning&#39;,
  website: &#39;https://elevenlabs.io&#39;,
  apiBaseUrl: &#39;https://api.elevenlabs.io/v1&#39;,
  authType: &#39;api_key&#39;,
  secretName: &#39;radiant/providers/elevenlabs&#39;,
  enabled: true,
  regions: [&#39;us-east-1&#39;],
  models: ELEVENLABS_MODELS,
  features: [&#39;voice_cloning&#39;, &#39;multilingual&#39;, &#39;streaming&#39;, &#39;sound_effects&#39;],
};

// ============================================================================
// DEEPGRAM
// ============================================================================

const DEEPGRAM_MODELS: ExternalModel[] = [
  {
    id: &#39;deepgram-nova-2&#39;,
    modelId: &#39;nova-2&#39;,
    litellmId: &#39;deepgram/nova-2&#39;,
    name: &#39;nova-2&#39;,
    displayName: &#39;Nova-2&#39;,
    description: &#39;Industry-leading speech recognition&#39;,
    category: &#39;speech_to_text&#39;,
    capabilities: [&#39;transcription&#39;, &#39;diarization&#39;, &#39;sentiment&#39;, &#39;streaming&#39;],
    inputModalities: [&#39;audio&#39;],
    outputModalities: [&#39;text&#39;],
    pricing: { type: &#39;per_minute&#39;, costPerMinute: 0.0043, markup: MARKUP },
  },
  {
    id: &#39;deepgram-nova-2-medical&#39;,
    modelId: &#39;nova-2-medical&#39;,
    litellmId: &#39;deepgram/nova-2-medical&#39;,
    name: &#39;nova-2-medical&#39;,
    displayName: &#39;Nova-2 Medical&#39;,
    description: &#39;Medical terminology optimized&#39;,
    category: &#39;speech_to_text&#39;,
    capabilities: [&#39;transcription&#39;, &#39;medical&#39;, &#39;hipaa&#39;],
    inputModalities: [&#39;audio&#39;],
    outputModalities: [&#39;text&#39;],
    pricing: { type: &#39;per_minute&#39;, costPerMinute: 0.0079, markup: MARKUP },
  },
];

export const DEEPGRAM_PROVIDER: ExternalProvider = {
  id: &#39;deepgram&#39;,
  name: &#39;deepgram&#39;,
  displayName: &#39;Deepgram&#39;,
  category: &#39;speech_to_text&#39;,
  description: &#39;Enterprise speech recognition&#39;,
  website: &#39;https://deepgram.com&#39;,
  apiBaseUrl: &#39;https://api.deepgram.com/v1&#39;,
  authType: &#39;bearer&#39;,
  secretName: &#39;radiant/providers/deepgram&#39;,
  enabled: true,
  regions: [&#39;us-east-1&#39;],
  models: DEEPGRAM_MODELS,
  features: [&#39;real_time&#39;, &#39;diarization&#39;, &#39;sentiment&#39;, &#39;medical&#39;],
  compliance: [&#39;HIPAA&#39;, &#39;SOC2&#39;],
};

// ============================================================================
// ASSEMBLYAI
// ============================================================================

const ASSEMBLYAI_MODELS: ExternalModel[] = [
  {
    id: &#39;assemblyai-best&#39;,
    modelId: &#39;best&#39;,
    litellmId: &#39;assemblyai/best&#39;,
    name: &#39;best&#39;,
    displayName: &#39;AssemblyAI Best&#39;,
    description: &#39;Highest accuracy transcription&#39;,
    category: &#39;speech_to_text&#39;,
    capabilities: [&#39;transcription&#39;, &#39;diarization&#39;, &#39;summarization&#39;, &#39;chapters&#39;],
    inputModalities: [&#39;audio&#39;],
    outputModalities: [&#39;text&#39;],
    pricing: { type: &#39;per_minute&#39;, costPerMinute: 0.0062, markup: MARKUP },
  },
];

export const ASSEMBLYAI_PROVIDER: ExternalProvider = {
  id: &#39;assemblyai&#39;,
  name: &#39;assemblyai&#39;,
  displayName: &#39;AssemblyAI&#39;,
  category: &#39;speech_to_text&#39;,
  description: &#39;AI-powered transcription and audio intelligence&#39;,
  website: &#39;https://assemblyai.com&#39;,
  apiBaseUrl: &#39;https://api.assemblyai.com/v2&#39;,
  authType: &#39;bearer&#39;,
  secretName: &#39;radiant/providers/assemblyai&#39;,
  enabled: true,
  regions: [&#39;us-east-1&#39;],
  models: ASSEMBLYAI_MODELS,
  features: [&#39;lemur&#39;, &#39;summarization&#39;, &#39;chapters&#39;, &#39;entity_detection&#39;],
  compliance: [&#39;SOC2&#39;, &#39;GDPR&#39;],
};

export const AUDIO_PROVIDERS: ExternalProvider[] = [
  OPENAI_AUDIO_PROVIDER,
  ELEVENLABS_PROVIDER,
  DEEPGRAM_PROVIDER,
  ASSEMBLYAI_PROVIDER,
];</code></pre>
<h3 id="packagesinfrastructurelibconfigprovidersembedding.providers.ts">packages/infrastructure/lib/config/providers/embedding.providers.ts</h3>
<pre class="typescript"><code>/**
 * Embedding Providers
 * OpenAI, Cohere, Voyage, Google
 */

import { ExternalProvider, ExternalModel } from &#39;./index&#39;;

const MARKUP = 1.40;

const OPENAI_EMBEDDING_MODELS: ExternalModel[] = [
  {
    id: &#39;openai-text-embedding-3-small&#39;,
    modelId: &#39;text-embedding-3-small&#39;,
    litellmId: &#39;text-embedding-3-small&#39;,
    name: &#39;text-embedding-3-small&#39;,
    displayName: &#39;Text Embedding 3 Small&#39;,
    description: &#39;Efficient embedding with 1536 dimensions&#39;,
    category: &#39;embedding&#39;,
    capabilities: [&#39;text_embedding&#39;, &#39;variable_dimensions&#39;],
    contextWindow: 8191,
    inputModalities: [&#39;text&#39;],
    outputModalities: [&#39;text&#39;],
    pricing: { type: &#39;per_token&#39;, inputCostPer1k: 0.00002, markup: MARKUP, billedInputPer1k: 0.00002 * MARKUP },
  },
  {
    id: &#39;openai-text-embedding-3-large&#39;,
    modelId: &#39;text-embedding-3-large&#39;,
    litellmId: &#39;text-embedding-3-large&#39;,
    name: &#39;text-embedding-3-large&#39;,
    displayName: &#39;Text Embedding 3 Large&#39;,
    description: &#39;High-performance with 3072 dimensions&#39;,
    category: &#39;embedding&#39;,
    capabilities: [&#39;text_embedding&#39;, &#39;variable_dimensions&#39;],
    contextWindow: 8191,
    inputModalities: [&#39;text&#39;],
    outputModalities: [&#39;text&#39;],
    pricing: { type: &#39;per_token&#39;, inputCostPer1k: 0.00013, markup: MARKUP, billedInputPer1k: 0.00013 * MARKUP },
  },
];

export const OPENAI_EMBEDDING_PROVIDER: ExternalProvider = {
  id: &#39;openai-embeddings&#39;,
  name: &#39;openai-embeddings&#39;,
  displayName: &#39;OpenAI Embeddings&#39;,
  category: &#39;embedding&#39;,
  description: &#39;OpenAI text embedding models&#39;,
  website: &#39;https://openai.com&#39;,
  apiBaseUrl: &#39;https://api.openai.com/v1&#39;,
  authType: &#39;bearer&#39;,
  secretName: &#39;radiant/providers/openai&#39;,
  enabled: true,
  regions: [&#39;us-east-1&#39;],
  models: OPENAI_EMBEDDING_MODELS,
  features: [&#39;variable_dimensions&#39;, &#39;batch&#39;],
};

const VOYAGE_MODELS: ExternalModel[] = [
  {
    id: &#39;voyage-3&#39;,
    modelId: &#39;voyage-3&#39;,
    litellmId: &#39;voyage/voyage-3&#39;,
    name: &#39;voyage-3&#39;,
    displayName: &#39;Voyage 3&#39;,
    description: &#39;State-of-the-art general-purpose embeddings&#39;,
    category: &#39;embedding&#39;,
    capabilities: [&#39;text_embedding&#39;],
    contextWindow: 32000,
    inputModalities: [&#39;text&#39;],
    outputModalities: [&#39;text&#39;],
    pricing: { type: &#39;per_token&#39;, inputCostPer1k: 0.00006, markup: MARKUP, billedInputPer1k: 0.00006 * MARKUP },
  },
  {
    id: &#39;voyage-code-3&#39;,
    modelId: &#39;voyage-code-3&#39;,
    litellmId: &#39;voyage/voyage-code-3&#39;,
    name: &#39;voyage-code-3&#39;,
    displayName: &#39;Voyage Code 3&#39;,
    description: &#39;Code-optimized embeddings&#39;,
    category: &#39;embedding&#39;,
    capabilities: [&#39;text_embedding&#39;, &#39;code&#39;],
    contextWindow: 32000,
    inputModalities: [&#39;text&#39;],
    outputModalities: [&#39;text&#39;],
    pricing: { type: &#39;per_token&#39;, inputCostPer1k: 0.00006, markup: MARKUP, billedInputPer1k: 0.00006 * MARKUP },
  },
];

export const VOYAGE_PROVIDER: ExternalProvider = {
  id: &#39;voyage&#39;,
  name: &#39;voyage&#39;,
  displayName: &#39;Voyage AI&#39;,
  category: &#39;embedding&#39;,
  description: &#39;Premium embedding models&#39;,
  website: &#39;https://voyageai.com&#39;,
  apiBaseUrl: &#39;https://api.voyageai.com/v1&#39;,
  authType: &#39;bearer&#39;,
  secretName: &#39;radiant/providers/voyage&#39;,
  enabled: true,
  regions: [&#39;us-east-1&#39;],
  models: VOYAGE_MODELS,
  features: [&#39;long_context&#39;, &#39;code&#39;, &#39;multimodal&#39;],
};

export const EMBEDDING_PROVIDERS: ExternalProvider[] = [
  OPENAI_EMBEDDING_PROVIDER,
  VOYAGE_PROVIDER,
];</code></pre>
<h3 id="packagesinfrastructurelibconfigproviderssearch.providers.ts">packages/infrastructure/lib/config/providers/search.providers.ts</h3>
<pre class="typescript"><code>/**
 * Search Providers
 * Perplexity, Exa, Tavily
 */

import { ExternalProvider, ExternalModel } from &#39;./index&#39;;

const MARKUP = 1.40;

const PERPLEXITY_MODELS: ExternalModel[] = [
  {
    id: &#39;perplexity-sonar-pro&#39;,
    modelId: &#39;sonar-pro&#39;,
    litellmId: &#39;perplexity/sonar-pro&#39;,
    name: &#39;sonar-pro&#39;,
    displayName: &#39;Sonar Pro&#39;,
    description: &#39;Premium search-augmented model&#39;,
    category: &#39;search&#39;,
    capabilities: [&#39;search&#39;, &#39;citations&#39;, &#39;reasoning&#39;],
    contextWindow: 200000,
    inputModalities: [&#39;text&#39;],
    outputModalities: [&#39;text&#39;],
    pricing: { type: &#39;per_token&#39;, inputCostPer1k: 0.003, outputCostPer1k: 0.015, baseCostPerRequest: 0.005, markup: MARKUP, billedInputPer1k: 0.003 * MARKUP, billedOutputPer1k: 0.015 * MARKUP },
  },
  {
    id: &#39;perplexity-sonar&#39;,
    modelId: &#39;sonar&#39;,
    litellmId: &#39;perplexity/sonar&#39;,
    name: &#39;sonar&#39;,
    displayName: &#39;Sonar&#39;,
    description: &#39;Fast search-augmented model&#39;,
    category: &#39;search&#39;,
    capabilities: [&#39;search&#39;, &#39;citations&#39;],
    contextWindow: 128000,
    inputModalities: [&#39;text&#39;],
    outputModalities: [&#39;text&#39;],
    pricing: { type: &#39;per_token&#39;, inputCostPer1k: 0.001, outputCostPer1k: 0.001, baseCostPerRequest: 0.005, markup: MARKUP, billedInputPer1k: 0.001 * MARKUP, billedOutputPer1k: 0.001 * MARKUP },
  },
];

export const PERPLEXITY_PROVIDER: ExternalProvider = {
  id: &#39;perplexity&#39;,
  name: &#39;perplexity&#39;,
  displayName: &#39;Perplexity&#39;,
  category: &#39;search&#39;,
  description: &#39;AI search engine with real-time web access&#39;,
  website: &#39;https://perplexity.ai&#39;,
  apiBaseUrl: &#39;https://api.perplexity.ai&#39;,
  authType: &#39;bearer&#39;,
  secretName: &#39;radiant/providers/perplexity&#39;,
  enabled: true,
  regions: [&#39;us-east-1&#39;],
  models: PERPLEXITY_MODELS,
  features: [&#39;web_search&#39;, &#39;citations&#39;, &#39;deep_research&#39;],
};

const EXA_MODELS: ExternalModel[] = [
  {
    id: &#39;exa-search&#39;,
    modelId: &#39;exa-search&#39;,
    litellmId: &#39;exa/search&#39;,
    name: &#39;exa-search&#39;,
    displayName: &#39;Exa Search&#39;,
    description: &#39;Neural search engine for precise results&#39;,
    category: &#39;search&#39;,
    capabilities: [&#39;neural_search&#39;, &#39;content_extraction&#39;],
    inputModalities: [&#39;text&#39;],
    outputModalities: [&#39;text&#39;],
    pricing: { type: &#39;per_request&#39;, baseCostPerRequest: 0.001, markup: MARKUP },
  },
];

export const EXA_PROVIDER: ExternalProvider = {
  id: &#39;exa&#39;,
  name: &#39;exa&#39;,
  displayName: &#39;Exa&#39;,
  category: &#39;search&#39;,
  description: &#39;Neural search API&#39;,
  website: &#39;https://exa.ai&#39;,
  apiBaseUrl: &#39;https://api.exa.ai/v1&#39;,
  authType: &#39;bearer&#39;,
  secretName: &#39;radiant/providers/exa&#39;,
  enabled: true,
  regions: [&#39;us-east-1&#39;],
  models: EXA_MODELS,
  features: [&#39;neural_search&#39;, &#39;similarity&#39;, &#39;keyword&#39;],
};

const TAVILY_MODELS: ExternalModel[] = [
  {
    id: &#39;tavily-search&#39;,
    modelId: &#39;tavily-search&#39;,
    litellmId: &#39;tavily/search&#39;,
    name: &#39;tavily-search&#39;,
    displayName: &#39;Tavily Search&#39;,
    description: &#39;AI-optimized search API&#39;,
    category: &#39;search&#39;,
    capabilities: [&#39;search&#39;, &#39;answer_generation&#39;],
    inputModalities: [&#39;text&#39;],
    outputModalities: [&#39;text&#39;],
    pricing: { type: &#39;per_request&#39;, baseCostPerRequest: 0.001, markup: MARKUP },
  },
];

export const TAVILY_PROVIDER: ExternalProvider = {
  id: &#39;tavily&#39;,
  name: &#39;tavily&#39;,
  displayName: &#39;Tavily&#39;,
  category: &#39;search&#39;,
  description: &#39;Search API for AI agents&#39;,
  website: &#39;https://tavily.com&#39;,
  apiBaseUrl: &#39;https://api.tavily.com/v1&#39;,
  authType: &#39;bearer&#39;,
  secretName: &#39;radiant/providers/tavily&#39;,
  enabled: true,
  regions: [&#39;us-east-1&#39;],
  models: TAVILY_MODELS,
  features: [&#39;search&#39;, &#39;extract&#39;, &#39;answer&#39;],
};

export const SEARCH_PROVIDERS: ExternalProvider[] = [
  PERPLEXITY_PROVIDER,
  EXA_PROVIDER,
  TAVILY_PROVIDER,
];</code></pre>
<h3 id="packagesinfrastructurelibconfigproviders3d.providers.ts">packages/infrastructure/lib/config/providers/3d.providers.ts</h3>
<pre class="typescript"><code>/**
 * 3D Generation Providers
 * Meshy, Rodin, Tripo
 */

import { ExternalProvider, ExternalModel } from &#39;./index&#39;;

const MARKUP = 1.40;

const MESHY_MODELS: ExternalModel[] = [
  {
    id: &#39;meshy-v3&#39;,
    modelId: &#39;meshy-v3&#39;,
    litellmId: &#39;meshy/meshy-v3&#39;,
    name: &#39;meshy-v3&#39;,
    displayName: &#39;Meshy V3&#39;,
    description: &#39;Text-to-3D and image-to-3D generation&#39;,
    category: &#39;3d_generation&#39;,
    capabilities: [&#39;text_to_3d&#39;, &#39;image_to_3d&#39;],
    inputModalities: [&#39;text&#39;, &#39;image&#39;],
    outputModalities: [&#39;3d&#39;],
    pricing: { type: &#39;per_request&#39;, baseCostPerRequest: 0.20, markup: MARKUP },
  },
  {
    id: &#39;meshy-v3-turbo&#39;,
    modelId: &#39;meshy-v3-turbo&#39;,
    litellmId: &#39;meshy/meshy-v3-turbo&#39;,
    name: &#39;meshy-v3-turbo&#39;,
    displayName: &#39;Meshy V3 Turbo&#39;,
    description: &#39;Fast 3D generation (preview quality)&#39;,
    category: &#39;3d_generation&#39;,
    capabilities: [&#39;text_to_3d&#39;, &#39;fast&#39;],
    inputModalities: [&#39;text&#39;],
    outputModalities: [&#39;3d&#39;],
    pricing: { type: &#39;per_request&#39;, baseCostPerRequest: 0.05, markup: MARKUP },
  },
];

export const MESHY_PROVIDER: ExternalProvider = {
  id: &#39;meshy&#39;,
  name: &#39;meshy&#39;,
  displayName: &#39;Meshy&#39;,
  category: &#39;3d_generation&#39;,
  description: &#39;AI 3D model generation&#39;,
  website: &#39;https://meshy.ai&#39;,
  apiBaseUrl: &#39;https://api.meshy.ai/v2&#39;,
  authType: &#39;bearer&#39;,
  secretName: &#39;radiant/providers/meshy&#39;,
  enabled: true,
  regions: [&#39;us-east-1&#39;],
  models: MESHY_MODELS,
  features: [&#39;text_to_3d&#39;, &#39;image_to_3d&#39;, &#39;texturing&#39;],
};

const TRIPO_MODELS: ExternalModel[] = [
  {
    id: &#39;tripo-v2&#39;,
    modelId: &#39;tripo-v2&#39;,
    litellmId: &#39;tripo/tripo-v2&#39;,
    name: &#39;tripo-v2&#39;,
    displayName: &#39;Tripo V2&#39;,
    description: &#39;Fast text and image to 3D&#39;,
    category: &#39;3d_generation&#39;,
    capabilities: [&#39;text_to_3d&#39;, &#39;image_to_3d&#39;],
    inputModalities: [&#39;text&#39;, &#39;image&#39;],
    outputModalities: [&#39;3d&#39;],
    pricing: { type: &#39;per_request&#39;, baseCostPerRequest: 0.10, markup: MARKUP },
  },
];

export const TRIPO_PROVIDER: ExternalProvider = {
  id: &#39;tripo&#39;,
  name: &#39;tripo&#39;,
  displayName: &#39;Tripo AI&#39;,
  category: &#39;3d_generation&#39;,
  description: &#39;AI 3D generation platform&#39;,
  website: &#39;https://tripo3d.ai&#39;,
  apiBaseUrl: &#39;https://api.tripo3d.ai/v2&#39;,
  authType: &#39;bearer&#39;,
  secretName: &#39;radiant/providers/tripo&#39;,
  enabled: true,
  regions: [&#39;us-east-1&#39;],
  models: TRIPO_MODELS,
  features: [&#39;text_to_3d&#39;, &#39;image_to_3d&#39;, &#39;animation&#39;],
};

export const THREE_D_PROVIDERS: ExternalProvider[] = [
  MESHY_PROVIDER,
  TRIPO_PROVIDER,
];</code></pre>
<hr />
<h2 id="part-2-litellm-configuration">PART 2: LITELLM CONFIGURATION</h2>
<h3 id="packagesinfrastructurelitellmconfigexternal.yaml">packages/infrastructure/litellm/config/external.yaml</h3>
<pre class="yaml"><code># LiteLLM Configuration - External Providers
# RADIANT v2.2.0 - December 2024

model_list:
  # ============================================================================
  # OPENAI MODELS
  # ============================================================================
  - model_name: gpt-4o
    litellm_params:
      model: gpt-4o
      api_key: os.environ/OPENAI_API_KEY
    model_info:
      mode: chat
      input_cost_per_token: 0.0000025
      output_cost_per_token: 0.00001
      max_tokens: 16384
      max_input_tokens: 128000
      supports_function_calling: true
      supports_vision: true

  - model_name: gpt-4o-mini
    litellm_params:
      model: gpt-4o-mini
      api_key: os.environ/OPENAI_API_KEY
    model_info:
      mode: chat
      input_cost_per_token: 0.00000015
      output_cost_per_token: 0.0000006
      max_tokens: 16384
      max_input_tokens: 128000

  - model_name: o1
    litellm_params:
      model: o1
      api_key: os.environ/OPENAI_API_KEY
    model_info:
      mode: chat
      input_cost_per_token: 0.000015
      output_cost_per_token: 0.00006
      max_tokens: 100000
      max_input_tokens: 200000

  - model_name: o3-mini
    litellm_params:
      model: o3-mini
      api_key: os.environ/OPENAI_API_KEY
    model_info:
      mode: chat
      input_cost_per_token: 0.0000011
      output_cost_per_token: 0.0000044

  # ============================================================================
  # ANTHROPIC MODELS
  # ============================================================================
  - model_name: claude-opus-4
    litellm_params:
      model: anthropic/claude-opus-4-20250514
      api_key: os.environ/ANTHROPIC_API_KEY
    model_info:
      mode: chat
      input_cost_per_token: 0.000015
      output_cost_per_token: 0.000075
      max_tokens: 32000
      max_input_tokens: 200000

  - model_name: claude-sonnet-4
    litellm_params:
      model: anthropic/claude-sonnet-4-20250514
      api_key: os.environ/ANTHROPIC_API_KEY
    model_info:
      mode: chat
      input_cost_per_token: 0.000003
      output_cost_per_token: 0.000015
      max_tokens: 64000
      max_input_tokens: 200000

  - model_name: claude-3.5-haiku
    litellm_params:
      model: anthropic/claude-3-5-haiku-20241022
      api_key: os.environ/ANTHROPIC_API_KEY
    model_info:
      mode: chat
      input_cost_per_token: 0.0000008
      output_cost_per_token: 0.000004

  # ============================================================================
  # GOOGLE MODELS
  # ============================================================================
  - model_name: gemini-2.0-flash
    litellm_params:
      model: gemini/gemini-2.0-flash
      api_key: os.environ/GOOGLE_API_KEY
    model_info:
      mode: chat
      input_cost_per_token: 0.0000001
      output_cost_per_token: 0.0000004
      max_input_tokens: 1000000

  - model_name: gemini-1.5-pro
    litellm_params:
      model: gemini/gemini-1.5-pro
      api_key: os.environ/GOOGLE_API_KEY
    model_info:
      mode: chat
      input_cost_per_token: 0.00000125
      output_cost_per_token: 0.000005
      max_input_tokens: 2000000

  # ============================================================================
  # XAI (GROK) MODELS
  # ============================================================================
  - model_name: grok-3
    litellm_params:
      model: xai/grok-3
      api_key: os.environ/XAI_API_KEY
      api_base: https://api.x.ai/v1
    model_info:
      mode: chat
      input_cost_per_token: 0.000003
      output_cost_per_token: 0.000015

  # ============================================================================
  # DEEPSEEK MODELS
  # ============================================================================
  - model_name: deepseek-chat
    litellm_params:
      model: deepseek/deepseek-chat
      api_key: os.environ/DEEPSEEK_API_KEY
      api_base: https://api.deepseek.com/v1
    model_info:
      mode: chat
      input_cost_per_token: 0.00000027
      output_cost_per_token: 0.0000011

  - model_name: deepseek-reasoner
    litellm_params:
      model: deepseek/deepseek-reasoner
      api_key: os.environ/DEEPSEEK_API_KEY
      api_base: https://api.deepseek.com/v1
    model_info:
      mode: chat
      input_cost_per_token: 0.00000055
      output_cost_per_token: 0.00000219

  # ============================================================================
  # MISTRAL MODELS
  # ============================================================================
  - model_name: mistral-large
    litellm_params:
      model: mistral/mistral-large-latest
      api_key: os.environ/MISTRAL_API_KEY
    model_info:
      mode: chat
      input_cost_per_token: 0.000002
      output_cost_per_token: 0.000006

  - model_name: mistral-small
    litellm_params:
      model: mistral/mistral-small-latest
      api_key: os.environ/MISTRAL_API_KEY
    model_info:
      mode: chat
      input_cost_per_token: 0.0000002
      output_cost_per_token: 0.0000006

  # ============================================================================
  # EMBEDDING MODELS
  # ============================================================================
  - model_name: text-embedding-3-small
    litellm_params:
      model: text-embedding-3-small
      api_key: os.environ/OPENAI_API_KEY
    model_info:
      mode: embedding
      input_cost_per_token: 0.00000002

  - model_name: text-embedding-3-large
    litellm_params:
      model: text-embedding-3-large
      api_key: os.environ/OPENAI_API_KEY
    model_info:
      mode: embedding
      input_cost_per_token: 0.00000013

  - model_name: voyage-3
    litellm_params:
      model: voyage/voyage-3
      api_key: os.environ/VOYAGE_API_KEY
    model_info:
      mode: embedding
      input_cost_per_token: 0.00000006

  # ============================================================================
  # PERPLEXITY SEARCH MODELS
  # ============================================================================
  - model_name: sonar-pro
    litellm_params:
      model: perplexity/sonar-pro
      api_key: os.environ/PERPLEXITY_API_KEY
    model_info:
      mode: chat
      input_cost_per_token: 0.000003
      output_cost_per_token: 0.000015

  - model_name: sonar
    litellm_params:
      model: perplexity/sonar
      api_key: os.environ/PERPLEXITY_API_KEY
    model_info:
      mode: chat
      input_cost_per_token: 0.000001
      output_cost_per_token: 0.000001

# ============================================================================
# LITELLM SETTINGS
# ============================================================================
litellm_settings:
  success_callback: [&quot;langfuse&quot;]
  failure_callback: [&quot;langfuse&quot;]
  request_timeout: 300
  num_retries: 3
  retry_after: 5
  cache: true
  cache_params:
    type: redis
    host: os.environ/REDIS_HOST
    port: 6379
    ttl: 3600
  enable_rate_limiting: true
  set_verbose: false
  json_logs: true

# ============================================================================
# ROUTER SETTINGS
# ============================================================================
router_settings:
  routing_strategy: &quot;least-busy&quot;
  enable_pre_call_checks: true
  allowed_fails: 3
  cooldown_time: 60
  fallbacks:
    - model_name: gpt-4o
      fallback_models: [&quot;claude-sonnet-4&quot;, &quot;gemini-2.0-flash&quot;]
    - model_name: claude-opus-4
      fallback_models: [&quot;gpt-4o&quot;, &quot;gemini-1.5-pro&quot;]

general_settings:
  master_key: os.environ/LITELLM_MASTER_KEY
  database_url: os.environ/LITELLM_DATABASE_URL
  alerting: [&quot;slack&quot;]
  alerting_threshold: 300</code></pre>
<hr />
<h2 id="part-3-postgresql-schema">PART 3: POSTGRESQL SCHEMA</h2>
<h3 id="packagesinfrastructuremigrations001_initial_schema.sql">packages/infrastructure/migrations/001_initial_schema.sql</h3>
<pre class="sql"><code>-- Migration: 001_initial_schema
-- RADIANT v2.2.0 - Base tables

CREATE EXTENSION IF NOT EXISTS &quot;uuid-ossp&quot;;
CREATE EXTENSION IF NOT EXISTS &quot;pgcrypto&quot;;
CREATE EXTENSION IF NOT EXISTS &quot;pg_trgm&quot;;

-- ============================================================================
-- TENANTS
-- ============================================================================

CREATE TABLE tenants (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    app_id VARCHAR(50) NOT NULL,
    name VARCHAR(255) NOT NULL,
    slug VARCHAR(100) NOT NULL UNIQUE,
    domain VARCHAR(255),
    tier INTEGER NOT NULL DEFAULT 1 CHECK (tier BETWEEN 1 AND 5),
    status VARCHAR(20) NOT NULL DEFAULT &#39;active&#39; CHECK (status IN (&#39;active&#39;, &#39;suspended&#39;, &#39;cancelled&#39;)),
    stripe_customer_id VARCHAR(100),
    billing_email VARCHAR(255),
    settings JSONB DEFAULT &#39;{}&#39;,
    created_at TIMESTAMPTZ NOT NULL DEFAULT NOW(),
    updated_at TIMESTAMPTZ NOT NULL DEFAULT NOW(),
    deleted_at TIMESTAMPTZ
);

CREATE INDEX idx_tenants_app_id ON tenants(app_id);
CREATE INDEX idx_tenants_slug ON tenants(slug);
CREATE INDEX idx_tenants_status ON tenants(status);

-- ============================================================================
-- USERS
-- ============================================================================

CREATE TABLE users (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    tenant_id UUID NOT NULL REFERENCES tenants(id) ON DELETE CASCADE,
    cognito_sub VARCHAR(100) UNIQUE,
    email VARCHAR(255) NOT NULL,
    email_verified BOOLEAN DEFAULT false,
    first_name VARCHAR(100),
    last_name VARCHAR(100),
    display_name VARCHAR(200),
    avatar_url TEXT,
    preferences JSONB DEFAULT &#39;{}&#39;,
    timezone VARCHAR(50) DEFAULT &#39;UTC&#39;,
    locale VARCHAR(10) DEFAULT &#39;en-US&#39;,
    status VARCHAR(20) NOT NULL DEFAULT &#39;active&#39; CHECK (status IN (&#39;active&#39;, &#39;inactive&#39;, &#39;suspended&#39;)),
    last_login_at TIMESTAMPTZ,
    created_at TIMESTAMPTZ NOT NULL DEFAULT NOW(),
    updated_at TIMESTAMPTZ NOT NULL DEFAULT NOW(),
    deleted_at TIMESTAMPTZ,
    UNIQUE(tenant_id, email)
);

CREATE INDEX idx_users_tenant ON users(tenant_id);
CREATE INDEX idx_users_email ON users(email);
CREATE INDEX idx_users_cognito ON users(cognito_sub);

-- ============================================================================
-- API KEYS
-- ============================================================================

CREATE TABLE api_keys (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    tenant_id UUID NOT NULL REFERENCES tenants(id) ON DELETE CASCADE,
    user_id UUID REFERENCES users(id) ON DELETE SET NULL,
    name VARCHAR(100) NOT NULL,
    key_prefix VARCHAR(10) NOT NULL,
    key_hash VARCHAR(255) NOT NULL,
    scopes TEXT[] DEFAULT ARRAY[&#39;chat&#39;, &#39;models&#39;, &#39;embeddings&#39;],
    rate_limit_rpm INTEGER DEFAULT 60,
    rate_limit_tpm INTEGER DEFAULT 100000,
    last_used_at TIMESTAMPTZ,
    usage_count BIGINT DEFAULT 0,
    status VARCHAR(20) NOT NULL DEFAULT &#39;active&#39; CHECK (status IN (&#39;active&#39;, &#39;revoked&#39;, &#39;expired&#39;)),
    expires_at TIMESTAMPTZ,
    created_at TIMESTAMPTZ NOT NULL DEFAULT NOW(),
    updated_at TIMESTAMPTZ NOT NULL DEFAULT NOW()
);

CREATE INDEX idx_api_keys_tenant ON api_keys(tenant_id);
CREATE INDEX idx_api_keys_prefix ON api_keys(key_prefix);
CREATE UNIQUE INDEX idx_api_keys_hash ON api_keys(key_hash);

-- ============================================================================
-- SCHEMA MIGRATIONS TRACKING
-- ============================================================================

CREATE TABLE schema_migrations (
    version VARCHAR(20) PRIMARY KEY,
    name VARCHAR(255) NOT NULL,
    applied_at TIMESTAMPTZ NOT NULL DEFAULT NOW(),
    applied_by VARCHAR(100),
    checksum VARCHAR(64)
);

INSERT INTO schema_migrations (version, name, applied_by)
VALUES (&#39;001&#39;, &#39;initial_schema&#39;, &#39;system&#39;);</code></pre>
<h3 id="packagesinfrastructuremigrations002_tenant_isolation.sql">packages/infrastructure/migrations/002_tenant_isolation.sql</h3>
<pre class="sql"><code>-- Migration: 002_tenant_isolation
-- Row-Level Security policies

ALTER TABLE tenants ENABLE ROW LEVEL SECURITY;
ALTER TABLE users ENABLE ROW LEVEL SECURITY;
ALTER TABLE api_keys ENABLE ROW LEVEL SECURITY;

CREATE OR REPLACE FUNCTION current_tenant_id() RETURNS UUID AS $$
BEGIN
    RETURN NULLIF(current_setting(&#39;app.current_tenant_id&#39;, true), &#39;&#39;)::UUID;
EXCEPTION WHEN OTHERS THEN RETURN NULL;
END;
$$ LANGUAGE plpgsql SECURITY DEFINER;

CREATE POLICY tenant_isolation_select ON tenants FOR SELECT USING (id = current_tenant_id());
CREATE POLICY tenant_isolation_update ON tenants FOR UPDATE USING (id = current_tenant_id());

CREATE POLICY users_tenant_isolation ON users FOR ALL USING (tenant_id = current_tenant_id() OR current_tenant_id() IS NULL);
CREATE POLICY api_keys_tenant_isolation ON api_keys FOR ALL USING (tenant_id = current_tenant_id());

-- System role for admin operations
DO $$ BEGIN IF NOT EXISTS (SELECT FROM pg_roles WHERE rolname = &#39;radiant_system&#39;) THEN CREATE ROLE radiant_system; END IF; END $$;
GRANT ALL PRIVILEGES ON ALL TABLES IN SCHEMA public TO radiant_system;

INSERT INTO schema_migrations (version, name, applied_by) VALUES (&#39;002&#39;, &#39;tenant_isolation&#39;, &#39;system&#39;);</code></pre>
<h3 id="packagesinfrastructuremigrations003_ai_models.sql">packages/infrastructure/migrations/003_ai_models.sql</h3>
<pre class="sql"><code>-- Migration: 003_ai_models
-- Providers and models registry

CREATE TABLE providers (
    id VARCHAR(50) PRIMARY KEY,
    name VARCHAR(100) NOT NULL,
    display_name VARCHAR(100) NOT NULL,
    category VARCHAR(50) NOT NULL,
    description TEXT,
    website VARCHAR(255),
    api_base_url VARCHAR(255),
    auth_type VARCHAR(20) NOT NULL DEFAULT &#39;bearer&#39;,
    secret_name VARCHAR(100),
    enabled BOOLEAN DEFAULT true,
    features TEXT[],
    regions TEXT[],
    compliance TEXT[],
    rate_limit_rpm INTEGER,
    rate_limit_tpm INTEGER,
    metadata JSONB DEFAULT &#39;{}&#39;,
    created_at TIMESTAMPTZ NOT NULL DEFAULT NOW(),
    updated_at TIMESTAMPTZ NOT NULL DEFAULT NOW()
);

CREATE INDEX idx_providers_category ON providers(category);
CREATE INDEX idx_providers_enabled ON providers(enabled);

CREATE TABLE models (
    id VARCHAR(100) PRIMARY KEY,
    provider_id VARCHAR(50) NOT NULL REFERENCES providers(id) ON DELETE CASCADE,
    model_id VARCHAR(100) NOT NULL,
    litellm_id VARCHAR(100) NOT NULL UNIQUE,
    name VARCHAR(100) NOT NULL,
    display_name VARCHAR(100) NOT NULL,
    description TEXT,
    category VARCHAR(50) NOT NULL,
    capabilities TEXT[],
    context_window INTEGER,
    max_output INTEGER,
    input_modalities TEXT[],
    output_modalities TEXT[],
    input_cost_per_1k NUMERIC(10, 8),
    output_cost_per_1k NUMERIC(10, 8),
    cost_per_request NUMERIC(10, 6),
    cost_per_second NUMERIC(10, 6),
    cost_per_image NUMERIC(10, 6),
    cost_per_minute NUMERIC(10, 6),
    pricing_type VARCHAR(20) NOT NULL DEFAULT &#39;per_token&#39;,
    markup_rate NUMERIC(4, 2) NOT NULL DEFAULT 1.40,
    enabled BOOLEAN DEFAULT true,
    deprecated BOOLEAN DEFAULT false,
    is_self_hosted BOOLEAN DEFAULT false,
    self_hosted_config JSONB,
    metadata JSONB DEFAULT &#39;{}&#39;,
    created_at TIMESTAMPTZ NOT NULL DEFAULT NOW(),
    updated_at TIMESTAMPTZ NOT NULL DEFAULT NOW()
);

CREATE INDEX idx_models_provider ON models(provider_id);
CREATE INDEX idx_models_category ON models(category);
CREATE INDEX idx_models_enabled ON models(enabled);
CREATE INDEX idx_models_litellm ON models(litellm_id);

CREATE TABLE tenant_model_access (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    tenant_id UUID NOT NULL REFERENCES tenants(id) ON DELETE CASCADE,
    model_id VARCHAR(100) NOT NULL REFERENCES models(id) ON DELETE CASCADE,
    enabled BOOLEAN DEFAULT true,
    custom_input_cost_per_1k NUMERIC(10, 8),
    custom_output_cost_per_1k NUMERIC(10, 8),
    custom_markup_rate NUMERIC(4, 2),
    rate_limit_rpm INTEGER,
    rate_limit_tpm INTEGER,
    created_at TIMESTAMPTZ NOT NULL DEFAULT NOW(),
    updated_at TIMESTAMPTZ NOT NULL DEFAULT NOW(),
    UNIQUE(tenant_id, model_id)
);

ALTER TABLE tenant_model_access ENABLE ROW LEVEL SECURITY;
CREATE POLICY tenant_model_access_isolation ON tenant_model_access FOR ALL USING (tenant_id = current_tenant_id());

INSERT INTO schema_migrations (version, name, applied_by) VALUES (&#39;003&#39;, &#39;ai_models&#39;, &#39;system&#39;);</code></pre>
<h3 id="packagesinfrastructuremigrations004_usage_billing.sql">packages/infrastructure/migrations/004_usage_billing.sql</h3>
<pre class="sql"><code>-- Migration: 004_usage_billing
-- Usage tracking and billing

CREATE TABLE usage_events (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    tenant_id UUID NOT NULL REFERENCES tenants(id) ON DELETE CASCADE,
    user_id UUID REFERENCES users(id) ON DELETE SET NULL,
    api_key_id UUID REFERENCES api_keys(id) ON DELETE SET NULL,
    request_id VARCHAR(100) NOT NULL,
    model_id VARCHAR(100) NOT NULL REFERENCES models(id),
    provider_id VARCHAR(50) NOT NULL REFERENCES providers(id),
    input_tokens INTEGER NOT NULL DEFAULT 0,
    output_tokens INTEGER NOT NULL DEFAULT 0,
    total_tokens INTEGER GENERATED ALWAYS AS (input_tokens + output_tokens) STORED,
    image_count INTEGER DEFAULT 0,
    video_seconds NUMERIC(10, 2) DEFAULT 0,
    audio_minutes NUMERIC(10, 2) DEFAULT 0,
    request_count INTEGER DEFAULT 1,
    base_cost NUMERIC(12, 8) NOT NULL DEFAULT 0,
    billed_cost NUMERIC(12, 8) NOT NULL DEFAULT 0,
    endpoint VARCHAR(50),
    latency_ms INTEGER,
    status VARCHAR(20) NOT NULL DEFAULT &#39;success&#39;,
    error_code VARCHAR(50),
    ip_address INET,
    metadata JSONB DEFAULT &#39;{}&#39;,
    created_at TIMESTAMPTZ NOT NULL DEFAULT NOW()
);

CREATE INDEX idx_usage_events_tenant ON usage_events(tenant_id);
CREATE INDEX idx_usage_events_model ON usage_events(model_id);
CREATE INDEX idx_usage_events_created ON usage_events(created_at DESC);
CREATE INDEX idx_usage_events_request ON usage_events(request_id);

ALTER TABLE usage_events ENABLE ROW LEVEL SECURITY;
CREATE POLICY usage_events_tenant_isolation ON usage_events FOR ALL USING (tenant_id = current_tenant_id());

CREATE TABLE usage_rollups (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    tenant_id UUID NOT NULL REFERENCES tenants(id) ON DELETE CASCADE,
    rollup_date DATE NOT NULL,
    model_id VARCHAR(100) REFERENCES models(id),
    provider_id VARCHAR(50) REFERENCES providers(id),
    user_id UUID REFERENCES users(id) ON DELETE SET NULL,
    request_count BIGINT NOT NULL DEFAULT 0,
    success_count BIGINT NOT NULL DEFAULT 0,
    error_count BIGINT NOT NULL DEFAULT 0,
    input_tokens BIGINT NOT NULL DEFAULT 0,
    output_tokens BIGINT NOT NULL DEFAULT 0,
    total_tokens BIGINT NOT NULL DEFAULT 0,
    image_count INTEGER DEFAULT 0,
    video_seconds NUMERIC(12, 2) DEFAULT 0,
    audio_minutes NUMERIC(12, 2) DEFAULT 0,
    base_cost NUMERIC(14, 6) NOT NULL DEFAULT 0,
    billed_cost NUMERIC(14, 6) NOT NULL DEFAULT 0,
    avg_latency_ms NUMERIC(10, 2),
    created_at TIMESTAMPTZ NOT NULL DEFAULT NOW(),
    updated_at TIMESTAMPTZ NOT NULL DEFAULT NOW(),
    UNIQUE(tenant_id, rollup_date, model_id, provider_id, user_id)
);

CREATE INDEX idx_usage_rollups_tenant ON usage_rollups(tenant_id);
CREATE INDEX idx_usage_rollups_date ON usage_rollups(rollup_date DESC);

ALTER TABLE usage_rollups ENABLE ROW LEVEL SECURITY;
CREATE POLICY usage_rollups_tenant_isolation ON usage_rollups FOR ALL USING (tenant_id = current_tenant_id());

CREATE TABLE invoices (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    tenant_id UUID NOT NULL REFERENCES tenants(id) ON DELETE CASCADE,
    invoice_number VARCHAR(50) NOT NULL UNIQUE,
    billing_period_start DATE NOT NULL,
    billing_period_end DATE NOT NULL,
    subtotal NUMERIC(14, 2) NOT NULL DEFAULT 0,
    discount_amount NUMERIC(14, 2) NOT NULL DEFAULT 0,
    tax_amount NUMERIC(14, 2) NOT NULL DEFAULT 0,
    total_amount NUMERIC(14, 2) NOT NULL DEFAULT 0,
    status VARCHAR(20) NOT NULL DEFAULT &#39;draft&#39; CHECK (status IN (&#39;draft&#39;, &#39;pending&#39;, &#39;paid&#39;, &#39;failed&#39;, &#39;void&#39;, &#39;refunded&#39;)),
    stripe_invoice_id VARCHAR(100),
    paid_at TIMESTAMPTZ,
    line_items JSONB NOT NULL DEFAULT &#39;[]&#39;,
    notes TEXT,
    metadata JSONB DEFAULT &#39;{}&#39;,
    created_at TIMESTAMPTZ NOT NULL DEFAULT NOW(),
    updated_at TIMESTAMPTZ NOT NULL DEFAULT NOW()
);

CREATE INDEX idx_invoices_tenant ON invoices(tenant_id);
CREATE INDEX idx_invoices_status ON invoices(status);

ALTER TABLE invoices ENABLE ROW LEVEL SECURITY;
CREATE POLICY invoices_tenant_isolation ON invoices FOR ALL USING (tenant_id = current_tenant_id());

INSERT INTO schema_migrations (version, name, applied_by) VALUES (&#39;004&#39;, &#39;usage_billing&#39;, &#39;system&#39;);</code></pre>
<h3 id="packagesinfrastructuremigrations005_admin_approval.sql">packages/infrastructure/migrations/005_admin_approval.sql</h3>
<pre class="sql"><code>-- Migration: 005_admin_approval
-- Administrator management and approval workflows

CREATE TABLE administrators (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    tenant_id UUID NOT NULL REFERENCES tenants(id) ON DELETE CASCADE,
    cognito_sub VARCHAR(100) UNIQUE,
    email VARCHAR(255) NOT NULL,
    first_name VARCHAR(100) NOT NULL,
    last_name VARCHAR(100) NOT NULL,
    display_name VARCHAR(200),
    phone VARCHAR(20),
    role VARCHAR(20) NOT NULL CHECK (role IN (&#39;super_admin&#39;, &#39;admin&#39;, &#39;operator&#39;, &#39;auditor&#39;)),
    custom_permissions TEXT[],
    mfa_enabled BOOLEAN DEFAULT false,
    mfa_method VARCHAR(20) CHECK (mfa_method IN (&#39;authenticator&#39;, &#39;sms&#39;, &#39;email&#39;)),
    mfa_verified_at TIMESTAMPTZ,
    preferences JSONB DEFAULT &#39;{}&#39;,
    notification_settings JSONB DEFAULT &#39;{&quot;email&quot;: true, &quot;slack&quot;: false, &quot;approval_required&quot;: true, &quot;usage_alerts&quot;: true}&#39;,
    status VARCHAR(20) NOT NULL DEFAULT &#39;active&#39; CHECK (status IN (&#39;pending&#39;, &#39;active&#39;, &#39;inactive&#39;, &#39;suspended&#39;)),
    last_login_at TIMESTAMPTZ,
    created_at TIMESTAMPTZ NOT NULL DEFAULT NOW(),
    updated_at TIMESTAMPTZ NOT NULL DEFAULT NOW(),
    deleted_at TIMESTAMPTZ,
    UNIQUE(tenant_id, email)
);

CREATE INDEX idx_admins_tenant ON administrators(tenant_id);
CREATE INDEX idx_admins_email ON administrators(email);
CREATE INDEX idx_admins_role ON administrators(role);

ALTER TABLE administrators ENABLE ROW LEVEL SECURITY;
CREATE POLICY admins_tenant_isolation ON administrators FOR ALL USING (tenant_id = current_tenant_id());

CREATE TABLE invitations (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    tenant_id UUID NOT NULL REFERENCES tenants(id) ON DELETE CASCADE,
    email VARCHAR(255) NOT NULL,
    role VARCHAR(20) NOT NULL CHECK (role IN (&#39;super_admin&#39;, &#39;admin&#39;, &#39;operator&#39;, &#39;auditor&#39;)),
    message TEXT,
    token_hash VARCHAR(255) NOT NULL,
    invited_by UUID NOT NULL REFERENCES administrators(id),
    invited_by_name VARCHAR(200) NOT NULL,
    status VARCHAR(20) NOT NULL DEFAULT &#39;pending&#39; CHECK (status IN (&#39;pending&#39;, &#39;accepted&#39;, &#39;expired&#39;, &#39;revoked&#39;)),
    expires_at TIMESTAMPTZ NOT NULL,
    accepted_at TIMESTAMPTZ,
    accepted_by_ip INET,
    created_at TIMESTAMPTZ NOT NULL DEFAULT NOW()
);

CREATE INDEX idx_invitations_tenant ON invitations(tenant_id);
CREATE INDEX idx_invitations_email ON invitations(email);
CREATE INDEX idx_invitations_status ON invitations(status);
CREATE INDEX idx_invitations_token ON invitations(token_hash);

ALTER TABLE invitations ENABLE ROW LEVEL SECURITY;
CREATE POLICY invitations_tenant_isolation ON invitations FOR ALL USING (tenant_id = current_tenant_id());

CREATE TABLE approval_requests (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    tenant_id UUID NOT NULL REFERENCES tenants(id) ON DELETE CASCADE,
    app_id VARCHAR(50) NOT NULL,
    environment VARCHAR(20) NOT NULL CHECK (environment IN (&#39;dev&#39;, &#39;staging&#39;, &#39;prod&#39;)),
    type VARCHAR(50) NOT NULL CHECK (type IN (&#39;deployment&#39;, &#39;promotion&#39;, &#39;model_activation&#39;, &#39;provider_change&#39;, &#39;user_role_change&#39;, &#39;billing_change&#39;, &#39;security_change&#39;, &#39;data_migration&#39;)),
    title VARCHAR(255) NOT NULL,
    description TEXT,
    payload JSONB NOT NULL DEFAULT &#39;{}&#39;,
    risk_level VARCHAR(20) NOT NULL DEFAULT &#39;medium&#39; CHECK (risk_level IN (&#39;low&#39;, &#39;medium&#39;, &#39;high&#39;, &#39;critical&#39;)),
    impact_analysis TEXT,
    rollback_plan TEXT,
    initiated_by UUID NOT NULL REFERENCES administrators(id),
    initiated_at TIMESTAMPTZ NOT NULL DEFAULT NOW(),
    status VARCHAR(20) NOT NULL DEFAULT &#39;pending&#39; CHECK (status IN (&#39;pending&#39;, &#39;approved&#39;, &#39;rejected&#39;, &#39;expired&#39;, &#39;cancelled&#39;, &#39;executed&#39;)),
    approved_by UUID REFERENCES administrators(id),
    approved_at TIMESTAMPTZ,
    approval_notes TEXT,
    executed_at TIMESTAMPTZ,
    execution_result JSONB,
    expires_at TIMESTAMPTZ NOT NULL DEFAULT (NOW() + INTERVAL &#39;24 hours&#39;),
    created_at TIMESTAMPTZ NOT NULL DEFAULT NOW(),
    updated_at TIMESTAMPTZ NOT NULL DEFAULT NOW(),
    CONSTRAINT different_approver CHECK (approved_by IS NULL OR approved_by != initiated_by)
);

CREATE INDEX idx_approval_tenant ON approval_requests(tenant_id);
CREATE INDEX idx_approval_status ON approval_requests(status);
CREATE INDEX idx_approval_environment ON approval_requests(environment);

ALTER TABLE approval_requests ENABLE ROW LEVEL SECURITY;
CREATE POLICY approval_tenant_isolation ON approval_requests FOR ALL USING (tenant_id = current_tenant_id());

CREATE TABLE audit_logs (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    tenant_id UUID NOT NULL REFERENCES tenants(id) ON DELETE CASCADE,
    user_id UUID REFERENCES users(id) ON DELETE SET NULL,
    admin_id UUID REFERENCES administrators(id) ON DELETE SET NULL,
    action VARCHAR(100) NOT NULL,
    resource_type VARCHAR(100) NOT NULL,
    resource_id VARCHAR(255),
    ip_address INET,
    user_agent TEXT,
    request_id VARCHAR(100),
    old_values JSONB,
    new_values JSONB,
    metadata JSONB DEFAULT &#39;{}&#39;,
    created_at TIMESTAMPTZ NOT NULL DEFAULT NOW()
);

CREATE INDEX idx_audit_tenant ON audit_logs(tenant_id);
CREATE INDEX idx_audit_action ON audit_logs(action);
CREATE INDEX idx_audit_resource ON audit_logs(resource_type, resource_id);
CREATE INDEX idx_audit_created ON audit_logs(created_at DESC);

ALTER TABLE audit_logs ENABLE ROW LEVEL SECURITY;
CREATE POLICY audit_logs_tenant_select ON audit_logs FOR SELECT USING (tenant_id = current_tenant_id());

INSERT INTO schema_migrations (version, name, applied_by) VALUES (&#39;005&#39;, &#39;admin_approval&#39;, &#39;system&#39;);</code></pre>
<h3 id="packagesinfrastructuremigrations007_external_providers.sql">packages/infrastructure/migrations/007_external_providers.sql</h3>
<pre class="sql"><code>-- Migration: 007_external_providers
-- External provider configuration

CREATE TABLE provider_health (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    provider_id VARCHAR(50) NOT NULL REFERENCES providers(id) ON DELETE CASCADE,
    region VARCHAR(20) NOT NULL,
    status VARCHAR(20) NOT NULL DEFAULT &#39;healthy&#39; CHECK (status IN (&#39;healthy&#39;, &#39;degraded&#39;, &#39;unhealthy&#39;, &#39;unknown&#39;)),
    latency_ms INTEGER,
    error_rate NUMERIC(5, 2),
    success_rate NUMERIC(5, 2),
    last_check_at TIMESTAMPTZ NOT NULL DEFAULT NOW(),
    last_success_at TIMESTAMPTZ,
    last_failure_at TIMESTAMPTZ,
    last_error TEXT,
    created_at TIMESTAMPTZ NOT NULL DEFAULT NOW(),
    updated_at TIMESTAMPTZ NOT NULL DEFAULT NOW(),
    UNIQUE(provider_id, region)
);

CREATE INDEX idx_provider_health_provider ON provider_health(provider_id);
CREATE INDEX idx_provider_health_status ON provider_health(status);

CREATE TABLE routing_rules (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    tenant_id UUID REFERENCES tenants(id) ON DELETE CASCADE,
    name VARCHAR(100) NOT NULL,
    description TEXT,
    priority INTEGER NOT NULL DEFAULT 100,
    enabled BOOLEAN DEFAULT true,
    conditions JSONB NOT NULL DEFAULT &#39;{}&#39;,
    action VARCHAR(50) NOT NULL CHECK (action IN (&#39;route&#39;, &#39;fallback&#39;, &#39;block&#39;, &#39;rate_limit&#39;)),
    target_provider VARCHAR(50),
    target_model VARCHAR(100),
    fallback_models TEXT[],
    created_at TIMESTAMPTZ NOT NULL DEFAULT NOW(),
    updated_at TIMESTAMPTZ NOT NULL DEFAULT NOW()
);

CREATE INDEX idx_routing_rules_tenant ON routing_rules(tenant_id);
CREATE INDEX idx_routing_rules_priority ON routing_rules(priority);
CREATE INDEX idx_routing_rules_enabled ON routing_rules(enabled);

-- Populate initial providers
INSERT INTO providers (id, name, display_name, category, description, website, api_base_url, auth_type, secret_name, enabled, features, compliance) VALUES
(&#39;openai&#39;, &#39;openai&#39;, &#39;OpenAI&#39;, &#39;text_generation&#39;, &#39;GPT and O-series models&#39;, &#39;https://openai.com&#39;, &#39;https://api.openai.com/v1&#39;, &#39;bearer&#39;, &#39;radiant/providers/openai&#39;, true, ARRAY[&#39;streaming&#39;, &#39;function_calling&#39;, &#39;vision&#39;], ARRAY[&#39;SOC2&#39;, &#39;GDPR&#39;]),
(&#39;anthropic&#39;, &#39;anthropic&#39;, &#39;Anthropic&#39;, &#39;text_generation&#39;, &#39;Claude models&#39;, &#39;https://anthropic.com&#39;, &#39;https://api.anthropic.com/v1&#39;, &#39;api_key&#39;, &#39;radiant/providers/anthropic&#39;, true, ARRAY[&#39;streaming&#39;, &#39;tool_use&#39;, &#39;vision&#39;], ARRAY[&#39;SOC2&#39;, &#39;GDPR&#39;, &#39;HIPAA&#39;]),
(&#39;google&#39;, &#39;google&#39;, &#39;Google AI&#39;, &#39;text_generation&#39;, &#39;Gemini models&#39;, &#39;https://ai.google.dev&#39;, &#39;https://generativelanguage.googleapis.com/v1beta&#39;, &#39;api_key&#39;, &#39;radiant/providers/google&#39;, true, ARRAY[&#39;streaming&#39;, &#39;function_calling&#39;, &#39;vision&#39;, &#39;audio&#39;], ARRAY[&#39;SOC2&#39;, &#39;GDPR&#39;]),
(&#39;xai&#39;, &#39;xai&#39;, &#39;xAI&#39;, &#39;text_generation&#39;, &#39;Grok models&#39;, &#39;https://x.ai&#39;, &#39;https://api.x.ai/v1&#39;, &#39;bearer&#39;, &#39;radiant/providers/xai&#39;, true, ARRAY[&#39;streaming&#39;, &#39;function_calling&#39;], NULL),
(&#39;deepseek&#39;, &#39;deepseek&#39;, &#39;DeepSeek&#39;, &#39;text_generation&#39;, &#39;Affordable models&#39;, &#39;https://deepseek.com&#39;, &#39;https://api.deepseek.com/v1&#39;, &#39;bearer&#39;, &#39;radiant/providers/deepseek&#39;, true, ARRAY[&#39;streaming&#39;, &#39;reasoning&#39;], NULL),
(&#39;mistral&#39;, &#39;mistral&#39;, &#39;Mistral AI&#39;, &#39;text_generation&#39;, &#39;European models&#39;, &#39;https://mistral.ai&#39;, &#39;https://api.mistral.ai/v1&#39;, &#39;bearer&#39;, &#39;radiant/providers/mistral&#39;, true, ARRAY[&#39;streaming&#39;, &#39;function_calling&#39;, &#39;code&#39;], ARRAY[&#39;GDPR&#39;]),
(&#39;cohere&#39;, &#39;cohere&#39;, &#39;Cohere&#39;, &#39;text_generation&#39;, &#39;Enterprise AI&#39;, &#39;https://cohere.com&#39;, &#39;https://api.cohere.ai/v1&#39;, &#39;bearer&#39;, &#39;radiant/providers/cohere&#39;, true, ARRAY[&#39;streaming&#39;, &#39;tool_use&#39;, &#39;rag&#39;], ARRAY[&#39;SOC2&#39;, &#39;GDPR&#39;]),
(&#39;stability&#39;, &#39;stability&#39;, &#39;Stability AI&#39;, &#39;image_generation&#39;, &#39;Open-source images&#39;, &#39;https://stability.ai&#39;, &#39;https://api.stability.ai/v1&#39;, &#39;bearer&#39;, &#39;radiant/providers/stability&#39;, true, ARRAY[&#39;text_to_image&#39;, &#39;inpainting&#39;], NULL),
(&#39;runway&#39;, &#39;runway&#39;, &#39;Runway&#39;, &#39;video_generation&#39;, &#39;AI video tools&#39;, &#39;https://runway.ml&#39;, &#39;https://api.runway.ml/v1&#39;, &#39;bearer&#39;, &#39;radiant/providers/runway&#39;, true, ARRAY[&#39;text_to_video&#39;, &#39;image_to_video&#39;], NULL),
(&#39;luma&#39;, &#39;luma&#39;, &#39;Luma AI&#39;, &#39;video_generation&#39;, &#39;Cinematic video&#39;, &#39;https://lumalabs.ai&#39;, &#39;https://api.lumalabs.ai/v1&#39;, &#39;bearer&#39;, &#39;radiant/providers/luma&#39;, true, ARRAY[&#39;text_to_video&#39;, &#39;image_to_video&#39;], NULL),
(&#39;elevenlabs&#39;, &#39;elevenlabs&#39;, &#39;ElevenLabs&#39;, &#39;text_to_speech&#39;, &#39;Voice synthesis&#39;, &#39;https://elevenlabs.io&#39;, &#39;https://api.elevenlabs.io/v1&#39;, &#39;api_key&#39;, &#39;radiant/providers/elevenlabs&#39;, true, ARRAY[&#39;voice_cloning&#39;, &#39;multilingual&#39;], NULL),
(&#39;deepgram&#39;, &#39;deepgram&#39;, &#39;Deepgram&#39;, &#39;speech_to_text&#39;, &#39;Speech recognition&#39;, &#39;https://deepgram.com&#39;, &#39;https://api.deepgram.com/v1&#39;, &#39;bearer&#39;, &#39;radiant/providers/deepgram&#39;, true, ARRAY[&#39;real_time&#39;, &#39;diarization&#39;], ARRAY[&#39;HIPAA&#39;, &#39;SOC2&#39;]),
(&#39;perplexity&#39;, &#39;perplexity&#39;, &#39;Perplexity&#39;, &#39;search&#39;, &#39;AI search engine&#39;, &#39;https://perplexity.ai&#39;, &#39;https://api.perplexity.ai&#39;, &#39;bearer&#39;, &#39;radiant/providers/perplexity&#39;, true, ARRAY[&#39;web_search&#39;, &#39;citations&#39;], NULL),
(&#39;voyage&#39;, &#39;voyage&#39;, &#39;Voyage AI&#39;, &#39;embedding&#39;, &#39;Premium embeddings&#39;, &#39;https://voyageai.com&#39;, &#39;https://api.voyageai.com/v1&#39;, &#39;bearer&#39;, &#39;radiant/providers/voyage&#39;, true, ARRAY[&#39;long_context&#39;, &#39;code&#39;], NULL),
(&#39;meshy&#39;, &#39;meshy&#39;, &#39;Meshy&#39;, &#39;3d_generation&#39;, &#39;AI 3D models&#39;, &#39;https://meshy.ai&#39;, &#39;https://api.meshy.ai/v2&#39;, &#39;bearer&#39;, &#39;radiant/providers/meshy&#39;, true, ARRAY[&#39;text_to_3d&#39;, &#39;image_to_3d&#39;], NULL);

INSERT INTO schema_migrations (version, name, applied_by) VALUES (&#39;007&#39;, &#39;external_providers&#39;, &#39;system&#39;);</code></pre>
<hr />
<h2 id="part-4-dynamodb-tables">PART 4: DYNAMODB TABLES</h2>
<h3 id="packagesinfrastructuredynamodbtables.ts">packages/infrastructure/dynamodb/tables.ts</h3>
<pre class="typescript"><code>/**
 * DynamoDB Table Definitions
 * For session, cache, and real-time data
 * 
 * RADIANT v2.2.0 - December 2024
 */

import * as cdk from &#39;aws-cdk-lib&#39;;
import * as dynamodb from &#39;aws-cdk-lib/aws-dynamodb&#39;;
import { Construct } from &#39;constructs&#39;;

// ============================================================================
// TABLE CONFIGURATIONS
// ============================================================================

export interface TableConfig {
  tableName: string;
  partitionKey: { name: string; type: dynamodb.AttributeType };
  sortKey?: { name: string; type: dynamodb.AttributeType };
  gsis?: GlobalSecondaryIndexConfig[];
  ttlAttribute?: string;
  stream?: dynamodb.StreamViewType;
  billingMode: dynamodb.BillingMode;
  pointInTimeRecovery: boolean;
}

export interface GlobalSecondaryIndexConfig {
  indexName: string;
  partitionKey: { name: string; type: dynamodb.AttributeType };
  sortKey?: { name: string; type: dynamodb.AttributeType };
  projectionType: dynamodb.ProjectionType;
}

// ============================================================================
// SESSIONS TABLE
// ============================================================================

export const SESSIONS_TABLE: TableConfig = {
  tableName: &#39;radiant-sessions&#39;,
  partitionKey: { name: &#39;pk&#39;, type: dynamodb.AttributeType.STRING },
  sortKey: { name: &#39;sk&#39;, type: dynamodb.AttributeType.STRING },
  gsis: [
    {
      indexName: &#39;gsi-session-token&#39;,
      partitionKey: { name: &#39;sessionToken&#39;, type: dynamodb.AttributeType.STRING },
      projectionType: dynamodb.ProjectionType.ALL,
    },
    {
      indexName: &#39;gsi-tenant-created&#39;,
      partitionKey: { name: &#39;tenantId&#39;, type: dynamodb.AttributeType.STRING },
      sortKey: { name: &#39;createdAt&#39;, type: dynamodb.AttributeType.STRING },
      projectionType: dynamodb.ProjectionType.KEYS_ONLY,
    },
  ],
  ttlAttribute: &#39;expiresAt&#39;,
  stream: dynamodb.StreamViewType.NEW_AND_OLD_IMAGES,
  billingMode: dynamodb.BillingMode.PAY_PER_REQUEST,
  pointInTimeRecovery: true,
};

// Session item structure:
// {
//   pk: &#39;tenant#&lt;tenant-id&gt;#user#&lt;user-id&gt;&#39;,
//   sk: &#39;session#&lt;session-id&gt;&#39;,
//   sessionToken: &#39;&lt;jwt-token-hash&gt;&#39;,
//   tenantId: &#39;&lt;tenant-id&gt;&#39;,
//   userId: &#39;&lt;user-id&gt;&#39;,
//   createdAt: &#39;&lt;iso-timestamp&gt;&#39;,
//   expiresAt: &lt;unix-timestamp&gt;,
//   lastActivityAt: &#39;&lt;iso-timestamp&gt;&#39;,
//   ipAddress: &#39;&lt;ip&gt;&#39;,
//   userAgent: &#39;&lt;user-agent&gt;&#39;,
//   metadata: { ... }
// }

// ============================================================================
// CHAT HISTORY TABLE
// ============================================================================

export const CHAT_HISTORY_TABLE: TableConfig = {
  tableName: &#39;radiant-chat-history&#39;,
  partitionKey: { name: &#39;pk&#39;, type: dynamodb.AttributeType.STRING },
  sortKey: { name: &#39;sk&#39;, type: dynamodb.AttributeType.STRING },
  gsis: [
    {
      indexName: &#39;gsi-conversation&#39;,
      partitionKey: { name: &#39;conversationId&#39;, type: dynamodb.AttributeType.STRING },
      sortKey: { name: &#39;createdAt&#39;, type: dynamodb.AttributeType.STRING },
      projectionType: dynamodb.ProjectionType.ALL,
    },
    {
      indexName: &#39;gsi-tenant-recent&#39;,
      partitionKey: { name: &#39;tenantId&#39;, type: dynamodb.AttributeType.STRING },
      sortKey: { name: &#39;createdAt&#39;, type: dynamodb.AttributeType.STRING },
      projectionType: dynamodb.ProjectionType.KEYS_ONLY,
    },
  ],
  ttlAttribute: &#39;expiresAt&#39;,
  stream: dynamodb.StreamViewType.NEW_IMAGE,
  billingMode: dynamodb.BillingMode.PAY_PER_REQUEST,
  pointInTimeRecovery: true,
};

// ============================================================================
// MODEL THERMAL STATE TABLE
// ============================================================================

export const MODEL_STATE_TABLE: TableConfig = {
  tableName: &#39;radiant-model-state&#39;,
  partitionKey: { name: &#39;pk&#39;, type: dynamodb.AttributeType.STRING },
  sortKey: { name: &#39;sk&#39;, type: dynamodb.AttributeType.STRING },
  gsis: [
    {
      indexName: &#39;gsi-thermal-state&#39;,
      partitionKey: { name: &#39;thermalState&#39;, type: dynamodb.AttributeType.STRING },
      sortKey: { name: &#39;lastRequestAt&#39;, type: dynamodb.AttributeType.STRING },
      projectionType: dynamodb.ProjectionType.ALL,
    },
  ],
  billingMode: dynamodb.BillingMode.PAY_PER_REQUEST,
  pointInTimeRecovery: true,
};

// ============================================================================
// CACHE TABLE
// ============================================================================

export const CACHE_TABLE: TableConfig = {
  tableName: &#39;radiant-cache&#39;,
  partitionKey: { name: &#39;pk&#39;, type: dynamodb.AttributeType.STRING },
  sortKey: { name: &#39;sk&#39;, type: dynamodb.AttributeType.STRING },
  ttlAttribute: &#39;expiresAt&#39;,
  billingMode: dynamodb.BillingMode.PAY_PER_REQUEST,
  pointInTimeRecovery: false,
};

// ============================================================================
// WEBSOCKET CONNECTIONS TABLE
// ============================================================================

export const CONNECTIONS_TABLE: TableConfig = {
  tableName: &#39;radiant-connections&#39;,
  partitionKey: { name: &#39;connectionId&#39;, type: dynamodb.AttributeType.STRING },
  gsis: [
    {
      indexName: &#39;gsi-tenant-user&#39;,
      partitionKey: { name: &#39;tenantId&#39;, type: dynamodb.AttributeType.STRING },
      sortKey: { name: &#39;userId&#39;, type: dynamodb.AttributeType.STRING },
      projectionType: dynamodb.ProjectionType.ALL,
    },
    {
      indexName: &#39;gsi-subscription&#39;,
      partitionKey: { name: &#39;subscription&#39;, type: dynamodb.AttributeType.STRING },
      projectionType: dynamodb.ProjectionType.ALL,
    },
  ],
  ttlAttribute: &#39;expiresAt&#39;,
  billingMode: dynamodb.BillingMode.PAY_PER_REQUEST,
  pointInTimeRecovery: false,
};

// ============================================================================
// APPROVAL QUEUE TABLE
// ============================================================================

export const APPROVAL_QUEUE_TABLE: TableConfig = {
  tableName: &#39;radiant-approval-queue&#39;,
  partitionKey: { name: &#39;pk&#39;, type: dynamodb.AttributeType.STRING },
  sortKey: { name: &#39;sk&#39;, type: dynamodb.AttributeType.STRING },
  gsis: [
    {
      indexName: &#39;gsi-approver&#39;,
      partitionKey: { name: &#39;approverPool&#39;, type: dynamodb.AttributeType.STRING },
      sortKey: { name: &#39;createdAt&#39;, type: dynamodb.AttributeType.STRING },
      projectionType: dynamodb.ProjectionType.ALL,
    },
    {
      indexName: &#39;gsi-initiator&#39;,
      partitionKey: { name: &#39;initiatedBy&#39;, type: dynamodb.AttributeType.STRING },
      sortKey: { name: &#39;createdAt&#39;, type: dynamodb.AttributeType.STRING },
      projectionType: dynamodb.ProjectionType.ALL,
    },
  ],
  ttlAttribute: &#39;expiresAt&#39;,
  stream: dynamodb.StreamViewType.NEW_AND_OLD_IMAGES,
  billingMode: dynamodb.BillingMode.PAY_PER_REQUEST,
  pointInTimeRecovery: true,
};

// ============================================================================
// TABLE FACTORY
// ============================================================================

export function createDynamoDBTable(
  scope: Construct,
  id: string,
  config: TableConfig,
  props: {
    resourcePrefix: string;
    environment: string;
    encryptionKey?: cdk.aws_kms.IKey;
    removalPolicy?: cdk.RemovalPolicy;
  }
): dynamodb.Table {
  const tableName = `${props.resourcePrefix}-${config.tableName}`;
  
  const table = new dynamodb.Table(scope, id, {
    tableName,
    partitionKey: config.partitionKey,
    sortKey: config.sortKey,
    billingMode: config.billingMode,
    pointInTimeRecovery: config.pointInTimeRecovery,
    encryption: props.encryptionKey 
      ? dynamodb.TableEncryption.CUSTOMER_MANAGED 
      : dynamodb.TableEncryption.AWS_MANAGED,
    encryptionKey: props.encryptionKey,
    removalPolicy: props.removalPolicy ?? cdk.RemovalPolicy.RETAIN,
    stream: config.stream,
    timeToLiveAttribute: config.ttlAttribute,
  });
  
  if (config.gsis) {
    for (const gsi of config.gsis) {
      table.addGlobalSecondaryIndex({
        indexName: gsi.indexName,
        partitionKey: gsi.partitionKey,
        sortKey: gsi.sortKey,
        projectionType: gsi.projectionType,
      });
    }
  }
  
  return table;
}

// ============================================================================
// ALL TABLE CONFIGS
// ============================================================================

export const ALL_TABLES: TableConfig[] = [
  SESSIONS_TABLE,
  CHAT_HISTORY_TABLE,
  MODEL_STATE_TABLE,
  CACHE_TABLE,
  CONNECTIONS_TABLE,
  APPROVAL_QUEUE_TABLE,
];</code></pre>
<hr />
<h2 id="part-5-migration-runner">PART 5: MIGRATION RUNNER</h2>
<h3 id="packagesinfrastructuremigrationsmigrations.ts">packages/infrastructure/migrations/migrations.ts</h3>
<pre class="typescript"><code>/**
 * Database Migration Runner
 * RADIANT v2.2.0 - December 2024
 */

import { Client } from &#39;pg&#39;;
import * as fs from &#39;fs&#39;;
import * as path from &#39;path&#39;;
import * as crypto from &#39;crypto&#39;;

interface Migration {
  version: string;
  name: string;
  filename: string;
  sql: string;
  checksum: string;
}

interface MigrationResult {
  version: string;
  name: string;
  success: boolean;
  duration: number;
  error?: string;
}

export class MigrationRunner {
  private client: Client;
  private migrationsDir: string;
  
  constructor(connectionString: string, migrationsDir?: string) {
    this.client = new Client({ connectionString });
    this.migrationsDir = migrationsDir ?? path.join(__dirname, &#39;.&#39;);
  }
  
  async connect(): Promise&lt;void&gt; {
    await this.client.connect();
  }
  
  async disconnect(): Promise&lt;void&gt; {
    await this.client.end();
  }
  
  async loadMigrations(): Promise&lt;Migration[]&gt; {
    const files = fs.readdirSync(this.migrationsDir)
      .filter(f =&gt; f.endsWith(&#39;.sql&#39;))
      .sort();
    
    const migrations: Migration[] = [];
    
    for (const filename of files) {
      const match = filename.match(/^(\d{3})_(.+)\.sql$/);
      if (!match) continue;
      
      const [, version, name] = match;
      const filepath = path.join(this.migrationsDir, filename);
      const sql = fs.readFileSync(filepath, &#39;utf-8&#39;);
      const checksum = crypto.createHash(&#39;sha256&#39;).update(sql).digest(&#39;hex&#39;);
      
      migrations.push({ version, name, filename, sql, checksum });
    }
    
    return migrations;
  }
  
  async getAppliedMigrations(): Promise&lt;Map&lt;string, { name: string; checksum: string }&gt;&gt; {
    const result = await this.client.query(`
      SELECT version, name, checksum FROM schema_migrations ORDER BY version
    `);
    
    const applied = new Map&lt;string, { name: string; checksum: string }&gt;();
    for (const row of result.rows) {
      applied.set(row.version, { name: row.name, checksum: row.checksum });
    }
    
    return applied;
  }
  
  async runMigrations(options: { dryRun?: boolean; force?: boolean } = {}): Promise&lt;MigrationResult[]&gt; {
    const results: MigrationResult[] = [];
    const migrations = await this.loadMigrations();
    const applied = await this.getAppliedMigrations();
    
    for (const migration of migrations) {
      if (applied.has(migration.version)) {
        const existing = applied.get(migration.version)!;
        if (existing.checksum &amp;&amp; existing.checksum !== migration.checksum &amp;&amp; !options.force) {
          throw new Error(`Migration ${migration.version} checksum mismatch`);
        }
        continue;
      }
      
      const startTime = Date.now();
      
      try {
        if (options.dryRun) {
          console.log(`[DRY RUN] Would apply: ${migration.version} - ${migration.name}`);
        } else {
          console.log(`Applying: ${migration.version} - ${migration.name}...`);
          
          await this.client.query(&#39;BEGIN&#39;);
          await this.client.query(migration.sql);
          await this.client.query(`
            INSERT INTO schema_migrations (version, name, checksum, applied_by)
            VALUES ($1, $2, $3, $4)
            ON CONFLICT (version) DO UPDATE SET checksum = EXCLUDED.checksum
          `, [migration.version, migration.name, migration.checksum, &#39;migration-runner&#39;]);
          await this.client.query(&#39;COMMIT&#39;);
        }
        
        results.push({
          version: migration.version,
          name: migration.name,
          success: true,
          duration: Date.now() - startTime,
        });
        
      } catch (error) {
        await this.client.query(&#39;ROLLBACK&#39;);
        results.push({
          version: migration.version,
          name: migration.name,
          success: false,
          duration: Date.now() - startTime,
          error: error instanceof Error ? error.message : String(error),
        });
        throw error;
      }
    }
    
    return results;
  }
  
  async getStatus(): Promise&lt;{
    applied: { version: string; name: string; appliedAt: string }[];
    pending: { version: string; name: string }[];
  }&gt; {
    const migrations = await this.loadMigrations();
    const applied = await this.getAppliedMigrations();
    
    const result = await this.client.query(`
      SELECT version, name, applied_at FROM schema_migrations ORDER BY version
    `);
    
    const pending = migrations
      .filter(m =&gt; !applied.has(m.version))
      .map(m =&gt; ({ version: m.version, name: m.name }));
    
    return {
      applied: result.rows.map(r =&gt; ({
        version: r.version,
        name: r.name,
        appliedAt: r.applied_at,
      })),
      pending,
    };
  }
}

// CLI
async function main() {
  const command = process.argv[2];
  const connectionString = process.env.DATABASE_URL;
  
  if (!connectionString) {
    console.error(&#39;DATABASE_URL environment variable is required&#39;);
    process.exit(1);
  }
  
  const runner = new MigrationRunner(connectionString);
  
  try {
    await runner.connect();
    
    switch (command) {
      case &#39;status&#39;: {
        const status = await runner.getStatus();
        console.log(&#39;\n=== Applied Migrations ===&#39;);
        for (const m of status.applied) {
          console.log(`  √É¬¢√Ö‚Äú√¢‚Ç¨≈ì ${m.version} - ${m.name} (${m.appliedAt})`);
        }
        console.log(&#39;\n=== Pending Migrations ===&#39;);
        for (const m of status.pending) {
          console.log(`  √É¬¢√¢‚Ç¨‚Äù√¢‚Ç¨¬π ${m.version} - ${m.name}`);
        }
        break;
      }
      
      case &#39;migrate&#39;: {
        const dryRun = process.argv.includes(&#39;--dry-run&#39;);
        const force = process.argv.includes(&#39;--force&#39;);
        const results = await runner.runMigrations({ dryRun, force });
        
        console.log(&#39;\n=== Migration Results ===&#39;);
        for (const r of results) {
          const status = r.success ? &#39;√É¬¢√Ö‚Äú√¢‚Ç¨≈ì&#39; : &#39;√É¬¢√Ö‚Äú√¢‚Ç¨‚Äù&#39;;
          console.log(`  ${status} ${r.version} - ${r.name} (${r.duration}ms)`);
          if (r.error) console.log(`    Error: ${r.error}`);
        }
        break;
      }
      
      default:
        console.log(&#39;Usage: migrations.ts &lt;command&gt;&#39;);
        console.log(&#39;Commands: status, migrate&#39;);
        console.log(&#39;Options: --dry-run, --force&#39;);
    }
    
  } finally {
    await runner.disconnect();
  }
}

if (require.main === module) {
  main().catch(err =&gt; {
    console.error(&#39;Migration error:&#39;, err);
    process.exit(1);
  });
}</code></pre>
<hr />
<h2 id="part-6-enhanced-pricing-metadata-system-v4.12">PART 6: ENHANCED PRICING METADATA SYSTEM (v4.12)</h2>
<blockquote>
<p><strong>NEW in v4.12</strong>: Comprehensive pricing metadata for Brain cost optimization.</p>
<p><strong>Terminology:</strong> - <strong>COST</strong> = What RADIANT pays to providers (internal, admin-visible only) - <strong>PRICE</strong> = What customers pay (cost √ó markup) - visible to clients/Think Tank</p>
<p><strong>Key Behavior:</strong> - Metadata service syncs <strong>costs</strong> from providers during model registry updates - Brain optimizes on <strong>PRICE</strong> when users request cost optimization - Admin sees: Cost + Markup % + Price + Estimated flags - Client/Think Tank sees: Price only + Estimated price flag</p>
</blockquote>
<h3 id="packagesinfrastructurelibconfigproviderspricing.config.ts">packages/infrastructure/lib/config/providers/pricing.config.ts</h3>
<pre class="typescript"><code>/**
 * Pricing Configuration - RADIANT v4.12
 * 
 * TERMINOLOGY:
 *   COST  = What RADIANT pays (internal)
 *   PRICE = What customers pay (cost √ó markup)
 * 
 * December 2024
 */

// ============================================================================
// MARKUP CONFIGURATION
// ============================================================================

export const DEFAULT_MARKUP_RATES = {
  EXTERNAL_PERCENT: 40,       // 40% markup on external providers
  SELF_HOSTED_PERCENT: 75,    // 75% markup on self-hosted models
};

export const MARKUP_RATES = {
  EXTERNAL: 1.40,             // Multiplier for external (1 + 40%)
  SELF_HOSTED: 1.75,          // Multiplier for self-hosted (1 + 75%)
};

// ============================================================================
// VOLUME DISCOUNTS
// ============================================================================

export const VOLUME_DISCOUNTS = [
  { minSpend: 100, discount: 0.05 },    // 5% off at $100/month
  { minSpend: 500, discount: 0.10 },    // 10% off at $500/month
  { minSpend: 1000, discount: 0.15 },   // 15% off at $1,000/month
  { minSpend: 5000, discount: 0.20 },   // 20% off at $5,000/month
  { minSpend: 10000, discount: 0.25 },  // 25% off at $10,000/month
];

// ============================================================================
// FREE TIER LIMITS (per month)
// ============================================================================

export const FREE_TIER = {
  tokens: 100_000,
  requests: 1_000,
  images: 10,
  videoSeconds: 60,
  audioMinutes: 10,
  embeddings: 10_000,
};

// ============================================================================
// TIER RATE LIMITS
// ============================================================================

export const TIER_LIMITS = {
  1: { rpm: 60, tpm: 100_000 },       // SEED
  2: { rpm: 200, tpm: 500_000 },      // STARTUP
  3: { rpm: 1000, tpm: 2_000_000 },   // GROWTH
  4: { rpm: 5000, tpm: 10_000_000 },  // SCALE
  5: { rpm: 20000, tpm: 50_000_000 }, // ENTERPRISE
};

// ============================================================================
// COST ‚Üí PRICE CONVERSION
// ============================================================================

/**
 * Convert provider cost to customer price
 */
export function costToPrice(cost: number, markupPercent: number): number {
  return cost * (1 + markupPercent / 100);
}

/**
 * Convert customer price back to provider cost (admin reference)
 */
export function priceToCost(price: number, markupPercent: number): number {
  return price / (1 + markupPercent / 100);
}

/**
 * Calculate billed price from base cost
 */
export function calculateBilledPrice(
  baseCost: number,
  isSelfHosted: boolean
): number {
  const markupPercent = isSelfHosted 
    ? DEFAULT_MARKUP_RATES.SELF_HOSTED_PERCENT 
    : DEFAULT_MARKUP_RATES.EXTERNAL_PERCENT;
  return costToPrice(baseCost, markupPercent);
}

// Legacy alias for backward compatibility
export const calculateBilledCost = calculateBilledPrice;

export function applyVolumeDiscount(
  totalSpend: number,
  billedAmount: number
): number {
  let discount = 0;
  for (const tier of VOLUME_DISCOUNTS) {
    if (totalSpend &gt;= tier.minSpend) {
      discount = tier.discount;
    }
  }
  return billedAmount * (1 - discount);
}

export function isWithinFreeTier(
  usage: {
    tokens?: number;
    requests?: number;
    images?: number;
    videoSeconds?: number;
    audioMinutes?: number;
  }
): boolean {
  if ((usage.tokens ?? 0) &gt; FREE_TIER.tokens) return false;
  if ((usage.requests ?? 0) &gt; FREE_TIER.requests) return false;
  if ((usage.images ?? 0) &gt; FREE_TIER.images) return false;
  if ((usage.videoSeconds ?? 0) &gt; FREE_TIER.videoSeconds) return false;
  if ((usage.audioMinutes ?? 0) &gt; FREE_TIER.audioMinutes) return false;
  return true;
}</code></pre>
<h3 id="packagesinfrastructurelibconfigproviderscost-metadata.types.ts">packages/infrastructure/lib/config/providers/cost-metadata.types.ts</h3>
<pre class="typescript"><code>/**
 * Cost Metadata Types - RADIANT v4.12
 * 
 * Internal cost data collected by metadata service.
 * VISIBLE TO: Administrators only
 */

// ============================================================================
// COST METADATA (Admin-Only)
// ============================================================================

export interface ModelCostMetadata {
  modelId: string;
  providerId: string;
  
  // Cost type
  costType: &#39;per_token&#39; | &#39;per_request&#39; | &#39;per_second&#39; | &#39;per_image&#39; | &#39;per_minute&#39;;
  
  // Base token costs (what RADIANT pays)
  baseCosts: {
    inputPer1kTokens: number;
    outputPer1kTokens: number;
  };
  
  // Context caching cost discounts
  cachingCosts: {
    supported: boolean;
    cachedInputPer1kTokens?: number;
    discountPercent?: number;           // e.g., 90 = 90% off
    minTokensForCaching?: number;
    cacheTTLSeconds?: number;
  };
  
  // Batch API cost discounts
  batchCosts: {
    supported: boolean;
    batchInputPer1kTokens?: number;
    batchOutputPer1kTokens?: number;
    discountPercent?: number;           // e.g., 50 = 50% off
    maxLatencyHours?: number;
  };
  
  // Long context costs
  longContextCosts?: {
    thresholdTokens: number;
    inputPer1kTokens: number;
    outputPer1kTokens: number;
  };
  
  // Special costs
  specialCosts: {
    perRequest?: number;
    perSecond?: number;
    perImage?: number;
    perMinute?: number;
    perSearchRequest?: number;
    perToolCall?: number;
  };
  
  // Source and freshness
  source: CostSource;
  lastVerifiedAt: string;
  lastUpdatedAt: string;
  nextSyncDueAt: string;
  
  // Estimated cost flag
  isEstimated: boolean;
  estimatedInfo?: EstimatedCostInfo;
}

export type CostSource =
  | &#39;provider_api&#39;
  | &#39;provider_documentation&#39;
  | &#39;admin_manual_entry&#39;
  | &#39;registry_sync&#39;
  | &#39;estimated_average&#39;
  | &#39;historical_fallback&#39;;

export interface EstimatedCostInfo {
  reason: EstimatedCostReason;
  confidence: number;                   // 0.0 - 1.0
  
  sourceModels: Array&lt;{
    modelId: string;
    displayName: string;
    providerId: string;
    inputCostPer1k: number;
    outputCostPer1k: number;
    similarityScore: number;
    weight: number;
  }&gt;;
  
  calculationMethod: &#39;weighted_average&#39; | &#39;simple_average&#39; | &#39;nearest_model&#39;;
  similarityFactors: string[];
  estimatedAt: string;
  
  // Admin tracking
  adminNotified: boolean;
  adminNotifiedAt?: string;
  adminAdjusted: boolean;
  adminAdjustedBy?: string;
  adminAdjustedAt?: string;
  
  awaitingRealCost: boolean;
  expectedResolutionDate?: string;
}

export type EstimatedCostReason =
  | &#39;model_temporarily_unavailable&#39;
  | &#39;cost_not_published&#39;
  | &#39;new_model_pending&#39;
  | &#39;provider_api_error&#39;
  | &#39;provider_rate_limited&#39;
  | &#39;deprecated_model&#39;
  | &#39;preview_beta_model&#39;;

// ============================================================================
// THERMAL COST FACTORS (Self-Hosted)
// ============================================================================

export interface ThermalCostFactors {
  modelId: string;
  currentState: ThermalState;
  
  warmupCosts: {
    estimatedCost: number;
    estimatedDurationSeconds: number;
  };
  
  hourlyInfrastructureCosts: {
    OFF: number;
    COLD: number;
    WARM: number;
    HOT: number;
  };
  
  instanceDetails: {
    type: string;
    costPerHour: number;
  };
  
  perRequestCost: {
    amortizedCostPerRequest: number;
  };
}

export type ThermalState = &#39;OFF&#39; | &#39;COLD&#39; | &#39;WARM&#39; | &#39;HOT&#39; | &#39;AUTOMATIC&#39;;</code></pre>
<h3 id="packagesinfrastructurelibconfigproviderspricing-views.ts">packages/infrastructure/lib/config/providers/pricing-views.ts</h3>
<pre class="typescript"><code>/**
 * Role-Based Pricing Views - RADIANT v4.12
 * 
 * Admin View:  Shows COST + MARKUP % + PRICE + Estimated flags
 * Client View: Shows PRICE only + Estimated price flag
 */

import { ModelCostMetadata, CostSource } from &#39;./cost-metadata.types&#39;;
import { costToPrice, DEFAULT_MARKUP_RATES } from &#39;./pricing.config&#39;;

// ============================================================================
// MARKUP CONFIGURATION
// ============================================================================

export interface MarkupConfiguration {
  defaults: {
    externalProvidersPercent: number;
    selfHostedModelsPercent: number;
  };
  
  providerOverrides: Record&lt;string, {
    markupPercent: number;
    setBy: string;
    setAt: string;
    reason?: string;
  }&gt;;
  
  modelOverrides: Record&lt;string, {
    markupPercent: number;
    setBy: string;
    setAt: string;
    reason?: string;
    expiresAt?: string;
  }&gt;;
}

export function getEffectiveMarkup(
  modelId: string,
  providerId: string,
  isExternal: boolean,
  config: MarkupConfiguration
): { percent: number; source: &#39;model&#39; | &#39;provider&#39; | &#39;default&#39; } {
  // Priority: Model &gt; Provider &gt; Default
  const modelOverride = config.modelOverrides[modelId];
  if (modelOverride &amp;&amp; (!modelOverride.expiresAt || new Date(modelOverride.expiresAt) &gt; new Date())) {
    return { percent: modelOverride.markupPercent, source: &#39;model&#39; };
  }
  
  const providerOverride = config.providerOverrides[providerId];
  if (providerOverride) {
    return { percent: providerOverride.markupPercent, source: &#39;provider&#39; };
  }
  
  return {
    percent: isExternal 
      ? config.defaults.externalProvidersPercent 
      : config.defaults.selfHostedModelsPercent,
    source: &#39;default&#39;
  };
}

// ============================================================================
// ADMIN PRICING VIEW (Full Visibility)
// ============================================================================

export interface AdminPricingView {
  modelId: string;
  modelDisplayName: string;
  providerId: string;
  providerDisplayName: string;
  
  // Our COST (what RADIANT pays) - ADMIN ONLY
  cost: {
    inputPer1M: string;                 // &quot;$3.00&quot;
    outputPer1M: string;                // &quot;$15.00&quot;
    source: CostSource;
    lastUpdated: string;
    cachedInputPer1M?: string;
    batchInputPer1M?: string;
    batchOutputPer1M?: string;
  };
  
  // MARKUP configuration
  markup: {
    percent: number;
    source: &#39;model&#39; | &#39;provider&#39; | &#39;default&#39;;
    isOverridden: boolean;
    overriddenBy?: string;
    overriddenAt?: string;
  };
  
  // Customer PRICE (what they pay)
  price: {
    inputPer1M: string;                 // &quot;$4.20&quot;
    outputPer1M: string;                // &quot;$21.00&quot;
    cachedInputPer1M?: string;
    batchInputPer1M?: string;
    batchOutputPer1M?: string;
  };
  
  // MARGIN (price - cost)
  margin: {
    inputPer1M: string;
    outputPer1M: string;
    percentOfPrice: number;
  };
  
  // ESTIMATED FLAG
  estimatedCost: {
    isEstimated: boolean;
    reason?: string;
    confidence?: number;
    sourceModels?: string[];
    adminCanAdjust: boolean;
    awaitingRealCost: boolean;
  };
  
  // Admin actions
  actions: {
    canOverrideMarkup: boolean;
    canAdjustEstimatedCost: boolean;
    canForceSync: boolean;
  };
}

// ============================================================================
// CLIENT PRICING VIEW (Price Only)
// ============================================================================

export interface ClientPricingView {
  modelId: string;
  modelDisplayName: string;
  providerDisplayName: string;
  
  // PRICES only (what customer pays) - NO COST/MARGIN VISIBLE
  prices: {
    inputPer1M: string;                 // &quot;$4.20 / 1M tokens&quot;
    outputPer1M: string;                // &quot;$21.00 / 1M tokens&quot;
  };
  
  // Savings options
  savingsOptions?: {
    caching?: {
      available: boolean;
      cachedInputPer1M: string;
      savingsPercent: number;
      description: string;
    };
    batch?: {
      available: boolean;
      batchInputPer1M: string;
      batchOutputPer1M: string;
      savingsPercent: number;
      description: string;
    };
  };
  
  // ESTIMATED PRICE FLAG (shown to customer)
  estimatedPrice: {
    isEstimated: boolean;
    badge?: {
      text: string;                     // &quot;Estimated&quot;
      tooltip: string;                  // &quot;Price is estimated and may change&quot;
      variant: &#39;warning&#39; | &#39;info&#39;;
    };
  };
  
  // Price comparison
  priceTier: &#39;budget&#39; | &#39;standard&#39; | &#39;premium&#39;;
  comparedToAverage: &#39;cheaper&#39; | &#39;average&#39; | &#39;expensive&#39;;
}

// ============================================================================
// VIEW FORMATTERS
// ============================================================================

export function formatAdminPricingView(
  costMetadata: ModelCostMetadata,
  markupConfig: MarkupConfiguration,
  isExternal: boolean,
  modelDisplayName: string,
  providerDisplayName: string
): AdminPricingView {
  const markup = getEffectiveMarkup(
    costMetadata.modelId,
    costMetadata.providerId,
    isExternal,
    markupConfig
  );
  
  const formatMoney = (amount: number) =&gt; `$${(amount * 1000).toFixed(2)}`;
  const toPrice = (cost: number) =&gt; costToPrice(cost, markup.percent);
  
  const inputCost = costMetadata.baseCosts.inputPer1kTokens;
  const outputCost = costMetadata.baseCosts.outputPer1kTokens;
  const inputPrice = toPrice(inputCost);
  const outputPrice = toPrice(outputCost);
  
  return {
    modelId: costMetadata.modelId,
    modelDisplayName,
    providerId: costMetadata.providerId,
    providerDisplayName,
    
    cost: {
      inputPer1M: formatMoney(inputCost),
      outputPer1M: formatMoney(outputCost),
      source: costMetadata.source,
      lastUpdated: costMetadata.lastUpdatedAt,
      cachedInputPer1M: costMetadata.cachingCosts.cachedInputPer1kTokens
        ? formatMoney(costMetadata.cachingCosts.cachedInputPer1kTokens)
        : undefined,
      batchInputPer1M: costMetadata.batchCosts.batchInputPer1kTokens
        ? formatMoney(costMetadata.batchCosts.batchInputPer1kTokens)
        : undefined,
      batchOutputPer1M: costMetadata.batchCosts.batchOutputPer1kTokens
        ? formatMoney(costMetadata.batchCosts.batchOutputPer1kTokens)
        : undefined,
    },
    
    markup: {
      percent: markup.percent,
      source: markup.source,
      isOverridden: markup.source !== &#39;default&#39;,
    },
    
    price: {
      inputPer1M: formatMoney(inputPrice),
      outputPer1M: formatMoney(outputPrice),
      cachedInputPer1M: costMetadata.cachingCosts.cachedInputPer1kTokens
        ? formatMoney(toPrice(costMetadata.cachingCosts.cachedInputPer1kTokens))
        : undefined,
      batchInputPer1M: costMetadata.batchCosts.batchInputPer1kTokens
        ? formatMoney(toPrice(costMetadata.batchCosts.batchInputPer1kTokens))
        : undefined,
      batchOutputPer1M: costMetadata.batchCosts.batchOutputPer1kTokens
        ? formatMoney(toPrice(costMetadata.batchCosts.batchOutputPer1kTokens))
        : undefined,
    },
    
    margin: {
      inputPer1M: formatMoney(inputPrice - inputCost),
      outputPer1M: formatMoney(outputPrice - outputCost),
      percentOfPrice: ((inputPrice - inputCost) / inputPrice) * 100,
    },
    
    estimatedCost: {
      isEstimated: costMetadata.isEstimated,
      reason: costMetadata.estimatedInfo?.reason,
      confidence: costMetadata.estimatedInfo?.confidence,
      sourceModels: costMetadata.estimatedInfo?.sourceModels.map(m =&gt; m.displayName),
      adminCanAdjust: costMetadata.isEstimated,
      awaitingRealCost: costMetadata.estimatedInfo?.awaitingRealCost || false,
    },
    
    actions: {
      canOverrideMarkup: true,
      canAdjustEstimatedCost: costMetadata.isEstimated,
      canForceSync: true,
    },
  };
}

export function formatClientPricingView(
  costMetadata: ModelCostMetadata,
  markupConfig: MarkupConfiguration,
  isExternal: boolean,
  modelDisplayName: string,
  providerDisplayName: string,
  averagePrices: { input: number; output: number }
): ClientPricingView {
  const markup = getEffectiveMarkup(
    costMetadata.modelId,
    costMetadata.providerId,
    isExternal,
    markupConfig
  );
  
  const formatPrice = (amount: number) =&gt; `$${(amount * 1000).toFixed(2)} / 1M tokens`;
  const toPrice = (cost: number) =&gt; costToPrice(cost, markup.percent);
  
  const inputPrice = toPrice(costMetadata.baseCosts.inputPer1kTokens);
  
  // Determine price tier
  let priceTier: &#39;budget&#39; | &#39;standard&#39; | &#39;premium&#39;;
  let comparedToAverage: &#39;cheaper&#39; | &#39;average&#39; | &#39;expensive&#39;;
  
  if (inputPrice &lt; averagePrices.input * 0.7) {
    priceTier = &#39;budget&#39;;
    comparedToAverage = &#39;cheaper&#39;;
  } else if (inputPrice &gt; averagePrices.input * 1.3) {
    priceTier = &#39;premium&#39;;
    comparedToAverage = &#39;expensive&#39;;
  } else {
    priceTier = &#39;standard&#39;;
    comparedToAverage = &#39;average&#39;;
  }
  
  return {
    modelId: costMetadata.modelId,
    modelDisplayName,
    providerDisplayName,
    
    // ONLY PRICES - NO COST OR MARGIN
    prices: {
      inputPer1M: formatPrice(inputPrice),
      outputPer1M: formatPrice(toPrice(costMetadata.baseCosts.outputPer1kTokens)),
    },
    
    savingsOptions: {
      caching: costMetadata.cachingCosts.supported ? {
        available: true,
        cachedInputPer1M: formatPrice(toPrice(costMetadata.cachingCosts.cachedInputPer1kTokens!)),
        savingsPercent: costMetadata.cachingCosts.discountPercent || 0,
        description: `${costMetadata.cachingCosts.discountPercent}% off with context caching`,
      } : undefined,
      batch: costMetadata.batchCosts.supported ? {
        available: true,
        batchInputPer1M: formatPrice(toPrice(costMetadata.batchCosts.batchInputPer1kTokens!)),
        batchOutputPer1M: formatPrice(toPrice(costMetadata.batchCosts.batchOutputPer1kTokens!)),
        savingsPercent: costMetadata.batchCosts.discountPercent || 0,
        description: `${costMetadata.batchCosts.discountPercent}% off with batch API (24h)`,
      } : undefined,
    },
    
    // ESTIMATED FLAG - Customer sees this but doesn&#39;t know it&#39;s from estimated COST
    estimatedPrice: {
      isEstimated: costMetadata.isEstimated,
      badge: costMetadata.isEstimated ? {
        text: &#39;Estimated&#39;,
        tooltip: getClientEstimatedPriceTooltip(costMetadata.estimatedInfo?.reason),
        variant: &#39;warning&#39;,
      } : undefined,
    },
    
    priceTier,
    comparedToAverage,
  };
}

function getClientEstimatedPriceTooltip(reason?: string): string {
  const messages: Record&lt;string, string&gt; = {
    &#39;model_temporarily_unavailable&#39;: &#39;Price is estimated - final pricing coming soon&#39;,
    &#39;cost_not_published&#39;: &#39;Price not yet confirmed by provider&#39;,
    &#39;new_model_pending&#39;: &#39;New model - pricing being finalized&#39;,
    &#39;provider_api_error&#39;: &#39;Price temporarily unavailable&#39;,
    &#39;provider_rate_limited&#39;: &#39;Price temporarily unavailable&#39;,
    &#39;deprecated_model&#39;: &#39;Legacy model - estimated pricing&#39;,
    &#39;preview_beta_model&#39;: &#39;Preview model - pricing may change&#39;,
  };
  return messages[reason || &#39;&#39;] || &#39;Price is estimated and may change&#39;;
}</code></pre>
<h3 id="packagesinfrastructurelibconfigprovidersbrain-price-optimizer.ts">packages/infrastructure/lib/config/providers/brain-price-optimizer.ts</h3>
<pre class="typescript"><code>/**
 * RADIANT Brain Price Optimizer - v4.12
 * 
 * When users request cost optimization, the Brain optimizes based on PRICE
 * (what the customer pays), not our internal cost.
 */

import { ModelCostMetadata, ThermalCostFactors } from &#39;./cost-metadata.types&#39;;
import { getEffectiveMarkup, MarkupConfiguration } from &#39;./pricing-views&#39;;
import { costToPrice } from &#39;./pricing.config&#39;;

// ============================================================================
// BRAIN PRICE OPTIMIZATION REQUEST
// ============================================================================

export interface BrainPriceOptimizationRequest {
  request: {
    estimatedInputTokens: number;
    estimatedOutputTokens: number;
    canUseCaching: boolean;
    cachedTokenCount?: number;
    canUseBatch: boolean;
    isLongContext: boolean;
    requiresToolCalls: boolean;
    estimatedToolCalls?: number;
  };
  
  requiredCapabilities: string[];
  pricePreference: &#39;minimize&#39; | &#39;balance&#39; | &#39;ignore&#39;;
  minQualityScore?: number;
  includeEstimatedPricing: boolean;
  
  budgetConstraints?: {
    maxPricePerRequest?: number;        // Customer&#39;s max price
    remainingMonthlyBudget?: number;    // Customer&#39;s remaining budget
  };
}

// ============================================================================
// MODEL PRICE ANALYSIS (Brain uses this)
// ============================================================================

export interface ModelPriceAnalysis {
  modelId: string;
  providerId: string;
  displayName: string;
  capabilities: string[];
  qualityScore: number;
  
  // === CALCULATED PRICES (What customer pays) - Brain optimizes on these ===
  calculatedPrices: {
    standardPrice: number;
    withCachingPrice?: number;
    withBatchPrice?: number;
    thermalOverheadPrice?: number;      // Self-hosted warm-up (marked up)
    totalPrice: number;
    
    breakdown: {
      inputTokensPrice: number;
      outputTokensPrice: number;
      cachingDiscount: number;
      batchDiscount: number;
      thermalPrice: number;
      toolCallsPrice: number;
    };
  };
  
  // === ADMIN-ONLY COST INFO (Not used for optimization) ===
  adminCostInfo: {
    totalCost: number;
    markupPercent: number;
    marginAmount: number;
  };
  
  // Flags
  flags: {
    isEstimatedPrice: boolean;
    isAvailable: boolean;
    requiresWarmup: boolean;
    warmupWaitSeconds?: number;
  };
  
  // Rankings (based on PRICE)
  rankings: {
    priceRank: number;
    valueRank: number;
    isCheapest: boolean;
    isBestValue: boolean;
    isRecommended: boolean;
  };
}

// ============================================================================
// BRAIN OPTIMIZATION RESULT
// ============================================================================

export interface BrainPriceOptimizationResult {
  selectedModel: ModelPriceAnalysis;
  selectionReason: string;
  allCandidates: ModelPriceAnalysis[];
  
  // All in PRICE terms (what customer pays)
  summary: {
    selectedPrice: number;
    cheapestPrice: number;
    averagePrice: number;
    savingsVsAverage: number;
    savingsPercent: number;
  };
  
  // Warnings for client (price-focused)
  clientWarnings: Array&lt;{
    type: &#39;estimated_price&#39; | &#39;warmup_delay&#39; | &#39;near_budget&#39;;
    message: string;
  }&gt;;
  
  // Warnings for admin (cost/margin-focused)
  adminWarnings: Array&lt;{
    type: &#39;low_margin&#39; | &#39;estimated_cost&#39; | &#39;high_volume_discount&#39;;
    message: string;
    modelId?: string;
  }&gt;;
}

// ============================================================================
// PRICE OPTIMIZATION FUNCTION
// ============================================================================

export function optimizeForPrice(
  candidates: ModelPriceAnalysis[],
  request: BrainPriceOptimizationRequest
): BrainPriceOptimizationResult {
  // Filter by capabilities
  let eligible = candidates.filter(c =&gt;
    request.requiredCapabilities.every(cap =&gt; c.capabilities.includes(cap))
  );
  
  // Filter by availability
  eligible = eligible.filter(c =&gt; c.flags.isAvailable);
  
  // Filter estimated if not allowed
  if (!request.includeEstimatedPricing) {
    eligible = eligible.filter(c =&gt; !c.flags.isEstimatedPrice);
  }
  
  // Filter by quality
  if (request.minQualityScore) {
    eligible = eligible.filter(c =&gt; c.qualityScore &gt;= request.minQualityScore!);
  }
  
  // Filter by budget (PRICE constraint)
  if (request.budgetConstraints?.maxPricePerRequest) {
    eligible = eligible.filter(c =&gt;
      c.calculatedPrices.totalPrice &lt;= request.budgetConstraints!.maxPricePerRequest!
    );
  }
  
  // Sort by PRICE preference
  if (request.pricePreference === &#39;minimize&#39;) {
    // Sort by lowest PRICE
    eligible.sort((a, b) =&gt; a.calculatedPrices.totalPrice - b.calculatedPrices.totalPrice);
  } else if (request.pricePreference === &#39;balance&#39;) {
    // Sort by value (quality per dollar of PRICE)
    eligible.sort((a, b) =&gt; 
      (b.qualityScore / b.calculatedPrices.totalPrice) - 
      (a.qualityScore / a.calculatedPrices.totalPrice)
    );
  }
  // If &#39;ignore&#39;, keep original quality-based order
  
  const selected = eligible[0];
  const prices = eligible.map(c =&gt; c.calculatedPrices.totalPrice);
  const cheapestPrice = Math.min(...prices);
  const averagePrice = prices.reduce((a, b) =&gt; a + b, 0) / prices.length;
  
  // Build client warnings
  const clientWarnings: BrainPriceOptimizationResult[&#39;clientWarnings&#39;] = [];
  if (selected.flags.isEstimatedPrice) {
    clientWarnings.push({
      type: &#39;estimated_price&#39;,
      message: &#39;Price is estimated and may change&#39;,
    });
  }
  if (selected.flags.requiresWarmup) {
    clientWarnings.push({
      type: &#39;warmup_delay&#39;,
      message: `Model requires ~${selected.flags.warmupWaitSeconds}s warm-up`,
    });
  }
  
  // Build admin warnings
  const adminWarnings: BrainPriceOptimizationResult[&#39;adminWarnings&#39;] = [];
  const marginPercent = (selected.adminCostInfo.marginAmount / selected.calculatedPrices.totalPrice) * 100;
  if (marginPercent &lt; 20) {
    adminWarnings.push({
      type: &#39;low_margin&#39;,
      message: `Low margin (${marginPercent.toFixed(1)}%) on ${selected.displayName}`,
      modelId: selected.modelId,
    });
  }
  if (selected.flags.isEstimatedPrice) {
    adminWarnings.push({
      type: &#39;estimated_cost&#39;,
      message: `Cost for ${selected.displayName} is estimated - verify margin`,
      modelId: selected.modelId,
    });
  }
  
  return {
    selectedModel: selected,
    selectionReason: buildSelectionReason(selected, request),
    allCandidates: eligible,
    summary: {
      selectedPrice: selected.calculatedPrices.totalPrice,
      cheapestPrice,
      averagePrice,
      savingsVsAverage: averagePrice - selected.calculatedPrices.totalPrice,
      savingsPercent: ((averagePrice - selected.calculatedPrices.totalPrice) / averagePrice) * 100,
    },
    clientWarnings,
    adminWarnings,
  };
}

function buildSelectionReason(
  model: ModelPriceAnalysis,
  request: BrainPriceOptimizationRequest
): string {
  const reasons: string[] = [];
  
  if (model.rankings.isCheapest) {
    reasons.push(&#39;lowest price&#39;);
  } else if (model.rankings.isBestValue) {
    reasons.push(&#39;best value (quality per dollar)&#39;);
  }
  
  if (request.pricePreference === &#39;minimize&#39;) {
    reasons.push(&#39;optimized for minimum price&#39;);
  } else if (request.pricePreference === &#39;balance&#39;) {
    reasons.push(&#39;balanced price and quality&#39;);
  }
  
  if (model.flags.isEstimatedPrice) {
    reasons.push(&#39;note: estimated pricing&#39;);
  }
  
  return `Selected ${model.displayName}: ${reasons.join(&#39;, &#39;)}`;
}

/**
 * Calculate prices for a model given request parameters
 */
export function calculateModelPrices(
  costMetadata: ModelCostMetadata,
  thermalCosts: ThermalCostFactors | null,
  markupConfig: MarkupConfiguration,
  isExternal: boolean,
  request: BrainPriceOptimizationRequest[&#39;request&#39;]
): ModelPriceAnalysis[&#39;calculatedPrices&#39;] &amp; { adminCostInfo: ModelPriceAnalysis[&#39;adminCostInfo&#39;] } {
  const markup = getEffectiveMarkup(
    costMetadata.modelId,
    costMetadata.providerId,
    isExternal,
    markupConfig
  );
  
  const toPrice = (cost: number) =&gt; costToPrice(cost, markup.percent);
  
  // Calculate base costs
  let inputCost = costMetadata.baseCosts.inputPer1kTokens * (request.estimatedInputTokens / 1000);
  let outputCost = costMetadata.baseCosts.outputPer1kTokens * (request.estimatedOutputTokens / 1000);
  
  // Apply caching discount to cost
  let cachingDiscount = 0;
  if (request.canUseCaching &amp;&amp; costMetadata.cachingCosts.supported &amp;&amp; request.cachedTokenCount) {
    const cachedCost = costMetadata.cachingCosts.cachedInputPer1kTokens! * (request.cachedTokenCount / 1000);
    const standardCost = costMetadata.baseCosts.inputPer1kTokens * (request.cachedTokenCount / 1000);
    cachingDiscount = standardCost - cachedCost;
    inputCost -= cachingDiscount;
  }
  
  // Apply batch discount to cost
  let batchDiscount = 0;
  if (request.canUseBatch &amp;&amp; costMetadata.batchCosts.supported) {
    const discountPercent = costMetadata.batchCosts.discountPercent || 0;
    batchDiscount = (inputCost + outputCost) * (discountPercent / 100);
    inputCost *= (1 - discountPercent / 100);
    outputCost *= (1 - discountPercent / 100);
  }
  
  // Thermal cost for self-hosted
  let thermalCost = 0;
  if (thermalCosts &amp;&amp; thermalCosts.currentState === &#39;COLD&#39;) {
    thermalCost = thermalCosts.warmupCosts.estimatedCost;
  }
  
  // Tool calls cost
  let toolCallsCost = 0;
  if (request.requiresToolCalls &amp;&amp; costMetadata.specialCosts.perToolCall) {
    toolCallsCost = costMetadata.specialCosts.perToolCall * (request.estimatedToolCalls || 1);
  }
  
  const totalCost = inputCost + outputCost + thermalCost + toolCallsCost;
  const totalPrice = toPrice(totalCost);
  
  return {
    standardPrice: toPrice(inputCost + outputCost),
    withCachingPrice: cachingDiscount &gt; 0 ? toPrice(inputCost + outputCost) : undefined,
    withBatchPrice: batchDiscount &gt; 0 ? toPrice(inputCost + outputCost) : undefined,
    thermalOverheadPrice: thermalCost &gt; 0 ? toPrice(thermalCost) : undefined,
    totalPrice,
    
    breakdown: {
      inputTokensPrice: toPrice(inputCost),
      outputTokensPrice: toPrice(outputCost),
      cachingDiscount: toPrice(cachingDiscount),
      batchDiscount: toPrice(batchDiscount),
      thermalPrice: toPrice(thermalCost),
      toolCallsPrice: toPrice(toolCallsCost),
    },
    
    adminCostInfo: {
      totalCost,
      markupPercent: markup.percent,
      marginAmount: totalPrice - totalCost,
    },
  };
}</code></pre>
<h3 id="packagesinfrastructurelibconfigprovidersestimated-cost-alerts.ts">packages/infrastructure/lib/config/providers/estimated-cost-alerts.ts</h3>
<pre class="typescript"><code>/**
 * Estimated Cost Alert System - RADIANT v4.12
 * 
 * Alerts administrators when costs are estimated.
 * Admin can adjust estimated costs until real costs are found.
 */

import { ModelCostMetadata, EstimatedCostReason, CostSource } from &#39;./cost-metadata.types&#39;;

export interface EstimatedCostAlert {
  id: string;
  createdAt: string;
  severity: &#39;info&#39; | &#39;warning&#39; | &#39;critical&#39;;
  
  modelId: string;
  modelDisplayName: string;
  providerId: string;
  providerDisplayName: string;
  
  reason: EstimatedCostReason;
  estimatedCost: {
    inputPer1k: number;
    outputPer1k: number;
  };
  confidence: number;
  
  sourceModels: Array&lt;{
    modelId: string;
    displayName: string;
    inputCostPer1k: number;
    outputCostPer1k: number;
    similarityScore: number;
  }&gt;;
  
  // Impact on customer price
  affectedPrice: {
    inputPer1k: number;
    outputPer1k: number;
    markupPercent: number;
  };
  
  recommendation: string;
  
  // Status workflow
  status: &#39;pending&#39; | &#39;acknowledged&#39; | &#39;adjusted&#39; | &#39;resolved&#39;;
  acknowledgedBy?: string;
  acknowledgedAt?: string;
  adjustedBy?: string;
  adjustedAt?: string;
  adjustedCost?: {
    inputPer1k: number;
    outputPer1k: number;
  };
  resolvedBy?: string;
  resolvedAt?: string;
  resolutionSource?: CostSource;
  
  notifications: Array&lt;{
    adminId: string;
    adminEmail: string;
    channel: &#39;email&#39; | &#39;slack&#39; | &#39;dashboard&#39;;
    sentAt: string;
  }&gt;;
}

export function createEstimatedCostAlert(
  costMetadata: ModelCostMetadata,
  affectedPrice: { inputPer1k: number; outputPer1k: number; markupPercent: number },
  modelDisplayName: string,
  providerDisplayName: string
): EstimatedCostAlert {
  const info = costMetadata.estimatedInfo!;
  
  // Determine severity based on confidence
  let severity: &#39;info&#39; | &#39;warning&#39; | &#39;critical&#39;;
  if (info.confidence &gt; 0.8) severity = &#39;info&#39;;
  else if (info.confidence &gt; 0.5) severity = &#39;warning&#39;;
  else severity = &#39;critical&#39;;
  
  return {
    id: `alert_${costMetadata.modelId}_${Date.now()}`,
    createdAt: new Date().toISOString(),
    severity,
    
    modelId: costMetadata.modelId,
    modelDisplayName,
    providerId: costMetadata.providerId,
    providerDisplayName,
    
    reason: info.reason,
    estimatedCost: {
      inputPer1k: costMetadata.baseCosts.inputPer1kTokens,
      outputPer1k: costMetadata.baseCosts.outputPer1kTokens,
    },
    confidence: info.confidence,
    
    sourceModels: info.sourceModels.map(m =&gt; ({
      modelId: m.modelId,
      displayName: m.displayName,
      inputCostPer1k: m.inputCostPer1k,
      outputCostPer1k: m.outputCostPer1k,
      similarityScore: m.similarityScore,
    })),
    
    affectedPrice,
    
    recommendation: buildRecommendation(info.confidence, severity),
    
    status: &#39;pending&#39;,
    notifications: [],
  };
}

function buildRecommendation(confidence: number, severity: string): string {
  if (severity === &#39;critical&#39;) {
    return &#39;Low confidence estimate. Recommend manually verifying cost with provider or adjusting before customer usage.&#39;;
  } else if (severity === &#39;warning&#39;) {
    return &#39;Moderate confidence estimate. Consider verifying with provider documentation.&#39;;
  }
  return &#39;High confidence estimate based on similar models. Will auto-update when real cost is available.&#39;;
}

/**
 * Admin action: Adjust estimated cost
 */
export function adjustEstimatedCost(
  alert: EstimatedCostAlert,
  newCost: { inputPer1k: number; outputPer1k: number },
  adminId: string
): EstimatedCostAlert {
  return {
    ...alert,
    status: &#39;adjusted&#39;,
    adjustedBy: adminId,
    adjustedAt: new Date().toISOString(),
    adjustedCost: newCost,
  };
}

/**
 * Resolve alert when real cost is found
 */
export function resolveAlert(
  alert: EstimatedCostAlert,
  source: CostSource,
  adminId?: string
): EstimatedCostAlert {
  return {
    ...alert,
    status: &#39;resolved&#39;,
    resolvedBy: adminId || &#39;system&#39;,
    resolvedAt: new Date().toISOString(),
    resolutionSource: source,
  };
}</code></pre>
<hr />
<h2 id="part-7-estimated-prices">PART 7: ESTIMATED PRICES</h2>
<h3 id="external-provider-costs-example-monthly-usage">External Provider Costs (Example Monthly Usage)</h3>
<table>
<thead>
<tr>
<th>Provider</th>
<th>Model</th>
<th>1M Tokens</th>
<th>10M Tokens</th>
<th>100M Tokens</th>
</tr>
</thead>
<tbody>
<tr>
<td>OpenAI</td>
<td>GPT-4o</td>
<td>$17.50</td>
<td>$175</td>
<td>$1,750</td>
</tr>
<tr>
<td>OpenAI</td>
<td>GPT-4o-mini</td>
<td>$1.05</td>
<td>$10.50</td>
<td>$105</td>
</tr>
<tr>
<td>Anthropic</td>
<td>Claude Opus 4</td>
<td>$126</td>
<td>$1,260</td>
<td>$12,600</td>
</tr>
<tr>
<td>Anthropic</td>
<td>Claude Sonnet 4</td>
<td>$25.20</td>
<td>$252</td>
<td>$2,520</td>
</tr>
<tr>
<td>Anthropic</td>
<td>Claude 3.5 Haiku</td>
<td>$6.72</td>
<td>$67.20</td>
<td>$672</td>
</tr>
<tr>
<td>Google</td>
<td>Gemini 2.0 Flash</td>
<td>$0.70</td>
<td>$7.00</td>
<td>$70</td>
</tr>
<tr>
<td>DeepSeek</td>
<td>DeepSeek Chat</td>
<td>$1.92</td>
<td>$19.20</td>
<td>$192</td>
</tr>
<tr>
<td>DeepSeek</td>
<td>DeepSeek R1</td>
<td>$3.84</td>
<td>$38.40</td>
<td>$384</td>
</tr>
</tbody>
</table>
<p><em>All prices include 40% markup</em></p>
<h3 id="database-costs-monthly">Database Costs (Monthly)</h3>
<table>
<colgroup>
<col style="width: 21%" />
<col style="width: 15%" />
<col style="width: 15%" />
<col style="width: 15%" />
<col style="width: 15%" />
<col style="width: 15%" />
</colgroup>
<thead>
<tr>
<th>Component</th>
<th>Tier 1</th>
<th>Tier 2</th>
<th>Tier 3</th>
<th>Tier 4</th>
<th>Tier 5</th>
</tr>
</thead>
<tbody>
<tr>
<td>Aurora (Primary)</td>
<td>~$29</td>
<td>~$75</td>
<td>~$200</td>
<td>~$500</td>
<td>~$1,500</td>
</tr>
<tr>
<td>DynamoDB</td>
<td>~$5</td>
<td>~$15</td>
<td>~$50</td>
<td>~$150</td>
<td>~$500</td>
</tr>
<tr>
<td>ElastiCache</td>
<td>N/A</td>
<td>~$25</td>
<td>~$75</td>
<td>~$200</td>
<td>~$500</td>
</tr>
<tr>
<td><strong>Database Total</strong></td>
<td><strong>~$34</strong></td>
<td><strong>~$115</strong></td>
<td><strong>~$325</strong></td>
<td><strong>~$850</strong></td>
<td><strong>~$2,500</strong></td>
</tr>
</tbody>
</table>
<hr />
<h2 id="provider-summary">PROVIDER SUMMARY</h2>
<h3 id="text-generation-7-providers-15-models">Text Generation (7 providers, 15+ models)</h3>
<ul>
<li><strong>OpenAI</strong>: GPT-4o, GPT-4o-mini, O1, O1-mini, O3-mini</li>
<li><strong>Anthropic</strong>: Claude Opus 4, Sonnet 4, Haiku 3.5</li>
<li><strong>Google</strong>: Gemini 2.0 Flash, 1.5 Pro</li>
<li><strong>xAI</strong>: Grok 3, Grok 3 Mini</li>
<li><strong>DeepSeek</strong>: Chat, Reasoner (R1)</li>
<li><strong>Mistral</strong>: Large, Small, Codestral</li>
<li><strong>Cohere</strong>: Command R+, Command R</li>
</ul>
<h3 id="image-generation-5-providers-10-models">Image Generation (5 providers, 10+ models)</h3>
<ul>
<li><strong>OpenAI</strong>: DALL-E 3, DALL-E 3 HD</li>
<li><strong>Stability</strong>: SDXL, SD3 Large, Ultra</li>
<li><strong>FLUX</strong>: Pro 1.1, Pro Ultra, Schnell</li>
<li><strong>Ideogram</strong>: V2, V2 Turbo</li>
<li><strong>Midjourney</strong>: V6</li>
</ul>
<h3 id="video-generation-5-providers-7-models">Video Generation (5 providers, 7+ models)</h3>
<ul>
<li><strong>Runway</strong>: Gen-3 Alpha, Turbo</li>
<li><strong>Luma</strong>: Dream Machine, Ray 2</li>
<li><strong>Pika</strong>: Pika 2.0</li>
<li><strong>Kling</strong>: V1.5 Pro</li>
<li><strong>Google Veo</strong>: Veo 2</li>
</ul>
<h3 id="audio-4-providers-7-models">Audio (4 providers, 7+ models)</h3>
<ul>
<li><strong>OpenAI</strong>: TTS-1, TTS-1-HD, Whisper</li>
<li><strong>ElevenLabs</strong>: Multilingual V2, Turbo V2.5</li>
<li><strong>Deepgram</strong>: Nova-2, Nova-2 Medical</li>
<li><strong>AssemblyAI</strong>: Best</li>
</ul>
<h3 id="embeddings-2-providers-5-models">Embeddings (2 providers, 5 models)</h3>
<ul>
<li><strong>OpenAI</strong>: text-embedding-3-small/large</li>
<li><strong>Voyage</strong>: voyage-3, voyage-code-3</li>
</ul>
<h3 id="search-3-providers">Search (3 providers)</h3>
<ul>
<li><strong>Perplexity</strong>: Sonar, Sonar Pro</li>
<li><strong>Exa</strong>: Neural Search</li>
<li><strong>Tavily</strong>: Search API</li>
</ul>
<h3 id="d-generation-2-providers">3D Generation (2 providers)</h3>
<ul>
<li><strong>Meshy</strong>: V3, V3 Turbo</li>
<li><strong>Tripo</strong>: V2</li>
</ul>
<p><strong>Total: 21 external providers, 50+ models</strong></p>
<hr />
<h2 id="next-prompts">NEXT PROMPTS</h2>
<p>Continue with: - <strong>Prompt 8</strong>: Admin Web Dashboard (Next.js) - <strong>Prompt 9</strong>: Assembly &amp; Deployment Guide</p>
<hr />
<p><em>End of Prompt 7: External Providers &amp; Database Schema/Migrations</em> <em>RADIANT v2.2.0 - December 2024</em></p>
<h1 id="√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢-1">√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê</h1>
<h1 id="end-of-section-7">END OF SECTION 7</h1>
<h1 id="√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢-2">√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê</h1>
<h1 id="√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢√¢-3">√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê√¢‚Ä¢¬ê</h1>

  
  <div class="footer">
    RADIANT Documentation | Version 5.52.29 | Generated January 25, 2026
  </div>
</body>
</html>