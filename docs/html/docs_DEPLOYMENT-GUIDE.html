<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>DEPLOYMENT GUIDE - RADIANT Documentation</title>
  
<style>
@media print {
  body { font-size: 11pt !important; }
  pre { page-break-inside: avoid; }
  h1, h2, h3 { page-break-after: avoid; }
  .no-print { display: none !important; }
}

* { box-sizing: border-box; }

body {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
  line-height: 1.7;
  color: #1d1d1f;
  max-width: 900px;
  margin: 0 auto;
  padding: 40px 30px;
  background: white;
}

h1 {
  color: #1d1d1f;
  border-bottom: 3px solid #0071e3;
  padding-bottom: 12px;
  font-size: 28px;
  margin-top: 0;
}

h2 {
  color: #1d1d1f;
  border-bottom: 1px solid #d2d2d7;
  padding-bottom: 8px;
  font-size: 22px;
  margin-top: 40px;
}

h3 { color: #1d1d1f; font-size: 18px; margin-top: 30px; }
h4 { color: #1d1d1f; font-size: 16px; margin-top: 25px; }

a { color: #0071e3; text-decoration: none; }
a:hover { text-decoration: underline; }

code {
  background: #f5f5f7;
  padding: 2px 6px;
  border-radius: 4px;
  font-family: 'SF Mono', Monaco, 'Cascadia Code', monospace;
  font-size: 0.9em;
  color: #1d1d1f;
}

pre {
  background: #1d1d1f;
  color: #f5f5f7;
  padding: 20px;
  border-radius: 10px;
  overflow-x: auto;
  font-size: 13px;
  line-height: 1.5;
}

pre code {
  background: transparent;
  padding: 0;
  color: inherit;
}

table {
  width: 100%;
  border-collapse: collapse;
  margin: 20px 0;
  font-size: 14px;
}

th, td {
  border: 1px solid #d2d2d7;
  padding: 12px 15px;
  text-align: left;
}

th {
  background: #0071e3;
  color: white;
  font-weight: 600;
}

tr:nth-child(even) { background: #f5f5f7; }

blockquote {
  border-left: 4px solid #0071e3;
  margin: 20px 0;
  padding: 15px 25px;
  background: #f5f5f7;
  border-radius: 0 8px 8px 0;
}

blockquote p { margin: 0; }

img { max-width: 100%; height: auto; border-radius: 8px; }

hr {
  border: none;
  border-top: 1px solid #d2d2d7;
  margin: 40px 0;
}

ul, ol { padding-left: 25px; }
li { margin: 8px 0; }

.header-bar {
  background: linear-gradient(135deg, #0071e3 0%, #00c6ff 100%);
  color: white;
  padding: 20px 30px;
  margin: -40px -30px 30px -30px;
  border-radius: 0 0 16px 16px;
}

.header-bar h1 {
  color: white;
  border: none;
  margin: 0;
  padding: 0;
}

.header-bar .meta {
  font-size: 13px;
  opacity: 0.9;
  margin-top: 8px;
}

.print-btn {
  position: fixed;
  top: 20px;
  right: 20px;
  background: #0071e3;
  color: white;
  border: none;
  padding: 12px 24px;
  border-radius: 8px;
  cursor: pointer;
  font-size: 14px;
  font-weight: 500;
  box-shadow: 0 4px 12px rgba(0,113,227,0.3);
}

.print-btn:hover { background: #0077ed; }

.mermaid {
  background: #f5f5f7;
  padding: 20px;
  border-radius: 10px;
  text-align: center;
  margin: 20px 0;
}

.footer {
  margin-top: 60px;
  padding-top: 20px;
  border-top: 1px solid #d2d2d7;
  color: #86868b;
  font-size: 12px;
  text-align: center;
}
</style>

</head>
<body>
  <button class="print-btn no-print" onclick="window.print()">üñ®Ô∏è Print / Save as PDF</button>
  
  <div class="header-bar">
    <h1>DEPLOYMENT GUIDE</h1>
    <div class="meta">RADIANT v5.52.29 | docs/DEPLOYMENT-GUIDE.md</div>
  </div>
  
  <h1 id="radiant-v4.18.0---deployment-guide">RADIANT v4.18.0 - Deployment Guide</h1>
<h2 id="overview">Overview</h2>
<p>This guide covers deploying the RADIANT platform from development to production. The platform consists of:</p>
<ol type="1">
<li><strong>AWS Infrastructure</strong> - CDK stacks for all cloud resources</li>
<li><strong>Admin Dashboard</strong> - Next.js admin interface</li>
<li><strong>Swift Deployer App</strong> - macOS deployment tool with AI assistant</li>
</ol>
<h2 id="whats-new-in-v4.18.0">What‚Äôs New in v4.18.0</h2>
<ul>
<li><strong>Unified Package System</strong> - Deploy with atomic component versioning</li>
<li><strong>AI Assistant</strong> - Claude-powered deployment guidance in Swift app</li>
<li><strong>Configurable Timeouts</strong> - SSM-synced operation timeouts</li>
<li><strong>Cost Management</strong> - Real-time cost tracking and alerts</li>
<li><strong>Compliance Reports</strong> - SOC2, HIPAA, GDPR, ISO27001 reporting</li>
</ul>
<h2 id="prerequisites">Prerequisites</h2>
<h3 id="aws-account-setup">AWS Account Setup</h3>
<table>
<colgroup>
<col style="width: 37%" />
<col style="width: 22%" />
<col style="width: 40%" />
</colgroup>
<thead>
<tr>
<th>Requirement</th>
<th>Action</th>
<th>Verification</th>
</tr>
</thead>
<tbody>
<tr>
<td>AWS Account</td>
<td>Create or use existing</td>
<td>Account ID available</td>
</tr>
<tr>
<td>IAM User</td>
<td>Create with AdministratorAccess</td>
<td>Access keys configured</td>
</tr>
<tr>
<td>AWS CLI</td>
<td>Install and configure</td>
<td><code>aws sts get-caller-identity</code></td>
</tr>
<tr>
<td>Route 53 Domain (optional)</td>
<td>Register domain</td>
<td>Domain in hosted zone</td>
</tr>
<tr>
<td>ACM Certificate (optional)</td>
<td>Request in us-east-1</td>
<td>Certificate validated</td>
</tr>
</tbody>
</table>
<h3 id="development-environment">Development Environment</h3>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Version</th>
<th>Verification</th>
</tr>
</thead>
<tbody>
<tr>
<td>Node.js</td>
<td>20.x LTS</td>
<td><code>node --version</code></td>
</tr>
<tr>
<td>pnpm</td>
<td>8.x+</td>
<td><code>pnpm --version</code></td>
</tr>
<tr>
<td>AWS CDK CLI</td>
<td>2.x</td>
<td><code>cdk --version</code></td>
</tr>
<tr>
<td>Xcode</td>
<td>15.x+</td>
<td><code>xcode-select -p</code></td>
</tr>
<tr>
<td>Swift</td>
<td>5.9+</td>
<td><code>swift --version</code></td>
</tr>
</tbody>
</table>
<h2 id="quick-start">Quick Start</h2>
<h3 id="automated-deployment">Automated Deployment</h3>
<p>Use the deployment script for a streamlined deployment:</p>
<pre class="bash"><code># Deploy to dev environment
./scripts/deploy.sh --environment dev

# Deploy to staging
./scripts/deploy.sh --environment staging

# Deploy to production
./scripts/deploy.sh --environment prod</code></pre>
<blockquote>
<p><strong>Note:</strong> RADIANT uses a unified deployment model. All features are available in every deployment. Licensing restrictions are handled at the application level, not infrastructure level.</p>
</blockquote>
<h3 id="verify-deployment">Verify Deployment</h3>
<p>After deployment, verify all resources:</p>
<pre class="bash"><code>./scripts/verify-deployment.sh --environment dev</code></pre>
<hr />
<h2 id="manual-deployment">Manual Deployment</h2>
<h3 id="install-dependencies">1. Install Dependencies</h3>
<pre class="bash"><code>cd radiant
npx pnpm install</code></pre>
<h3 id="build-shared-package">2. Build Shared Package</h3>
<pre class="bash"><code>cd packages/shared
npm run build</code></pre>
<h3 id="build-lambda-functions">3. Build Lambda Functions</h3>
<pre class="bash"><code>cd packages/infrastructure/lambda
npm install --legacy-peer-deps
npm run build</code></pre>
<h3 id="build-admin-dashboard">4. Build Admin Dashboard</h3>
<pre class="bash"><code>cd apps/admin-dashboard
npm install
npm run build</code></pre>
<h2 id="cdk-deployment">CDK Deployment</h2>
<h3 id="bootstrap-cdk-one-time-per-accountregion">Bootstrap CDK (One-time per account/region)</h3>
<pre class="bash"><code>cd packages/infrastructure
npx cdk bootstrap aws://ACCOUNT_ID/us-east-1 --qualifier radiant</code></pre>
<h3 id="deploy-all-stacks">Deploy All Stacks</h3>
<pre class="bash"><code># Deploy in order with dependencies
npx cdk deploy --all \
  --context environment=dev \
  --context tier=1 \
  --require-approval never</code></pre>
<h3 id="deploy-individual-stacks">Deploy Individual Stacks</h3>
<pre class="bash"><code># Phase 1: Foundation
npx cdk deploy Radiant-dev-Foundation --context environment=dev --context tier=1
npx cdk deploy Radiant-dev-Networking --context environment=dev --context tier=1

# Phase 2: Security &amp; Data
npx cdk deploy Radiant-dev-Security --context environment=dev --context tier=1
npx cdk deploy Radiant-dev-Data --context environment=dev --context tier=1
npx cdk deploy Radiant-dev-Storage --context environment=dev --context tier=1

# Phase 3: Auth &amp; AI
npx cdk deploy Radiant-dev-Auth --context environment=dev --context tier=1
npx cdk deploy Radiant-dev-AI --context environment=dev --context tier=1

# Phase 4: API &amp; Admin
npx cdk deploy Radiant-dev-API --context environment=dev --context tier=1
npx cdk deploy Radiant-dev-Admin --context environment=dev --context tier=1</code></pre>
<h2 id="database-migrations">Database Migrations</h2>
<p>After infrastructure is deployed, run database migrations:</p>
<pre class="bash"><code># Connect to Aurora and run migrations
cd packages/infrastructure/migrations
./run-migrations.sh --environment dev</code></pre>
<p>Migration files are applied in order (44 total): 1. <code>001_initial_schema.sql</code> - Base tables 2. <code>002_tenant_isolation.sql</code> - RLS policies 3. <code>003_ai_models.sql</code> - Providers and models 4. <code>004_usage_billing.sql</code> - Usage tracking 5. <code>005_admin_approval.sql</code> - Audit logs 6. <code>006_self_hosted_models.sql</code> - SageMaker config 7. <code>007_external_providers.sql</code> - Provider settings 8. ‚Ä¶ (see <code>migrations/</code> for full list) 44. <code>044_cost_experiments_security.sql</code> - Cost tracking, A/B testing, security</p>
<h2 id="post-deployment-configuration">Post-Deployment Configuration</h2>
<h3 id="create-first-super-admin">Create First Super Admin</h3>
<pre class="bash"><code>aws cognito-idp admin-create-user \
  --user-pool-id YOUR_ADMIN_POOL_ID \
  --username admin@example.com \
  --user-attributes Name=email,Value=admin@example.com \
  --temporary-password TempPass123! \
  --message-action SUPPRESS

aws cognito-idp admin-add-user-to-group \
  --user-pool-id YOUR_ADMIN_POOL_ID \
  --username admin@example.com \
  --group-name super_admin</code></pre>
<h3 id="configure-ai-providers">Configure AI Providers</h3>
<ol type="1">
<li>Navigate to Admin Dashboard ‚Üí Providers</li>
<li>Add API keys for external providers:
<ul>
<li>OpenAI</li>
<li>Anthropic</li>
<li>Google AI</li>
<li>xAI (Grok)</li>
<li>DeepSeek</li>
</ul></li>
<li>Verify connectivity with test requests</li>
</ol>
<h2 id="environment-configuration">Environment Configuration</h2>
<h3 id="tiers">Tiers</h3>
<table>
<thead>
<tr>
<th>Tier</th>
<th>Name</th>
<th>Use Case</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>SEED</td>
<td>Development, testing</td>
</tr>
<tr>
<td>2</td>
<td>STARTUP</td>
<td>Small production</td>
</tr>
<tr>
<td>3</td>
<td>GROWTH</td>
<td>Medium production</td>
</tr>
<tr>
<td>4</td>
<td>SCALE</td>
<td>Large production</td>
</tr>
<tr>
<td>5</td>
<td>ENTERPRISE</td>
<td>Enterprise with compliance</td>
</tr>
</tbody>
</table>
<h3 id="environment-variables">Environment Variables</h3>
<p>Required environment variables for deployment:</p>
<pre class="bash"><code>export AWS_REGION=us-east-1
export AWS_ACCOUNT_ID=123456789012
export RADIANT_ENVIRONMENT=dev  # dev, staging, prod
export RADIANT_TIER=1           # 1-5
export RADIANT_DOMAIN=example.com</code></pre>
<h2 id="verification">Verification</h2>
<h3 id="health-checks">Health Checks</h3>
<pre class="bash"><code># API Health
curl https://YOUR_API_ENDPOINT/health

# Expected response:
# {&quot;status&quot;:&quot;healthy&quot;,&quot;version&quot;:&quot;4.18.0&quot;}</code></pre>
<h3 id="smoke-tests">Smoke Tests</h3>
<pre class="bash"><code># Test chat completions
curl -X POST https://YOUR_API_ENDPOINT/v1/chat/completions \
  -H &quot;Authorization: Bearer YOUR_TOKEN&quot; \
  -H &quot;Content-Type: application/json&quot; \
  -d &#39;{&quot;model&quot;:&quot;gpt-4o-mini&quot;,&quot;messages&quot;:[{&quot;role&quot;:&quot;user&quot;,&quot;content&quot;:&quot;Hello&quot;}]}&#39;</code></pre>
<h2 id="troubleshooting">Troubleshooting</h2>
<h3 id="common-issues">Common Issues</h3>
<table>
<colgroup>
<col style="width: 29%" />
<col style="width: 29%" />
<col style="width: 41%" />
</colgroup>
<thead>
<tr>
<th>Issue</th>
<th>Cause</th>
<th>Solution</th>
</tr>
</thead>
<tbody>
<tr>
<td>CDK bootstrap fails</td>
<td>Missing permissions</td>
<td>Ensure IAM user has AdministratorAccess</td>
</tr>
<tr>
<td>Aurora connection timeout</td>
<td>Security group</td>
<td>Check VPC endpoint and security group rules</td>
</tr>
<tr>
<td>Lambda cold starts</td>
<td>Function size</td>
<td>Enable provisioned concurrency for critical functions</td>
</tr>
<tr>
<td>Cognito auth fails</td>
<td>Pool configuration</td>
<td>Verify callback URLs and client settings</td>
</tr>
</tbody>
</table>
<h3 id="logs">Logs</h3>
<pre class="bash"><code># View Lambda logs
aws logs tail /aws/lambda/Radiant-dev-router --follow

# View ECS logs (LiteLLM)
aws logs tail /ecs/radiant-dev-litellm --follow</code></pre>
<h2 id="cleanup">Cleanup</h2>
<p>To destroy all resources:</p>
<pre class="bash"><code>cd packages/infrastructure
npx cdk destroy --all --context environment=dev --context tier=1</code></pre>
<p><strong>Warning:</strong> This will delete all data including databases. Export data before destroying.</p>
<h2 id="cicd-pipeline">CI/CD Pipeline</h2>
<p>RADIANT includes a GitHub Actions CI/CD pipeline:</p>
<h3 id="workflow-stages">Workflow Stages</h3>
<table>
<thead>
<tr>
<th>Stage</th>
<th>Trigger</th>
<th>Actions</th>
</tr>
</thead>
<tbody>
<tr>
<td>Lint</td>
<td>All PRs</td>
<td>ESLint, TypeScript check</td>
</tr>
<tr>
<td>Build</td>
<td>All PRs</td>
<td>Build shared, infrastructure, dashboard</td>
</tr>
<tr>
<td>Test</td>
<td>All PRs</td>
<td>Unit tests, coverage report</td>
</tr>
<tr>
<td>CDK Synth</td>
<td>All PRs</td>
<td>Validate CDK templates</td>
</tr>
<tr>
<td>Deploy Dev</td>
<td>Merge to develop</td>
<td>Auto-deploy to dev</td>
</tr>
<tr>
<td>Deploy Prod</td>
<td>Merge to main</td>
<td>Deploy with approval</td>
</tr>
</tbody>
</table>
<h3 id="pre-commit-hooks">Pre-commit Hooks</h3>
<p>Pre-commit hooks run automatically via Husky:</p>
<pre class="bash"><code># Hooks run on every commit:
- lint-staged (ESLint, Prettier)
- Secret detection
- Version bump enforcement
- Discrete validation</code></pre>
<p>To bypass (not recommended):</p>
<pre class="bash"><code>git commit --no-verify -m &quot;message&quot;</code></pre>
<h3 id="manual-deployment-from-ci">Manual Deployment from CI</h3>
<pre class="bash"><code># Trigger deployment workflow
gh workflow run deploy.yml -f environment=staging -f tier=2</code></pre>
<h2 id="testing-before-deployment">Testing Before Deployment</h2>
<p>Always run tests before deploying:</p>
<pre class="bash"><code># Run all tests
pnpm test

# Run E2E tests
cd apps/admin-dashboard &amp;&amp; pnpm test:e2e

# Run CDK synthesis (validates templates)
cd packages/infrastructure &amp;&amp; npx cdk synth</code></pre>
<p>See <a href="TESTING.md">Testing Guide</a> for comprehensive testing information.</p>
<h2 id="support">Support</h2>
<p>For issues, check: 1. CloudWatch Logs for error details 2. CDK diff to verify expected changes 3. AWS Console for resource status 4. <a href="TROUBLESHOOTING.md">Troubleshooting Guide</a> 5. <a href="ERROR_CODES.md">Error Codes Reference</a></p>

  
  <div class="footer">
    RADIANT Documentation | Version 5.52.29 | Generated January 25, 2026
  </div>
</body>
</html>