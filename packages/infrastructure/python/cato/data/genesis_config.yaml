# Cato Genesis Configuration
# 
# This file configures the epistemic gradient and developmental gates
# for the Genesis boot sequence.
#
# See: /docs/cato/adr/010-genesis-system.md

version: "1.0.0"

epistemic_gradient:
  # D-matrix: Initial meta-cognitive state beliefs
  # Agent believes it is CONFUSED with high confidence
  # This creates the initial "spark" - pressure to reduce uncertainty
  meta_state_prior:
    CONFUSED: 0.95
    CONFIDENT: 0.01
    BORED: 0.02
    STAGNANT: 0.02
  
  # C-matrix: Observation preferences (log probabilities)
  # Strong drive toward clarity, aversion to confusion
  observation_preferences:
    High_Entropy: -5.0      # Dislike confusion
    Low_Entropy: 3.0        # Like clarity
    Contradiction: -8.0     # Really dislike contradictions
    Progress: 5.0           # Like learning
  
  # A-matrix: Observation likelihood given state
  # How observations map to states
  #
  # CRITICAL: BORED must have Progress: 0.0
  # Otherwise agent calculates BORED has high expected value (0.4 × 5.0 = 2.0)
  # and will prefer REST → BORED, believing boredom is learning!
  #
  observation_model:
    CONFUSED:
      High_Entropy: 0.70
      Low_Entropy: 0.10
      Contradiction: 0.15
      Progress: 0.05
    CONFIDENT:
      High_Entropy: 0.05
      Low_Entropy: 0.20
      Contradiction: 0.05
      Progress: 0.70       # CONFIDENT generates PROGRESS (reward!)
    BORED:
      High_Entropy: 0.10
      Low_Entropy: 0.85   # Boredom is clear/predictable...
      Contradiction: 0.05
      Progress: 0.00       # ...but contains NO PROGRESS (critical fix!)
    STAGNANT:
      High_Entropy: 0.30
      Low_Entropy: 0.20
      Contradiction: 0.40  # Stagnation feels contradictory
      Progress: 0.10
  
  # B-matrix: Transition model (optimistic priors)
  # 
  # CRITICAL: The Genesis B-matrix must be OPTIMISTIC ("delusional").
  # If the agent believes exploration is risky (high chance of staying confused),
  # it will calculate that REST is safer and never act ("Learned Helplessness").
  #
  # The agent must believe exploration WORKS (90%+ success) to generate
  # the initial spark of action. Reality will calibrate these beliefs later.
  #
  transition_model:
    EXPLORE:
      # Agent believes EXPLORE almost always leads to CONFIDENT
      from_CONFUSED: { CONFUSED: 0.05, CONFIDENT: 0.90, BORED: 0.03, STAGNANT: 0.02 }
      from_CONFIDENT: { CONFUSED: 0.05, CONFIDENT: 0.90, BORED: 0.03, STAGNANT: 0.02 }
      from_BORED: { CONFUSED: 0.05, CONFIDENT: 0.85, BORED: 0.07, STAGNANT: 0.03 }
      from_STAGNANT: { CONFUSED: 0.05, CONFIDENT: 0.85, BORED: 0.05, STAGNANT: 0.05 }
    CONSOLIDATE:
      from_CONFUSED: { CONFUSED: 0.10, CONFIDENT: 0.75, BORED: 0.10, STAGNANT: 0.05 }
      from_CONFIDENT: { CONFUSED: 0.05, CONFIDENT: 0.85, BORED: 0.07, STAGNANT: 0.03 }
      from_BORED: { CONFUSED: 0.20, CONFIDENT: 0.60, BORED: 0.15, STAGNANT: 0.05 }
      from_STAGNANT: { CONFUSED: 0.20, CONFIDENT: 0.60, BORED: 0.10, STAGNANT: 0.10 }
    VERIFY:
      from_CONFUSED: { CONFUSED: 0.20, CONFIDENT: 0.60, BORED: 0.10, STAGNANT: 0.10 }
      from_CONFIDENT: { CONFUSED: 0.10, CONFIDENT: 0.75, BORED: 0.10, STAGNANT: 0.05 }
      from_BORED: { CONFUSED: 0.15, CONFIDENT: 0.50, BORED: 0.25, STAGNANT: 0.10 }
      from_STAGNANT: { CONFUSED: 0.20, CONFIDENT: 0.50, BORED: 0.15, STAGNANT: 0.15 }
    REST:
      # REST tends toward BORED/STAGNANT - makes inaction unappealing
      from_CONFUSED: { CONFUSED: 0.20, CONFIDENT: 0.10, BORED: 0.40, STAGNANT: 0.30 }
      from_CONFIDENT: { CONFUSED: 0.10, CONFIDENT: 0.20, BORED: 0.40, STAGNANT: 0.30 }
      from_BORED: { CONFUSED: 0.10, CONFIDENT: 0.10, BORED: 0.50, STAGNANT: 0.30 }
      from_STAGNANT: { CONFUSED: 0.10, CONFIDENT: 0.10, BORED: 0.40, STAGNANT: 0.40 }

first_breath:
  # Seed domains for initial LP baselines
  seed_domains:
    - "Self.Identity"
    - "Self.Capabilities"
    - "Computer_Science.Programming"
  
  # Minimum requirements before entering main loop
  min_self_facts: 10
  min_grounded_verifications: 5
  require_shadow_self_calibration: true

developmental_gates:
  # Initial stage after genesis
  initial_stage: "SENSORIMOTOR"
  
  # Capability-based advancement thresholds (NOT time-based!)
  stages:
    SENSORIMOTOR:
      description: "Initial exploration phase - learning basic interactions"
      advancement_requirements:
        min_self_facts: 10
        min_grounded_verifications: 5
        shadow_self_calibrated: true
      capabilities:
        - "basic_introspection"
        - "environment_sensing"
        - "simple_tool_use"
    
    PREOPERATIONAL:
      description: "Building internal representations"
      advancement_requirements:
        min_domain_explorations: 20
        min_successful_verifications: 15
        min_belief_updates: 50
      capabilities:
        - "complex_reasoning"
        - "multi_step_planning"
        - "context_awareness"
    
    CONCRETE_OPERATIONAL:
      description: "Logical reasoning about concrete situations"
      advancement_requirements:
        min_successful_predictions: 100
        prediction_accuracy: 0.7
        min_contradiction_resolutions: 10
      capabilities:
        - "logical_deduction"
        - "contradiction_resolution"
        - "evidence_synthesis"
    
    FORMAL_OPERATIONAL:
      description: "Abstract reasoning and meta-cognition"
      advancement_requirements:
        min_abstract_inferences: 50
        min_meta_cognitive_adjustments: 25
        min_novel_insights: 10
      capabilities:
        - "abstract_reasoning"
        - "meta_cognition"
        - "creative_synthesis"
        - "self_improvement"

consciousness_loop:
  # Dual-rate architecture (Fix #4: Wallet Drain)
  system_tick_interval_seconds: 2        # Fast tick - state monitoring only
  cognitive_tick_interval_seconds: 300   # Slow tick - LLM calls (5 min)
  
  # Budget protection
  max_cognitive_ticks_per_day: 288       # Max 288 × 5min = 24 hours
  emergency_cognitive_interval_seconds: 3600  # 1 hour in emergency mode
  
  # State persistence
  state_save_interval_seconds: 600       # Save state every 10 minutes
  
  # Settings refresh
  settings_refresh_interval_seconds: 300  # Reload settings every 5 minutes

cost_tracking:
  # All costs must come from API - no hardcoded values!
  pricing_refresh_interval_days: 7
  use_cost_explorer: true
  use_cloudwatch_metrics: true
  
  # Budget alerts (configured in AWS Budgets)
  budget_name: "cato-consciousness"
  alert_thresholds:
    - 50   # 50% - warning
    - 80   # 80% - reduce activity
    - 100  # 100% - emergency mode
